"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1331],{37573:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(45187),i=n(9082),o=n(61850);function a(e){var t=e.filePath,n=e.replId,a=(0,r.gs8)({variables:{replId:n}}).data,c=(0,o.Z)("flag-codex-java"),s=(0,i.eC)(t,c);return"Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.hasExplainCode&&s}},26496:function(e,t,n){n.d(t,{Wo:function(){return G},D2:function(){return U},JJ:function(){return z},ZP:function(){return K},s3:function(){return V}});var r=n(92809),i=n(67294),o=n(82457),a=n(223),c=n(49512),s=n(41371),l=n(10277),u=n(5537),d=n(11387),f=n(92362),p=n(15732),h=n(96622),m=n(35944);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=n(76267);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=n(76642),k=n(14900),Z=n(30281),j=n(47655),E=n(74832);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,P=n(44064),N=n(36152),T=n(79056),_=n(91674),I=n(90470),D=n(15644),R=n(10257),A=n(11069),B=n(70565),L=n(38708),X=n(82490),F=n(68047),M=n(41678);function H(e){var t=e.view,n=e.metadata,r=e.closeMenu,s=n.text,l=n.icon,u=i.useRef(!1),d=i.useState(!1),f=(0,T.Z)(d,2),p=f[0],h=f[1],g=i.useState(null),b=(0,T.Z)(g,2),v=b[0],x=b[1],y=(0,R.Z)().fs,w=(0,F.Z)(),k=(0,I.Z)(w||"");return i.useEffect((function(){if(k&&w&&p&&!u.current&&t){var e=t.state,n=e.selection.main,r={start:(0,M.s)(e.doc,n.from),end:(0,M.s)(e.doc,n.to)};u.current=!0,k.request.codeActions(w,r).then((function(e){if("error"in e)throw u.current=!1,new Error("Something went wrong fetching code actions: ".concat(e.error.message));null!==e.result&&0!==e.result.length?x(e.result):x([])}))}}),[k,p,w,v,t]),(0,m.BX)(c.Z,{tag:"li",onClick:function(e){e.stopPropagation(),h((function(e){return!e}))},children:[(0,m.BX)(c.Z,{css:[Z.gU.listItem,o.l0.p(8),o.l0.flex.row,o.l0.align.center,"",""],children:[l,(0,m.tZ)(c.Z,{css:[o.l0.pl(8),"",""],children:(0,m.tZ)(a.x,{children:s})}),(0,m.tZ)(c.Z,{css:[o.l0.position.absolute,o.l0.right(4),"",""],children:(0,m.tZ)(B.Z,{alt:"Toggle Code Actions",tooltipHidden:!0,onClick:function(){return h((function(e){return!e}))},children:(0,m.tZ)(X.Z,{rotate:p?90:0,style:{transition:"200ms ease"}})})})]}),p&&!v?(0,m.BX)(c.Z,{css:[o.l0.p(8),o.l0.flex.row,o.l0.align.center,"",""],children:[(0,m.tZ)(a.x,{color:"dimmer",children:"Loading actions..."}),(0,m.tZ)(c.Z,{css:[o.l0.align.center,o.l0.justify.center,o.l0.position.absolute,o.l0.right(4),o.l0.width(24),o.l0.height(24),"",""],children:(0,m.tZ)(A.Z,{})})]}):null,p&&v&&k?(0,m.BX)(c.Z,{tag:"ul",children:[v.map((function(e,t){return(0,m.tZ)(c.Z,{tag:"li",onClick:function(t){if(t.stopPropagation(),_.mY.is(e))return k.request.executeCommand(e.command,e.arguments),void r();var n=e.edit,i=e.command;n&&(0,D.w)({edit:n,fs:y,client:k}),i&&k.request.executeCommand(i.command,i.arguments),r()},children:(0,m.tZ)(c.Z,{css:[Z.gU.listItem,o.l0.p(8),o.l0.flex.row,o.l0.align.center,""],children:(0,m.BX)(c.Z,{css:[o.l0.flex.row,o.l0.justify.spaceBetween,o.l0.width("100%"),""],children:[(0,m.tZ)(a.x,{css:[o.l0.maxWidth("90%"),""],children:e.title}),(0,m.tZ)(c.Z,{tag:"span",children:(0,m.tZ)(L.Z,{size:12})})]})})},t)})),0===v.length?(0,m.tZ)(c.Z,{css:[o.l0.p(8),o.l0.flex.row,o.l0.align.center,"",""],children:(0,m.tZ)(a.x,{color:"dimmer",children:"No actions available"})}):null]}):null]})}var U,z="Divider";!function(e){e.Cut="Cut",e.Copy="Copy",e.Paste="Paste",e.JumpToDefinition="JumpToDefinition",e.JumpToTypeDefinition="JumpToTypeDefinition",e.JumpToImplementation="JumpToImplementation",e.FindReferences="FindReferences",e.Rename="Rename",e.CodeActions="CodeActions",e.CopyLinkToPos="CopyLinkToPos",e.AddBreakpoint="AddBreakpoint",e.RemoveBreakpoint="RemoveBreakpoint",e.StartThread="StartThread",e.ExplainCode="ExplainCode"}(U||(U={}));var G=(S={},(0,r.Z)(S,U.Cut,{text:"Cut",icon:(0,m.tZ)((function(e){return(0,m.tZ)(h.Z,b(b({},e),{},{children:(0,m.tZ)("path",{d:"M15 17L6 2M9 17L10.5 14.5M13.8 9L18 2M10 19.5C10 20.8807 8.88071 22 7.5 22C6.11929 22 5 20.8807 5 19.5C5 18.1193 6.11929 17 7.5 17C8.88071 17 10 18.1193 10 19.5ZM19 19.5C19 20.8807 17.8807 22 16.5 22C15.1193 22 14 20.8807 14 19.5C14 18.1193 15.1193 17 16.5 17C17.8807 17 19 18.1193 19 19.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"X"}}),(0,r.Z)(S,U.Copy,{text:"Copy",icon:(0,m.tZ)(v.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"C"}}),(0,r.Z)(S,U.Paste,{text:"Paste",icon:(0,m.tZ)((function(e){return(0,m.tZ)(h.Z,y(y({},e),{},{children:(0,m.tZ)("path",{d:"M16 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H8M9 2H15C15.5523 2 16 2.44772 16 3V5C16 5.55228 15.5523 6 15 6H9C8.44772 6 8 5.55228 8 5V3C8 2.44772 8.44772 2 9 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"V"}}),(0,r.Z)(S,U.JumpToDefinition,{text:"Jump to definition",icon:(0,m.tZ)(w.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"F12"}}),(0,r.Z)(S,U.JumpToTypeDefinition,{text:"Jump to type definition",icon:(0,m.tZ)(P.Z,{})}),(0,r.Z)(S,U.JumpToImplementation,{text:"Jump to implementation",icon:(0,m.tZ)(N.Z,{})}),(0,r.Z)(S,U.FindReferences,{text:"Find references",icon:(0,m.tZ)(l.Z,{}),keyboardShortcut:{shiftKey:!0,key:"F12"}}),(0,r.Z)(S,U.Rename,{text:"Rename all occurrences",icon:(0,m.tZ)(u.Z,{}),keyboardShortcut:{key:"F2"}}),(0,r.Z)(S,U.CodeActions,{text:"Code actions",icon:(0,m.tZ)((function(e){return(0,m.tZ)(h.Z,C(C({},e),{},{children:(0,m.tZ)("path",{d:"M9 19H15M10 22H14M6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C18 11.5 15 12 15 16H9C9 12 6 11.5 6 8Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{})}),(0,r.Z)(S,U.CopyLinkToPos,{text:"Copy link to position",icon:(0,m.tZ)(d.Z,{})}),(0,r.Z)(S,U.AddBreakpoint,{text:"Add breakpoint",icon:(0,m.tZ)(f.Z,{})}),(0,r.Z)(S,U.RemoveBreakpoint,{text:"Remove breakpoint",icon:(0,m.tZ)(f.Z,{})}),(0,r.Z)(S,U.StartThread,{text:"Start thread",icon:(0,m.tZ)(p.Z,{}),keyboardShortcut:{key:"/",cmdOrCtrlKey:!0,shiftKey:!0}}),(0,r.Z)(S,U.ExplainCode,{text:"Explain Code",icon:(0,m.tZ)(E.Z,{})}),S);function V(e){return e===z}var W={name:"2j46dr",styles:"border-bottom:1px solid var(--background-highest)"};function K(e){var t=e.view,n=e.coords,r=e.closeMenu,i=e.actions,a=e.onAction,l=(0,s.Z)(r,[]);return(0,m.tZ)(k.Z,{innerRef:l,background:"higher",css:[o.l0.position.fixed,o.l0.flex.column,o.l0.justify.center,o.l0.borderRadius(8),o.l0.shadow(1),o.l0.width(275),o.l0.zIndex(101),{border:"1px solid ".concat(o.TV.outlineDimmest)},{left:n.x,top:n.y},"",""],children:(0,m.tZ)(c.Z,{tag:"ul",children:i.map((function(e,n){return V(e)?(0,m.tZ)(c.Z,{css:W},n):e===U.CodeActions?(0,m.tZ)(H,{view:t,closeMenu:r,metadata:G[e]}):(0,m.tZ)(c.Z,{tag:"li",onClick:function(t){t.stopPropagation(),a(e),r()},children:(0,m.tZ)(q,{item:e,isFirst:0===n,isLast:n===i.length-1})},e)}))})})}function q(e){var t=e.item,n=e.isFirst,r=e.isLast,i=G[t],s=i.text,l=i.icon,u=i.keyboardShortcut;return(0,m.BX)(c.Z,{css:[Z.gU.listItem,o.l0.p(8),o.l0.flex.row,o.l0.align.center,n&&{borderTopLeftRadius:4,borderTopRightRadius:4},r&&{borderBottomLeftRadius:4,borderBottomRightRadius:4},"",""],children:[l,(0,m.tZ)(c.Z,{css:[o.l0.pl(8),"",""],children:(0,m.tZ)(a.x,{children:s})}),u?(0,m.tZ)(c.Z,{css:[o.l0.position.absolute,o.l0.right(4),"",""],children:(0,m.tZ)(j.Z,{shortcut:u,small:!0,hideBorder:!0})}):null]})}},91242:function(e,t,n){n.d(t,{Vw:function(){return j},u5:function(){return E},dp:function(){return O}});var r=n(79056),i=n(65988),o=n(67294),a=n(24561),c=n(47385),s=n(60461),l=n(94184),u=n.n(l),d=n(29737),f=n(49449),p=n(49512),h=n(82457),m=n(70565),g=n(21497),b=n(223),v=n(51966),x=n(78277),y=n(41678),w=n(35944);function k(e){var t=e.height,n=e.loading;return(0,w.BX)("div",{className:i.default.dynamic([["2854250681",[t]]])+" "+(u()("loader",{loading:n})||""),children:[(0,w.BX)(a.ZP,{viewBox:"0 0 100 36",primaryColor:"var(--background-highest)",secondaryColor:"var(--background-higher)",children:[(0,w.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"4",height:"4",className:i.default.dynamic([["2854250681",[t]]])}),(0,w.tZ)("rect",{x:"6",y:"0",rx:"2",ry:"2",width:"92",height:"4",className:i.default.dynamic([["2854250681",[t]]])})]}),(0,w.tZ)(i.default,{id:"2854250681",dynamic:[t],children:[".loader.__jsx-style-dynamic-selector{padding:var(--space-8);display:none;}",".loader.loading.__jsx-style-dynamic-selector{height:".concat(t,";display:block;}")]})]})}function Z(e){var t=e.maxHeight,n=e.minHeight,a=e.extensions,s=void 0===a?[]:a,l=e.allowScroll,f=void 0===l||l,p=e.fontSize,h=e.hideGutter,m=e.path,g=e.snippet,b=e.style,v=e.onNavigateToCode,Z=(0,c.Z)({hideGutter:h,filePath:m,fontSize:p,readOnly:!0}),j=Z.view,E=Z.ref,O=o.useState(!1),C=(0,r.Z)(O,2),S=C[0],P=C[1],N=(0,x.Z)({view:j});return o.useEffect((function(){if(j&&g&&m){var e="lines"in g?g.lines.join("\n"):g.doc;return j.dispatch({changes:{from:0,to:j.state.doc.length,insert:e},effects:N.reconfigure([(0,d.Eu)({formatNumber:function(e){return String(e+g.startLineNumber-1)}}),s])}),P(!0),function(){j.dispatch({effects:N.reconfigure([])})}}}),[j,g,m,s,N]),(0,w.BX)("div",{style:b,className:i.default.dynamic([["3710110947",[t||"10em",n]]]),children:[(0,w.tZ)("div",{ref:E,onClick:function(e){if(v&&j){var t=e.clientX,n=e.clientY,r=j.posAtCoords({x:t,y:n}),i=null!==r?(0,y.s)(j.state.doc,r):null;v(i)}},className:i.default.dynamic([["3710110947",[t||"10em",n]]])+" "+(u()("snippet-editor",{"no-scroll":!f,loading:!S})||"")}),(0,w.tZ)(k,{loading:!S,height:t}),(0,w.tZ)(i.default,{id:"3710110947",dynamic:[t||"10em",n],children:[".snippet-editor.__jsx-style-dynamic-selector .cm-scroller{max-height:".concat(t||"10em",";min-height:").concat(n,";-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;outline:none;}"),".snippet-editor.__jsx-style-dynamic-selector .cm-content{padding-bottom:0;}",".snippet-editor.loading.__jsx-style-dynamic-selector{display:none;}",".snippet-editor.no-scroll.__jsx-style-dynamic-selector .cm-scroller{overflow:hidden;}",".snippet-editor.__jsx-style-dynamic-selector ::-webkit-scrollbar{width:4px;}",".snippet-editor.__jsx-style-dynamic-selector .cm-gutters{min-width:unset;}"]})]})}function j(e){var t=e.path,n=e.doc,i=e.extensions,a=void 0===i?[]:i,c=e.numMatches,s=e.onNavigateToCode,l=e.initiallyExpanded,u=o.useState(l),d=(0,r.Z)(u,2),x=d[0],y=d[1],k=x?"block":"none",j=x?180:0,E=x?"Collapse snippet":"Expand snippet";return(0,w.BX)(p.Z,{children:[(0,w.BX)(p.Z,{css:[h.l0.flex.row,h.l0.p(4),"justify-content:space-between;",""],children:[(0,w.BX)(p.Z,{css:[h.l0.rowWithGap(8),h.l0.center,h.l0.p(4),"",""],children:[(0,w.tZ)(f.Z,{path:t}),(0,w.tZ)(b.x,{children:t}),(0,w.tZ)(b.x,{color:"dimmest",children:(0,v.Z)("match",c,!0)})]}),(0,w.tZ)(m.Z,{alt:E,tooltipHidden:!0,onClick:function(){return y((function(e){return!e}))},children:(0,w.tZ)(g.Z,{rotate:j,style:{transition:"200ms ease"}})})]}),(0,w.tZ)(p.Z,{css:[h.l0.p(4),{display:k},"",""],children:(0,w.tZ)(Z,{path:t,snippet:{doc:n,startLineNumber:1},extensions:a,maxHeight:"max-content",allowScroll:!0,hideGutter:!0,onNavigateToCode:s})})]})}function E(e){var t=e.path,n=e.snippet,r=e.maxHeight,o=e.minHeight,a=e.extensions,c=void 0===a?[]:a,s=e.allowScroll,l=void 0===s||s,u=e.onNavigateToCode,d=function(e){if(!e)return"";var t="lines"in e?e.lines.length:e.doc.lines;return(0,v.Z)("line",t,!0)}(n);return(0,w.BX)("div",{className:"jsx-2514440294 snippet-container",children:[(0,w.BX)("div",{className:"jsx-2514440294 snippet-header",children:[(0,w.BX)("div",{className:"jsx-2514440294 path-container",children:[(0,w.tZ)("span",{className:"jsx-2514440294 lang-icon",children:(0,w.tZ)(f.Z,{path:t,fill:"var(--accent-primary-default)"})}),(0,w.tZ)("span",{className:"jsx-2514440294 path",children:t}),(0,w.BX)("span",{className:"jsx-2514440294 lines",children:["  ","\u2022 ",d]})]}),(0,w.tZ)("div",{onClick:u,className:"jsx-2514440294 jump-to-code",children:"Jump to code"})]}),(0,w.tZ)(Z,{path:t,fontSize:12,snippet:n,maxHeight:r||"54pt",minHeight:o,extensions:c,allowScroll:l}),(0,w.tZ)(i.default,{id:"2514440294",children:[".snippet-container.jsx-2514440294{display:grid;border:1px solid var(--background-higher);border-radius:var(--border-radius-4);grid-gap:var(--space-4);}",".snippet-header.jsx-2514440294{display:grid;grid-auto-flow:column;grid-template-columns:1fr max-content;padding:var(--space-4);grid-gap:var(--space-8);}",".path-container.jsx-2514440294{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}",".lang-icon.jsx-2514440294{width:20px;height:20px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".path.jsx-2514440294{font-size:var(--font-size-small);color:var(--accent-primary-default);overflow:hidden;text-overflow:ellipsis;}",".lines.jsx-2514440294{font-size:var(--font-size-small);color:var(--accent-primary-dimmer);white-space:pre;}",".jump-to-code.jsx-2514440294{font-size:var(--font-size-small);color:var(--accent-primary-default);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}function O(e){var t=e.extensions,n=void 0===t?[]:t,r=e.timeString,o=e.message,a=e.onClick,c=e.snippet,l=e.avatar,u=e.path;return(0,w.BX)("div",{onClick:a,className:"jsx-4117206914 snippet-container",children:[(0,w.tZ)(Z,{path:u,snippet:c,fontSize:12,maxHeight:"36pt",minHeight:"36pt",allowScroll:!1,style:{opacity:.7},extensions:n}),(0,w.BX)("div",{className:"jsx-4117206914 snippet-first-message",children:[l?(0,w.tZ)(s.Z,{src:l.src,size:24,alt:"".concat(l.alt,"'s avatar")}):(0,w.tZ)("div",{className:"jsx-4117206914"}),(0,w.tZ)("div",{className:"jsx-4117206914 text",children:o}),(0,w.tZ)("div",{className:"jsx-4117206914 time",children:r})]}),(0,w.tZ)(i.default,{id:"4117206914",children:[".snippet-container.jsx-4117206914{display:grid;border:1px solid var(--outline-dimmest);border-radius:var(--border-radius-8);overflow:hidden;grid-gap:var(--space-4);max-width:100%;cursor:pointer;-webkit-transition:-webkit-transform 0.1s ease-in-out;-webkit-transition:transform 0.1s ease-in-out;transition:transform 0.1s ease-in-out;}",".snippet-container.jsx-4117206914:hover{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".snippet-first-message.jsx-4117206914{border-top:1px solid var(--outline-dimmest);font-size:var(--font-size-default);background:var(--background-root);color:var(--foreground-default);padding:var(--space-8);display:grid;grid-auto-flow:column;grid-template-columns:min-content 1fr max-content;grid-gap:var(--space-8);-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".text.jsx-4117206914{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}",".time.jsx-4117206914{font-size:var(--font-size-small);}"]})]})}},11111:function(e,t,n){var r=n(92809),i=n(159),o=n(65988),a=n(35944);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=(0,i.Z)({},e);return(0,a.BX)(a.HY,{children:[(0,a.tZ)(o.default,{id:"4057640604",children:[".one.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0s;animation-delay:0s;}",".two.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.1s;animation-delay:0.1s;}",".three.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.2s;animation-delay:0.2s;}","@-webkit-keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}","@keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}"]}),(0,a.tZ)("span",s(s({},t),{},{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"one"),children:"."})),(0,a.tZ)("span",s(s({},t),{},{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"two"),children:"."})),(0,a.tZ)("span",s(s({},t),{},{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"three"),children:"."}))]})}},60907:function(e,t,n){var r=n(65988),i=n(67294),o=n(85893);t.Z=function(){return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(r.default,{id:"2727570059",children:["body .Select{font-size:16px;}","body .Select-control{color:var(--foreground-default) !important;background-color:var(--background-default) !important;border:1px solid var(--foreground-dimmest) !important;border-radius:var(--border-radius-4) !important;-webkit-transition:all 0.1s;transition:all 0.1s;}","body .Select-control:hover{border-color:var(--foreground-default) !important;}","body .Select.is-focused .Select-control,body .Select.is-open .Select-control{border-color:var(--foreground-dimmer) !important;}","body .Select.is-focused.is-open .Select-control{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important;}","body .Select-control .Select-value{height:38px !important;background-color:var(--background-default) !important;color:var(--foreground-default) !important;cursor:pointer;}","body .Select.is-open .Select-value,body .Select.is-focused .Select-value{background-color:var(--background-default) !important;}","body .Select .Select-control .Select-placeholder{color:var(--foreground-dimmest) !important;}","body .Select-menu-outer{border:1px solid var(--foreground-dimmer) !important;border-top:0 none !important;border-bottom-left-radius:var(--border-radius-4) !important;border-bottom-right-radius:var(--border-radius-4) !important;background-color:var(--background-root) !important;}","body .Select-value-label{color:var(--foreground-default) !important;}","body .Select-option{color:var(--foreground-default) !important;background-color:var(--background-default) !important;}","body .Select-option.is-disabled{color:var(--foreground-dimmest) !important;}","body .Select .Select-option.is-focused{background-color:var(--accent-primary-dimmest) !important;color:var(--foreground-default) !important;}","body .Select .Select-option.is-selected{background-color:var(--accent-primary-dimmer) !important;}","body .Select-input input{color:var(--foreground-default) !important;}"]})})}},24541:function(e,t,n){var r=n(97131),i=n(30266),o=n(79056),a=n(65988),c=n(809),s=n.n(c),l=n(67294),u=n(10257),d=n(50361),f=n(25400),p=n(24243),h=n(82100),m=n(7977),g=n.n(m),b=n(92937),v=n(51444),x=n(38934),y=n(84647),w=n(45631),k=n(70565),Z=n(90470),j=n(8686),E=n(35944);var O=function(){return(0,E.BX)("div",{className:"jsx-2905170445 file-header-format-button",children:[(0,E.tZ)("div",{className:"jsx-2905170445 file-header-format-icon",children:(0,E.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.581 16.428",className:"jsx-2905170445",children:[(0,E.tZ)("path",{d:"M13.26.747H3.323A2.569,2.569,0,0,0,.754,3.316h0v9.795a2.569,2.569,0,0,0,2.568,2.57h9.937a2.569,2.569,0,0,0,2.569-2.569h0V3.316A2.569,2.569,0,0,0,13.26.747Z",className:"jsx-2905170445 cls-1"}),(0,E.tZ)("path",{d:"M13.118,11.269a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.759-.759V11.23a.671.671,0,0,1,.689-.653l.07.006h8.438a.671.671,0,0,1,.753.578.7.7,0,0,1,.006.069ZM3.161,5.111V5.073a.759.759,0,0,1,.759-.759h8.439a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.76-.758ZM3.148,8.2a.759.759,0,0,1,.758-.76H8.4a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.907a.759.759,0,0,1-.759-.759Z",className:"jsx-2905170445 cls-2"})]})}),(0,E.tZ)(a.default,{id:"598104203",children:[".file-header-format-button.jsx-2905170445 .cls-1{fill:var(--foreground-default);}",".file-header-format-button.jsx-2905170445 .cls-2{fill:var(--background-default);}"]}),(0,E.tZ)(a.default,{id:"1892131279",children:[".file-header-format-button.jsx-2905170445{padding:0 10px;height:100%;width:".concat(36,"px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;opacity:0.7;}"),".file-header-format-button.jsx-2905170445:hover{opacity:1;}",".file-header-format-icon.jsx-2905170445{height:16px;width:16px;cursor:pointer;}"]})]})};function C(e){var t=e.filePath,n=e.replLanguage,r=(0,u.Z)(),a=r.fs,c=r.container,h=(0,d.Z)({container:c,service:"format",skip:!g().supportsFormatting(n)}).channel,m=l.useState(!1),b=(0,o.Z)(m,2),x=b[0],y=b[1],w=(0,v.Z)().showError,k=function(){return y(!1)};return l.useEffect((function(){if(x&&h){var e=!1,n=[],r=a.watchOtFile(t,{onReady:function(e){!function(e,t){o.apply(this,arguments)}(e.initialContent,e.writeOps)},onChange:function(e){var t=e.ops;n=f.qC(t,n)},onError:function(){k()},onMoveOrDelete:function(){k()}});return function(){e=!0,r()}}function o(){return(o=(0,i.Z)(s().mark((function r(i,o){var a,c,l,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e&&h){r.next=2;break}return r.abrupt("return");case 2:if(0!==i.length){r.next=5;break}return k(),r.abrupt("return");case 5:return r.next=7,h.request({file:{path:t,content:i.toBuffer()}});case 7:if(a=r.sent,!e){r.next=10;break}return r.abrupt("return");case 10:if(!a.error&&a.file){r.next=14;break}return w("Failed to format ".concat(t),1500),k(),r.abrupt("return");case 14:if(0!==(c=p.Z.from(a.file.content)).length){r.next=18;break}return k(),r.abrupt("return");case 18:if(0!==(l=f.sQ(i.toString(),c.toString())).length){r.next=22;break}return k(),r.abrupt("return");case 22:if(0!==(u=n.length>0?f.vs(l,n,"left"):l).length){r.next=26;break}return k(),r.abrupt("return");case 26:o(u),k();case 28:case"end":return r.stop()}}),r)})))).apply(this,arguments)}}),[h,t,a,x,w]),l.useEffect(k,[t]),g().supportsFormatting(n)?null:function(){return y(!0)}}var S=["ocaml","reason"];function P(e){var t=e.filePath,n=e.replLanguage,r=e.preferences,i=(0,h.I0)(),o=(0,b.Z)({allowNoWid:!0});return o&&function(e){var t=e.filePath,n=e.replLanguage,r=e.preferences;if(window.monaco)return!S.includes(n)&&(!!["json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc","html","js","jsx","es6","ts","tsx"].includes((0,y.r6)(t))||!(!g().supportsLSP(n)||!r.codeIntelligence))}({filePath:t,replLanguage:n,preferences:r})?function(){return i({type:"MONACO_FORMAT_FILE",wid:o,filePath:t})}:null}var N={name:"qbt5ty",styles:"align-self:center"};t.Z=function(e){var t=e.filePath,n=e.replLanguage,o=(0,w.Z)().preferences,a=C({filePath:t,replLanguage:n}),c=P({filePath:t,replLanguage:n,preferences:o}),d=function(e){var t,n=e.filePath,o=(0,w.Z)().preferences,a=(0,u.Z)().fs,c=(0,Z.Z)(n),d=Boolean(null===c||void 0===c||null===(t=c.getServerCapabilities())||void 0===t?void 0:t.documentFormattingProvider),p=(0,l.useState)([]),h=p[0],m=p[1];return d?function(){if(!h.includes(n)){m((function(e){return[].concat((0,r.Z)(e),[n])}));var e=[],t=function(){l(),m((function(e){return e.filter((function(e){return e!==n}))}))},l=a.watchOtFile(n,{onReady:function(){var r=(0,i.Z)(s().mark((function r(i){var a,l,u,d,p;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=i.initialContent,l=i.writeOps,c){r.next=3;break}throw new Error("LSP client not found");case 3:return r.next=5,c.request.format(n,{insertSpaces:o.indentIsSpaces,tabSize:o.indentSize});case 5:if(!("error"in(u=r.sent))){r.next=9;break}return t(),r.abrupt("return");case 9:if(!u.cancelled){r.next=12;break}return t(),r.abrupt("return");case 12:if(u.result){r.next=15;break}return t(),r.abrupt("return");case 15:if(d=(0,j.Z)(u.result,a.toString()),0!==(p=e.length>0?f.vs(d,e,"left"):d).length){r.next=20;break}return t(),r.abrupt("return");case 20:l(p),t();case 22:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onChange:function(t){var n=t.ops;e=f.qC(n,e)}})}}:null}({filePath:t})||c||a;return(0,y.Mb)(t)&&d?(0,E.tZ)(k.Z,{css:N,alt:"Format source code",onClick:function(){(0,x.track)(x.events.PRETTIERED,{language:n,extension:(0,y.r6)(t)}),d()},children:(0,E.tZ)(O,{})}):null}},11395:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(79056),i=n(65988),o=n(67294),a=n(7977),c=n.n(a),s=n(61850),l=n(38934),u=n(45971),d=n(83995),f=n(92809),p=n(45187),h=n(49512),m=n(82457),g=n(223),b=n(32324),v=n(70917),x=n(27894),y=n(35944);function w(e){var t=e.name,n=e.children,r=e.onClick;return(0,y.BX)(h.Z,{onClick:function(){return r()},css:[m.l0.p(16),m.l0.borderRadius(8),{cursor:"pointer",border:"1px solid transparent",":hover":{borderColor:m.TV.accentPrimaryDefault}},"",""],children:[(0,y.tZ)(g.x,{variant:"subheadBig",css:m.l0.pb(16),children:t}),n]})}var k="@media (min-width: ".concat(b.j.tabletMax,"px)"),Z=(0,v.iv)((0,f.Z)({},k,{width:"50%",flex:"0 0 auto"}),"","");function j(e){var t,n=e.children;return(0,y.tZ)(h.Z,{css:[m.l0.pt(16),m.l0.pb(16),m.l0.pr(8),m.l0.pl(8),(t={},(0,f.Z)(t,k,[m.l0.flex.row,m.l0.p(16)]),(0,f.Z)(t,"color",m.TV.foregroundDefault),t),"",""],children:n})}function E(e){var t=e.mainFile,n=e.examples,r=e.onSelect;return(0,y.BX)(j,{children:[(0,y.tZ)(h.Z,{css:Z,children:n.slice(0,(n.length+1)/2).map((function(e){return(0,y.tZ)(w,{name:e.name,onClick:function(){return r(e)},children:(0,y.tZ)(x.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))}),(0,y.tZ)(h.Z,{css:Z,children:n.slice((n.length+1)/2).map((function(e){return(0,y.tZ)(w,{name:e.name,onClick:function(){return r(e)},children:(0,y.tZ)(x.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))})]})}function O(e){var t=e.replId,n=e.onSelect,r=(0,p.h6q)({variables:{replId:t}}),i=r.data,o=r.loading,a=r.error;if(o)return(0,y.tZ)(j,{children:"Loading..."});if(a)return(0,y.tZ)(j,{children:a.message});var c="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null;if(!c)return null;var s=c.deprecatedLanguageConfig,l=s.mainFile,u=s.examples;return null!==u&&void 0!==u&&u.length?(0,y.tZ)(E,{mainFile:l,examples:u,onSelect:n}):(0,y.tZ)(j,{children:"Sorry, this language doesnt have any examples. Want to add some? Contact us!"})}var C=n(60356),S=n(53291),P=n(39084),N=n(16482);function T(e){var t=e.onRequestClose,n=(0,P.e$)(N.H.Examples),i=(0,P.e$)(N.H.Editor),a=o.useState(!1),c=(0,r.Z)(a,2),s=c[0],l=c[1],u=(0,d.Z)(),f=(0,C.Z)(),p=o.useRef(null===n||void 0===n?void 0:n.isActive),h=o.useRef();h.current=null===n||void 0===n?void 0:n.isActive;var m=o.useRef(null===n||void 0===n?void 0:n.goto);return m.current=null===n||void 0===n?void 0:n.goto,o.useEffect((function(){return function(){var e;h.current&&(null===(e=m.current)||void 0===e||e.call(m,N.H.Editor))}}),[]),o.useEffect((function(){null!==i&&void 0!==i&&i.isActive&&!p.current&&(s?i.goto(N.H.Examples):l(!0))}),[i,t,s]),o.useEffect((function(){null!==n&&void 0!==n&&n.isActive?p.current=!0:p.current&&t()}),[null===n||void 0===n?void 0:n.isActive]),u?(0,y.tZ)("div",{ref:null===n||void 0===n?void 0:n.delegateTooltip,children:(0,y.tZ)(O,{replId:f,onSelect:function(e){u({code:e.code,insertAt:0}),t()}})}):(0,y.tZ)("div",{children:"Please make sure you have a file open"})}var _=function(){var e=(0,S.Z)(),t=o.useState(!1),n=(0,r.Z)(t,2),a=n[0],d=n[1],f=(null===e||void 0===e?void 0:e.language)||"",p=c().getDocs(f),h=(0,s.Z)("flag-editor-community-link"),m=o.useCallback((function(){d(!1)}),[]);return(0,y.BX)("div",{className:"jsx-2081803370 placeholder",children:[(0,y.tZ)(u.Z,{width:"large",isOpen:a,onRequestClose:m,children:(0,y.tZ)(T,{onRequestClose:m})}),"Not sure what to do? Run some"," ",(0,y.tZ)("span",{"data-cy":"ws-editor-examples",onClick:function(){(0,l.track)(l.events.LANGUAGE_EXAMPLES_VIEWED,{language:f}),d(!0)},className:"jsx-2081803370 link",children:"examples"}),p&&(0,y.BX)(y.HY,{children:[", ",h?"":"or ","view"," ",(0,y.tZ)("a",{target:"_blank",href:p,className:"jsx-2081803370 link",children:"documentation"})]}),h&&(0,y.BX)(y.HY,{children:[", or check out some"," ",(0,y.tZ)("a",{target:"_blank",href:"/apps/".concat(f),className:"jsx-2081803370 link",children:"community repls"})]})," ","(start typing to dismiss)",(0,y.tZ)(i.default,{id:"2081803370",children:[".placeholder.jsx-2081803370{font-family:var(--font-family-code);color:var(--foreground-dimmest);}",".link.jsx-2081803370{cursor:pointer;pointer-events:all;color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;}",".link.jsx-2081803370:hover{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})}},15300:function(e,t,n){n.d(t,{Y:function(){return u},F:function(){return d}});var r=n(65988),i=n(67294),o=n(25517),a=n(84476),c=n(53567),s=n(38934),l=n(35944);function u(){return i.useEffect((function(){(0,s.track)(s.events.WS_REPLCO_UNREACHABLE)}),[]),(0,l.BX)("div",{className:"jsx-2441068684 unreachable",children:[(0,l.BX)(c.gC,{align:"center",spacing:4,children:[(0,l.BX)(c.gC,{align:"center",children:[(0,l.tZ)(a.Z,{level:1,children:"\ud83d\ude48"}),(0,l.tZ)(a.Z,{level:4,children:"This repl link isn't broken!"}),(0,l.tZ)(a.Z,{level:4,foreground:2,children:"It's just blocked."})]}),(0,l.BX)(c.gC,{spacing:2,className:"why",children:[(0,l.tZ)(o.Z,{foreground:2,children:"Why this might be happening:"}),(0,l.tZ)(o.Z,{foreground:2,children:(0,l.BX)("ul",{className:"jsx-2441068684",children:[(0,l.BX)("li",{className:"jsx-2441068684",children:["repl.co URLs could be"," ",(0,l.tZ)(o.Z,{fontWeight:"medium",foreground:1,children:"blocked by a firewall,"})," ","so contact your IT administrator"]}),(0,l.BX)("li",{className:"jsx-2441068684",children:["repl.co URLs could be"," ",(0,l.tZ)(o.Z,{fontWeight:"medium",foreground:1,children:"blocked by your ISP,"})," ","so try getting in touch with them"]})]})})]}),(0,l.BX)(o.Z,{foreground:2,align:"center",children:["If you have any other questions, please check out"," ",(0,l.tZ)("a",{href:"https://docs.replit.com/Teams/IT_Toolkit",target:"_blank",rel:"noopener noreferrer",className:"jsx-2441068684",children:"our IT docs"})," ","or email us at"," ",(0,l.tZ)("a",{href:"mailto:contact@replit.com",className:"jsx-2441068684",children:"contact@replit.com"}),"."]})]}),(0,l.tZ)(r.default,{id:"2441068684",children:[".unreachable.jsx-2441068684{padding:var(--space-32);}",".unreachable.jsx-2441068684 ul.jsx-2441068684{list-style-position:inside;}",".unreachable.jsx-2441068684 li.jsx-2441068684{padding-bottom:var(--space-16);}"]})]})}var d=i.createContext(!1)},40447:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(45187);function i(e){var t=e.replId,n=(0,r._Lw)({variables:{replId:t}}).data;return"Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.deprecatedLanguageConfig:null}},13849:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(79056),i=n(67294);function o(){var e=i.useState({}),t=(0,r.Z)(e,2)[1];return i.useCallback((function(){t({})}),[])}},14862:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(11163),i=n(10257),o=n(67294),a=n(56023),c=n(63805),s="You have unsaved changes";function l(){var e=(0,c.isMobile)()&&Boolean(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)),t=(0,i.Z)().fs,n=(0,r.useRouter)(),l=(0,o.useState)(!1),u=l[0],d=l[1],f=function(){if(!window.confirm(s))throw r.default.events.emit("routeChangeError"),r.default.replace(r.default,r.default.asPath),new Error("Abort route change. Please ignore this error.")};(0,o.useEffect)((function(){return d(t.getStatus()===a.kO.Syncing),t.onStatusChange((function(e){d(e===a.kO.Syncing)}))}),[t]),(0,o.useEffect)((function(){if(u)return window.addEventListener("beforeunload",t),e||n.events.on("routeChangeStart",f),function(){window.removeEventListener("beforeunload",t),e||n.events.off("routeChangeStart",f)};function t(e){return e.preventDefault(),e.returnValue=s,s}}),[u,n.events])}},58372:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(79056),i=n(67294),o=n(45187),a=n(85130),c=n(53291),s=n(10257);function l(){var e=(0,o.yuJ)(),t=(0,r.Z)(e,1)[0],n=(0,s.Z)().fs,l=(0,c.Z)(),u=null===l||void 0===l?void 0:l.currentUserPermissions.containerWrite,d=null===l||void 0===l?void 0:l.id;(0,i.useEffect)((function(){if(u&&d){var e=(0,a.Z)((function(){return t({variables:{replId:d}})}),{wait:6e4,maxWait:6e5}),r=n.onStatusChange((function(){e()}));return function(){e.isScheduled()&&e.flush(),r()}}}),[n,d,u,t])}},92937:function(e,t,n){var r=n(67294),i=n(34897);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowNoWid,n=r.useContext(i.Z);if(!n){if(t)return null;throw new Error("Expected wid to be in wid context")}return n}},58327:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(51595),i=n(68047),o=n(60356),a=n(67294),c=n(84647),s=n(10257);function l(e){var t=Boolean(window.performance.getEntriesByName(r.Iy.pageNavStart,"mark").length),n="time to code";window.performance.measure(n,t?r.Iy.pageNavStart:void 0);var i=window.performance.getEntriesByName(n,"measure")[0];if(i){var o="page invisible fetch connection metadata",a=i.duration;if(Boolean(window.performance.getEntriesByName(r.Iy.fetchConnectionMetadataPageInvisibleStart,"mark").length))window.performance.measure(o,r.Iy.fetchConnectionMetadataPageInvisibleStart,r.Iy.fetchConnectionMetadataPageInvisibleEnd),a-=window.performance.getEntriesByName(o,"measure")[0].duration,window.performance.clearMeasures(o),window.performance.clearMarks(r.Iy.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(r.Iy.fetchConnectionMetadataPageInvisibleEnd);r.kg.time("time to code minus page invisible",a,{ssr:!t,workspaceType:e}),r.kg.time("time to code with page invisible",i.duration,{ssr:!t,workspaceType:e}),window.performance.clearMeasures(n)}else r.kg.info("Could not obtain measure for time to code",{workspaceType:e})}var u=new Set;function d(e){var t=e.workspaceType,n=(0,o.Z)(),r=(0,i.Z)(),d=(0,s.Z)().fs;(0,a.useEffect)((function(){var e;if(r&&!u.has(n))return u.add(n),e=(0,c.Mb)(r)?d.watchOtFile(r,{onReady:function(){l(t),e()}}):d.watchFile(r,{onChange:function(){l(t),e()}})}),[r,n,t,d])}},60489:function(e,t,n){n.d(t,{w_:function(){return r},Wi:function(){return i},P3:function(){return o},w$:function(){return a},Nx:function(){return c},Z8:function(){return s},KT:function(){return l},z0:function(){return u},Wy:function(){return d}});var r=48,i="TAB_BAR_SWITCH_TAB",o="TAB_BAR_SET_VIEWS",a="TAB_BAR_UPDATE_TAB",c="TAB_BAR_SHOW_MODAL",s="TAB_BAR_HIDE_MODAL",l="TAB_BAR_SET_MODALS",u="TAB_BAR_SET_TAB_PUDS",d="TAB_BAR_INSERT_TAB"},50361:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(79056),i=n(67294);function o(e){var t=e.container,n=e.service,o=e.name,a=e.skip,c=void 0!==a&&a,s=i.useState({isConnecting:!0,channel:null,error:null,context:null}),l=(0,r.Z)(s,2),u=l[0],d=l[1];return i.useEffect((function(){var e=t.openChannel({service:n,name:o,skip:function(){return c}},(function(e){if(!e.error)return d({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){d({isConnecting:e.willReconnect,channel:null,error:null,context:null})};d({context:e.context,channel:null,error:e.error,isConnecting:!1})}));return function(){e()}}),[t,n,o,c]),u}},85235:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(67294),i=n(10257);function o(){var e=(0,i.Z)().container,t=(0,r.useState)(e.getConnectionState()),n=t[0],o=t[1];return(0,r.useEffect)((function(){return e.onConnectionStateChanged(o)}),[e]),n}},35604:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(68563);function i(){var e=(0,r.Z)();return e?e.color:null}},83995:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(10257),i=n(68047),o=n(67294),a=n(84647);function c(){var e=(0,r.Z)(),t=e.session,n=e.fs,c=(0,i.Z)(),s=(0,o.useCallback)((function(e){var r=e.code,i=e.insertAt,o=e.newLine,s=void 0===o||o;if(!c||(0,a.T3)(c)||(0,a.sL)(c)||(0,a.IQ)(c))throw new Error("Invalid file, this should never happen");if(0!==r.length)var l=n.watchOtFile(c,{onReady:function(e){var o,a=e.initialContent,c=e.writeOps,u=a.toString(),d=t.getCursorPosition().offset;o="end"===i?u.length:"number"===typeof i?i:d;var f=r;s&&(0!==o&&o!==u.length&&-1===(o=u.indexOf("\n",o))&&(o=u.length),0!==o&&"\n"!==u[o-1]&&(f="\n"+f),"\n"!==u[o]&&(f+="\n"));var p=[f];o>0&&p.unshift(o),c(p),n.flush().finally((function(){l()}))}})}),[c,t,n]);return!c||(0,a.T3)(c)||(0,a.sL)(c)?null:s}},60314:function(e,t,n){var r;n.d(t,{z:function(){return r}}),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB",e.Code="CODE"}(r||(r={}))},42750:function(e,t,n){var r=n(92809),i=n(79056),o=n(10219),a=n(65988),c=n(67294),s=n(75299),l=n(18618),u=n(98960),d=n(25517),f=n(53567),p=n(26331),h=n(41649),m=n(6011),g=n(35944),b=["label","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=c.forwardRef((function(e,t){var n,r,v,y=e.label,w=e.description,k=e.onChange,Z=e.fontFamily,j=void 0===Z?"sans-serif":Z,E=e.fontSize,O=void 0===E?"medium":E,C=e.fontWeight,S=void 0===C?"regular":C,P=e.foreground,N=void 0===P?1:P,T=e.placeholder,_=void 0===T?"":T,I=e.validationResults,D=e.value,R=(0,o.Z)(e,b),A=(0,s.Z)().ref,B=c.useState(!1),L=(0,i.Z)(B,2),X=L[0],F=L[1];null!==I&&void 0!==I&&I.some((function(e){return"loading"===e.state}))?n="loading":null!==I&&void 0!==I&&I.some((function(e){return"error"===e.state}))?(n="error",v="var(--accent-negative-default)",r=(0,g.tZ)(l.Z,{})):null!==I&&void 0!==I&&I.every((function(e){return"success"===e.state}))?(n="success",v="var(--accent-positive-default)",r=(0,g.tZ)(u.Z,{})):n="default";var M=h.P3[n],H=(R.className?R.className+" ":"")+M;return(0,g.BX)("div",{className:a.default.dynamic([["1917231206",[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]]]])+" container",children:[y&&(0,g.BX)(g.HY,{children:[R.required?(0,g.BX)(f.Ug,{spacing:"2px",children:[(0,g.tZ)(d.Z,{tag:"label",foreground:X?1:2,size:"large"===O?"small":"xsmall",children:y}),(0,g.tZ)("span",{className:a.default.dynamic([["1917231206",[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]]]])+" required",children:"*"})]}):(0,g.tZ)(d.Z,{tag:"label",foreground:X?1:2,size:"large"===O?"small":"xsmall",children:y}),(0,g.tZ)(p.Z,{height:"4px"})]}),(0,g.BX)("div",{className:a.default.dynamic([["1917231206",[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]]]])+" textarea-container",children:[(0,g.tZ)("textarea",x(x({placeholder:_,value:D,onChange:k},R),{},{ref:function(e){A(e),t&&("function"!==typeof t?t.current=e:t(e))},onFocus:function(e){F(!0),R.onFocus&&R.onFocus(e)},onBlur:function(e){F(!1),R.onBlur&&R.onBlur(e)},className:a.default.dynamic([["1917231206",[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]]]])+" "+(H||"")})),r&&(0,g.tZ)("div",{onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},className:a.default.dynamic([["1917231206",[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]]]])+" icon-container right",children:r})]}),w&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(p.Z,{height:"4px"}),(0,g.tZ)(d.Z,{tag:"span",foreground:3,size:O,children:w})]}),I&&X&&(0,g.tZ)(h.QE,{validationResults:I}),(0,g.tZ)(a.default,{id:"1917231206",dynamic:[v,m.Z.fontSize[O],m.Z.fontFamily[j],m.Z.fontWeight[S],m.Z.foreground[N],m.Z.lineHeight[O]],children:[".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}",".textarea-container.__jsx-style-dynamic-selector{position:relative;}",".required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small);}",".icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);border-radius:100%;padding:var(--space-4);}",".icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(v,";}"),"textarea.__jsx-style-dynamic-selector{resize:none;font-size:".concat(m.Z.fontSize[O],";font-family:").concat(m.Z.fontFamily[j],";font-weight:").concat(m.Z.fontWeight[S],";color:").concat(m.Z.foreground[N],";line-height:").concat(m.Z.lineHeight[O],";background-color:transparent;padding:var(--space-8);border-radius:var(--border-radius-4);outline:none;width:100%;box-sizing:border-box;-webkit-transition:0.1s;transition:0.1s;line-height:1.4;}"),"textarea.__jsx-style-dynamic-selector:disabled{opacity:0.5;}","textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer);}","textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default);}","textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer);}","textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default);}","textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer);}","textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default);}"]})]})}));t.Z=y},15732:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(92809),i=(n(67294),n(96622)),o=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,o.tZ)(i.Z,c(c({},e),{},{children:(0,o.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},13953:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(92809),i=(n(67294),n(96622)),o=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,o.tZ)(i.Z,c(c({},e),{},{children:(0,o.tZ)("path",{d:"M13 7L18 12L13 17M6 7L11 12L6 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},76267:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(92809),i=(n(67294),n(96622)),o=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,o.tZ)(i.Z,c(c({},e),{},{children:(0,o.tZ)("path",{d:"M19 15H20C20.5304 15 21.0391 14.7893 21.4142 14.4142C21.7893 14.0391 22 13.5304 22 13V4C22 3.46957 21.7893 2.96086 21.4142 2.58579C21.0391 2.21071 20.5304 2 20 2H11C10.4696 2 9.96086 2.21071 9.58579 2.58579C9.21071 2.96086 9 3.46957 9 4V5M13 9H4C2.89543 9 2 9.89543 2 11V20C2 21.1046 2.89543 22 4 22H13C14.1046 22 15 21.1046 15 20V11C15 9.89543 14.1046 9 13 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},11387:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(92809),i=(n(67294),n(96622)),o=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,o.tZ)(i.Z,c(c({},e),{},{children:(0,o.tZ)("path",{d:"M9.99996 13C10.4294 13.5741 10.9773 14.0492 11.6065 14.3929C12.2357 14.7367 12.9315 14.9411 13.6466 14.9923C14.3617 15.0435 15.0795 14.9404 15.7513 14.6898C16.4231 14.4392 17.0331 14.0471 17.54 13.54L20.54 10.54C21.4507 9.59699 21.9547 8.33397 21.9433 7.02299C21.9319 5.71201 21.4061 4.45794 20.479 3.5309C19.552 2.60386 18.2979 2.07802 16.987 2.06663C15.676 2.05523 14.413 2.55921 13.47 3.47L11.75 5.18M14 11C13.5705 10.4259 13.0226 9.95081 12.3934 9.60706C11.7642 9.2633 11.0684 9.05888 10.3533 9.00766C9.63816 8.95645 8.92037 9.05963 8.24861 9.31021C7.57685 9.5608 6.96684 9.95293 6.45996 10.46L3.45996 13.46C2.54917 14.403 2.04519 15.666 2.05659 16.977C2.06798 18.288 2.59382 19.542 3.52086 20.4691C4.4479 21.3961 5.70197 21.922 7.01295 21.9334C8.32393 21.9448 9.58694 21.4408 10.53 20.53L12.24 18.82",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},2739:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(92809),i=(n(67294),n(96622)),o=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,o.tZ)(i.Z,c(c({},e),{},{children:(0,o.tZ)("path",{d:"M21 4V20M3 4.86159V19.1384C3 19.5223 3.41474 19.763 3.74807 19.5725L16.2403 12.4341C16.5762 12.2422 16.5762 11.7578 16.2403 11.5659L3.74807 4.42747C3.41474 4.23699 3 4.47768 3 4.86159Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},67180:function(e,t,n){n.d(t,{sC:function(){return w},En:function(){return S},H2:function(){return P},ZB:function(){return N},yY:function(){return k},aY:function(){return E},mT:function(){return Z},Rl:function(){return j},fc:function(){return O},R$:function(){return C},$S:function(){return _},wP:function(){return i},yB:function(){return o},FG:function(){return a},hq:function(){return c},i7:function(){return u},aq:function(){return d},qg:function(){return x},fv:function(){return l},Rm:function(){return f},zT:function(){return h},O1:function(){return p},gJ:function(){return m},Dq:function(){return g},yL:function(){return b},tK:function(){return r},eJ:function(){return s},Lt:function(){return v},OF:function(){return y}});var r="OPEN_SIDEPANE_BY_TYPE",i="NEW_CONSOLE_MESSAGE",o="EVAL_CODE",a="LOADING_ENGINE_COMPLETE",c="LOADING_EXECUTION_ENGINE_STARTED",s="RESIZE_TERMINAL",l="CLEAR_CONSOLE",u="SET_SPLIT_POSITION",d="STOP_EVAL",f="UPDATE_LAYOUT",p="SET_ACTIVE_LINE",h="WORKSPACE_WILL_UNMOUNT",m="MONACO_FORMAT_FILE",g="UPDATE_WORKSPACE_PREFERENCES",b="REGISTER_MONACO_EDITOR_HANDLE",v="SELECT_EDITOR_RANGE",x="@@INIT",y="RUN_REPL",w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return{data:e,type:t,raw:!!n}};function k(e){var t=e.wid,n=e.message,r=e.type,o=void 0===r?"":r,a=e.raw;return{wid:t,type:i,message:w(n,o,!!a)}}function Z(e){var t=e.wid;return{type:y,wid:t}}function j(e){var t=e.wid;return{type:d,wid:t}}function E(e){var t=e.wid,n=e.code,r=e.clean;return{type:o,wid:t,code:n,clean:r}}function O(e){var t=e.wid,n=e.path,r=e.to,i=e.property;return{type:f,wid:t,path:n,to:r,property:i}}function C(e){return{type:"TRACK_WS_EVENT",wid:e.wid,eventKey:e.eventKey,properties:e.properties,trackOnce:e.trackOnce}}function S(e){var t=e.wid,n=e.pud;return{type:l,wid:t,pud:n}}function P(e){var t=e.wid,n=e.cols,r=e.rows;return{type:s,wid:t,cols:n,rows:r}}function N(e){return{type:"OPEN_FILE",wid:e.wid,path:e.path,newTab:e.newTab}}function T(e){var t=e.wid,n=e.line;return{type:p,wid:t,line:n}}function _(e){var t=e.wid,n=e.line;return function(e){e(T({wid:t,line:n})),setTimeout((function(){e(T({wid:t,line:null}))}),2e3)}}},48399:function(e,t,n){n.d(t,{b:function(){return r}});var r="workspace-root"},14147:function(e,t,n){var r=n(68216),i=n(25997),o=new(function(){function e(){(0,r.Z)(this,e),this.map=new WeakMap}return(0,i.Z)(e,[{key:"getHandle",value:function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new Error("Only objects");var t={type:"handle",identity:e.constructor?Object.prototype.toString.call(e.constructor):Object.prototype.toString.call(e)};return this.map.set(t,e),t}},{key:"get",value:function(e){return this.map.get(e)}},{key:"safeGet",value:function(e){if(!e)throw new Error("Expected object handle to be truthy");var t=this.map.get(e);if(!t)throw new Error("Expected object handle to return object");return t}}]),e}());t.Z=o},94305:function(e,t,n){n.d(t,{Z:function(){return ln}});var r=n(92809),i=n(65988),o=n(67294),a=n(15703),c=n(10257),s=n(35604),l=n(365),u=n(72922),d=n(68216),f=n(25997),p=n(91077),h=n(30268),m=n(92953),g=n(47421),b=n(78120),v=n(29737),x=n(80382),y=n(82457),w=n(94793);function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var i=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var E=new(function(e){(0,p.Z)(n,e);var t=j(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"toDOM",value:function(){return document.createTextNode("\u25cf")}}]),n}(v.SJ)),O=b.Py.define({}),C=b.Py.define({}),S=g.p.line({attributes:{class:"cm-debuggerLine"}}),P=b.Py.define({}),N=b.QQ.define({create:function(){return null},update:function(e,t){var n,r=k(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(P))return i.value}}catch(o){r.e(o)}finally{r.f()}return e}});function T(e){var t=new x.f_,n=e.state.field(N);if(null!==n){var r=e.state.doc.line(n);t.add(r.from,r.from,S)}return t.finish()}var _=g.lg.fromClass(function(){function e(t){(0,d.Z)(this,e),(0,r.Z)(this,"decorations",void 0),this.decorations=T(t)}return(0,f.Z)(e,[{key:"update",value:function(e){this.decorations=T(e.view)}}]),e}(),{decorations:function(e){return e.decorations}});function I(e,t){e.dispatch({effects:C.of({pos:t})})}var D=b.QQ.define({create:function(){return x.Xs.empty},update:function(e,t){e=e.map(t.changes);var n,r=k(t.effects);try{var i=function(){var r=n.value;if(r.is(C)){var i=!1;e.between(r.value.pos,r.value.pos+1,(function(){i=!0})),e=i?e.update({filter:function(e){return e!==r.value.pos}}):e.update({add:[E.range(r.value.pos)]})}r.is(O)&&(e=x.Xs.of(r.value.lines.map((function(e){return E.range(t.state.doc.line(e).from)})),!0))};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return e}});function R(e,t){var n;return e&&0!==e.length?null===t||(null===(n=e[0].source)||void 0===n?void 0:n.path)!==t?null:e[0].line:null}var A=n(53291),B=n(78277);function L(e){var t=e.view,n=e.debuggest,r=e.filePath,i=e.isLoading,a=(0,c.Z)().fs,s=(0,A.Z)(),l=(0,u.Z)(n.mainClient),d=(0,B.Z)({view:t});o.useEffect((function(){if(!i&&s&&l&&t){var e=(0,w.ZF)("/home/runner/".concat(s.slug,"/").concat(r)),n=function(e,t,n,r){var i,o=[];o.push(t.breakpoints.subscribe((function(t){var r=t.get(n);r&&e.dispatch({effects:O.of({lines:r.map((function(e){return e.line}))})})})));var a=g.tk.updateListener.of((function(i){i.transactions.forEach((function(i){i.effects.forEach((function(i){if(i.is(C)){var o=(0,w.om)(n);if(!o)throw new Error("Expected relative path");t.toggleBreakpoint(n,{line:e.state.doc.lineAt(i.value.pos).number,otVersion:r.getOTVersion(o),otIndex:i.value.pos})}}))}))}));o.push(t.stackFrames.subscribe((function(t){var r=R(t,n);e.dispatch({effects:P.of(r)})})));var c=(0,v.v5)({class:"cm-breakpoint-gutter",markers:function(e){return e.state.field(D)},initialSpacer:function(){return E},domEventHandlers:{mousedown:function(e,t){return I(e,t.from),!0}}}),s=(null===(i=t.breakpoints.current.get(n))||void 0===i?void 0:i.map((function(e){return e.line})))||[];return{extensions:[b.Wl.highest(c),D.init((function(e){return x.Xs.of(s.map((function(t){return E.range(e.doc.line(t).from)})),!0)})),a,g.tk.baseTheme({".cm-breakpoint-gutter .cm-gutterElement":{color:y.TV.accentPrimaryDefault,paddingLeft:y.TV.space4,paddingRight:y.TV.space2,cursor:"default"}}),N.init((function(){return R(t.stackFrames.current,n)})),_,g.tk.baseTheme({".cm-debuggerLine":{backgroundColor:y.TV.accentPrimaryDimmest,borderRadius:y.TV.borderRadius4,marginRight:y.TV.space4}})],dispose:function(){return o.forEach((function(e){return e()}))}}}(t,l,e,a),o=n.extensions,c=n.dispose;return t.dispatch({effects:d.reconfigure(o)}),function(){t.dispatch({effects:d.reconfigure([])}),c()}}}),[l,t,s,r,i,a,d])}var X=n(97131),F=n(30266),M=n(79056),H=n(10219),U=n(809),z=n.n(U),G=n(73935),V=n(49512),W=n(60172),K=n(88834),q=n(95211),Y=n(56180),J=n(91242),$=n(51966);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var i=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var ee=new(function(e){(0,p.Z)(n,e);var t=Q(n);function n(){return(0,d.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");e.classList.add("cm-hidden-lines-gutter");var t=document.createElement("span");return t.classList.add("cm-dot"),e.appendChild(t),e}}]),n}(v.SJ)),te=function(e){(0,p.Z)(n,e);var t=Q(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this)).numLines=e,r}return(0,f.Z)(n,[{key:"eq",value:function(e){return e.numLines===this.numLines}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="".concat(this.numLines," hidden ").concat((0,$.Z)("line",this.numLines)),e.className="cm-hidden-lines",e}}]),n}(g.l9),ne=g.p.mark({class:"cm-selectionMatch"}),re=g.tk.baseTheme({".cm-hidden-lines":{color:"var(--foreground-dimmer)",backgroundColor:"var(--background-highest)",display:"inline-block",width:"100%"},".cm-hidden-lines-gutter":{backgroundColor:"var(--background-highest)",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},".cm-dot":{height:"5px",width:"5px",backgroundColor:"var(--foreground-dimmest)",borderRadius:"50%",display:"inline-block"},".cm-tooltip .cm-scroller":{border:"2px solid var(--background-highest)",borderRadius:"var(--border-radius-4)"},".cm-tooltip .cm-scroller:hover":{border:"2px solid var(--accent-primary-dimmest)",boxShadow:"var(--shadow-1)",cursor:"pointer"},".cm-tooltip .cm-selectionMatch:hover":{opacity:.8},".cm-tooltip .cm-gutterElement":{display:"flex",marginTop:0,padding:"0 !important",width:"var(--space-24) !important",textAlign:"center",alignItems:"center",justifyContent:"center"},".cm-tooltip .cm-line":{padding:0},".cm-tooltip .cm-gutters":{padding:0},".cm-tooltip .cm-content":{paddingTop:0},".cm-tooltip .cm-lineWrapping":{whiteSpace:"pre"},".cm-tooltip .cm-cursor":{display:"none"},".cm-tooltip .cm-selectionBackground":{display:"none"}});function ie(e,t){var n=e.map((function(e){var t=e.from,n=e.to;return ne.range(t,n)}));return[g.lg.define((function(){return{}}),{decorations:function(){return g.p.set(n)}}),function(e,t){var n=[],r=1;e.sort((function(e,t){return e.from-t.from})).forEach((function(i,o){var a=t.lineAt(i.from),c=t.lineAt(i.to);r<a.number-2&&n.push({startLine:r,endLine:a.number-2}),r=c.number+2,o===e.length-1&&r<t.lines&&n.push({startLine:r,endLine:t.lines})}));var i=n.map((function(e){var n=t.line(e.startLine),r=t.line(e.endLine);return g.p.replace({widget:new te(e.endLine-e.startLine+1)}).range(n.from,r.to)})),o=b.QQ.define({create:function(){return g.p.set(i)},update:function(e){return e},provide:function(e){return g.tk.decorations.from(e)}}),a=n.map((function(e){var n=t.line(e.startLine);return ee.range(n.from)})),c=v.p2.of(x.Xs.of(a));return[o,re,c]}(e,t)]}var oe,ae=n(223),ce=n(90470),se=n(41371),le=n(35944),ue=["dom"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=e.dom,n=(0,H.Z)(e,ue);return G.createPortal((0,le.tZ)(ge,fe({},n)),t)}function he(e){var t=e.matchesMap,n=e.fileToContents,r=e.type,i=e.onClose,o=Object.keys(t),a=(0,c.Z)().session;if(0===o.length){var s=r===oe.REFERENCES?"No references found":"No definitions found";return(0,le.tZ)(ae.x,{color:"dimmer",css:[y.l0.pl(4),y.l0.py(8),"",""],children:s})}return(0,le.tZ)(V.Z,{children:o.map((function(e){var r=t[e],c=n[e],s=ie(r,c);return(0,le.tZ)(V.Z,{css:[y.l0.p(4),""],children:(0,le.tZ)(J.Vw,{path:e,extensions:[s],doc:c,numMatches:r.length,initiallyExpanded:1===o.length,onNavigateToCode:function(t){if(null!==t)a.updateDeeplink({path:e,line:t.line+1,col:t.character});else{var n=(0,M.Z)(r,1)[0],o=c.lineAt(n.from),s=n.from-o.from;a.updateDeeplink({path:e,line:o.number,col:s})}i()}})},e)}))})}!function(e){e.DEFINITION="DEFINITION",e.REFERENCES="REFERENCES"}(oe||(oe={}));var me={name:"2j46dr",styles:"border-bottom:1px solid var(--background-highest)"};function ge(e){var t=e.files,n=e.onClose,i=e.references,a=e.definitions,s=e.currentFile,l=e.currentFileContents,u=(0,c.Z)().fs,d=(0,ce.Z)(s),f=(0,se.Z)(n,[]),p=o.useState((0,r.Z)({},s,W.xv.of(l.split("\n")))),h=(0,M.Z)(p,2),m=h[0],g=h[1];o.useEffect((function(){if(t.length){var e=!1;return function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return(n=(0,F.Z)(z().mark((function n(){var r;return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},n.next=3,Promise.all(t.map(function(){var e=(0,F.Z)(z().mark((function e(t){var n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.readFile(t);case 2:if(!(n=e.sent).error){e.next=5;break}throw new Error("Something went wrong reading file with path ".concat(t,". Received error: ").concat(n.error));case 5:r[t]=W.xv.of(n.content.toString().split("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(!e){n.next=5;break}return n.abrupt("return");case 5:g((function(e){return fe(fe({},e),r)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[u,t]);var b=[].concat((0,X.Z)(i),(0,X.Z)(a));if(!d||b.some((function(e){return!(d.documentUriToPath(e.uri)in m)})))return(0,le.tZ)(V.Z,{style:{width:y.TV.space128,height:y.TV.space128,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,le.tZ)(Y.Z,{style:{padding:"10px auto",width:"35px",height:"35px"}})});var v={},x={};function w(e,t){if(!d)throw new Error("Expected LSP Client");var n=d.documentUriToPath(e.uri),r=e.range,i=r.start,o=r.end;n in t||(t[n]=[]);var a=m[n],c=a.line(i.line+1),s=a.line(o.line+1);t[n].push({from:c.from+i.character,to:s.from+o.character})}return i.forEach((function(e){w(e,v)})),a.forEach((function(e){w(e,x)})),(0,le.BX)(V.Z,{innerRef:f,css:[y.l0.minWidth("375px"),y.l0.maxWidth("500px"),y.l0.pt(4),"",""],children:[(0,le.tZ)(V.Z,{css:me,children:(0,le.BX)(V.Z,{css:[y.l0.p(4),"",""],children:[(0,le.BX)(V.Z,{css:[y.l0.flex.row,y.l0.justify.spaceBetween,y.l0.align.center,y.l0.pr(4),"",""],children:[(0,le.tZ)(ae.h,{level:2,variant:"subheadDefault",css:[y.l0.p(4),y.l0.pl(8),"",""],children:"Definitions"}),(0,le.tZ)(K.Z,{filled:!1,border:!1,onClick:n,children:(0,le.tZ)(q.Z,{})})]}),(0,le.tZ)(he,{matchesMap:x,fileToContents:m,type:oe.DEFINITION,onClose:n})]})}),(0,le.tZ)(V.Z,{children:(0,le.BX)(V.Z,{css:[y.l0.p(4),"",""],children:[(0,le.tZ)(ae.h,{level:2,variant:"subheadDefault",css:[y.l0.p(4),y.l0.pl(8),"",""],children:"References"}),(0,le.tZ)(he,{matchesMap:v,fileToContents:m,type:oe.REFERENCES,onClose:n})]})})]})}var be=n(26496),ve=n(41649),xe=n(50133),ye=n(17513),we=n(70565),ke=n(98960),Ze=["dom"];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){var t=e.dom,n=(0,H.Z)(e,Ze);return G.createPortal((0,le.tZ)(Oe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),t)}function Oe(e){var t=e.onRename,n=e.closeInput,r=e.variable,i=(0,se.Z)(n,[]),o=(0,xe.Y)(r,(function(e){return e?e===r?{message:"Must pick a new name"}:void 0:{message:"New name can't be empty"}}));return(0,le.tZ)(V.Z,{innerRef:i,css:[y.l0.backgroundColor.backgroundDefault,y.l0.flex.column,y.l0.justify.center,y.l0.borderRadius(4),y.l0.shadow(2),y.l0.width(200),"",""],children:(0,le.tZ)("form",{onSubmit:function(e){e.preventDefault(),o.error||(n(),t(o.value))},children:(0,le.BX)(V.Z,{css:[y.l0.justify.center,"",""],children:[(0,le.BX)(V.Z,{css:[y.l0.flex.row,y.l0.align.center,y.l0.pr(4),"",""],children:[(0,le.tZ)(ae.h,{level:2,variant:"subheadDefault",css:[y.l0.p(4),y.l0.pl(8),"",""],children:"Rename"}),(0,le.tZ)(ae.h,{level:2,variant:"subheadDefault",color:"dimmer",css:[y.l0.maxWidth(100),y.l0.overflow("hidden"),"white-space:nowrap;text-overflow:ellipsis;",""],children:r}),(0,le.tZ)(we.Z,{alt:"Close rename input",tooltipHidden:!0,onClick:n,css:[y.l0.position.absolute,y.l0.right(4),"",""],children:(0,le.tZ)(q.Z,{})})]}),(0,le.tZ)(V.Z,{css:[y.l0.justify.center,y.l0.align.center,y.l0.p(8),y.l0.pt(4),"",""],children:(0,le.tZ)(ve.ZP,{name:"rename",ref:o.ref,onBlur:o.handleBlur,onChange:function(e){return o.setValue(e.target.value)},value:o.value,placeholder:"New name",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off",validationResults:o.error?[{message:o.error.message,state:"error"}]:void 0,style:{padding:y.TV.space4,borderRadius:y.TV.borderRadius4}})}),(0,le.tZ)(V.Z,{css:[y.l0.flex.rowReverse,y.l0.p(8),y.l0.pt(0),"",""],children:(0,le.tZ)(ye.ZP,{type:"submit",text:"Rename",colorway:"primary",iconLeft:(0,le.tZ)(ke.Z,{}),disabled:Boolean(o.error)||!o.value})})]})})})}var Ce=n(11395);function Se(e){var t=e.dom;return G.createPortal((0,le.tZ)(Ce.Z,{}),t)}var Pe=n(63805),Ne=n(60489),Te=function(e){var t=e.buttons,n=e.onClick;return(0,le.BX)("nav",{className:i.default.dynamic([["572707115",[Ne.w_]]]),children:[t.map((function(e){return(0,le.tZ)("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),n(e)},className:i.default.dynamic([["572707115",[Ne.w_]]]),children:void 0!==e.label?e.label:e.value},e.value)})),(0,le.tZ)(i.default,{id:"572707115",dynamic:[Ne.w_],children:["nav.__jsx-style-dynamic-selector{font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;height:".concat(Ne.w_,";background-color:var(--background-root);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}"),"button.__jsx-style-dynamic-selector{color:var(--foreground-default);padding:10px;font-family:inherit;font-size:16px;background-color:transparent;border:0 none;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}"]})]})},_e=[{value:"{}",cursorOffset:1},{value:"()",cursorOffset:1},{value:'""',cursorOffset:1}],Ie=function(e){var t=e.path,n=[].concat(_e,[{value:"= ",cursorOffset:0}]);return t.endsWith(".html")&&(n.unshift({value:"<>",cursorOffset:1}),n.unshift({label:"div",value:"<div></div>",cursorOffset:6})),n};function De(e){var t=e.view,n=e.filePath,r=e.onTouchscreenKeyboardVisibilityChanged,i=e.isLoading,a=o.useRef(0),c=o.useState(!1),s=(0,M.Z)(c,2),l=s[0],u=s[1],d=Boolean(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)),f=window.visualViewport;if(o.useEffect((function(){if(f&&(0,Pe.isMobile)({tablet:!1})){var e=function(){var e=f.height<.8*a.current;u(e),r&&r(e)};return a.current=f.height,f.addEventListener("resize",e),function(){f.removeEventListener("resize",e)}}}),[f,r]),o.useEffect((function(){l&&t&&t.requestMeasure({read:function(){return{cursor:t.coordsAtPos(t.state.selection.main.head),scroller:t.scrollDOM.getBoundingClientRect()}},write:function(e){var n=e.cursor,r=e.scroller;if(n){var i=(n.top+n.bottom)/2,o=(r.top+r.bottom)/2;Math.abs(i-o)>5&&(t.scrollDOM.scrollTop+=i-o+(d?50:0))}}})}),[l,t,d]),!l||i)return null;if(!(0,Pe.isMobile)({tablet:!1}))return null;var p=(0,le.tZ)(Te,{onClick:function(e){var n;if(t){var r=null!==(n=t.state.selection.ranges[0].from)&&void 0!==n?n:0;t.dispatch({changes:{from:r,insert:e.value},selection:{anchor:r+1}}),t.focus()}},buttons:Ie({path:n})});return d?p:(0,le.tZ)(V.Z,{css:[y.l0.position.fixed,y.l0.width("100%"),y.l0.zIndex(100),y.l0.bottom(0),y.l0.left(0),"",""],children:p})}var Re=n(7736),Ae=["dom"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){var t=e.dom,n=(0,H.Z)(e,Ae);return G.createPortal((0,le.tZ)(Xe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),t)}function Xe(e){var t=e.content;return(0,le.tZ)(V.Z,{css:[y.l0.maxWidth(400),y.l0.maxHeight(250),y.l0.overflowY("auto"),"",""],children:(0,le.tZ)(Re.Z,{source:t})})}var Fe=n(49892);var Me=n(95203),He=n(54916),Ue=n(82490);function ze(e){var t=e.view,n=o.useState(!1),r=(0,M.Z)(n,2),i=r[0],a=r[1],c=o.useState(!1),s=(0,M.Z)(c,2),l=s[0],u=s[1],d=o.useState(!1),f=(0,M.Z)(d,2),p=f[0],h=f[1],m=o.useState(""),v=(0,M.Z)(m,2),x=v[0],w=v[1],k=o.useState(""),Z=(0,M.Z)(k,2),j=Z[0],E=Z[1],O=o.useRef(new Fe.Jb({search:""})),C=o.useCallback((function(e){e.eq(O.current)||(w(e.search),E(e.replace),u(e.caseSensitive),h(e.regexp),O.current=e)}),[]);if(function(e){var t=e.view,n=e.onSearchQuery;o.useEffect((function(){t&&t.dispatch({effects:b.Py.appendConfig.of([g.tk.updateListener.of((function(e){e.transactions.forEach((function(e){e.effects.forEach((function(e){e.is(Fe.ql)&&n(e.value)}))}))}))])})}),[t,n])}({view:t,onSearchQuery:C}),o.useEffect((function(){if(t){var e=(0,Fe.uP)(t.state);w(e.search),E(e.replace),u(e.caseSensitive),h(e.regexp),O.current=e}}),[t]),o.useEffect((function(){if(t){var e=new Fe.Jb({search:x,replace:j,caseSensitive:l,regexp:p});e.eq(O.current)||(O.current=e,t.dispatch({effects:Fe.ql.of(e)}))}}),[t,x,j,l,p]),!t)return null;function S(e){var n=e;return!!t&&(0,g.$1)(t,n,"search-panel")}return(0,le.BX)(V.Z,{css:[y.l0.backgroundColor.backgroundDefault,y.l0.flex.row,y.l0.overflowX("auto"),"scrollbar-width:thin;",""],onKeyDown:function(e){S(e)&&e.preventDefault()},children:[(0,le.tZ)(we.Z,{alt:"Expand Search Panel",tooltipHidden:!0,css:[y.l0.backgroundColor.backgroundHighest,y.l0.mt(12),y.l0.ml(8),"",""],onClick:function(){a((function(e){return!e}))},children:(0,le.tZ)(Ue.Z,{rotate:i?90:0,style:{transition:"200ms ease"}})}),(0,le.BX)(V.Z,{css:[y.l0.flex.grow(1),"",""],children:[(0,le.BX)(V.Z,{css:[y.l0.flex.row,y.l0.align.center,y.l0.pt(8),y.l0.pb(4),y.l0.overflowX("hidden"),{"& > *":{marginLeft:y.TV.space8}},"",""],children:[(0,le.tZ)(V.Z,{css:[y.l0.width(200),y.l0.height(32),"",""],children:(0,le.tZ)(Me.ZP,{placeholder:"Find",value:x,name:"search",onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(S(e)||(e.preventDefault(),e.shiftKey?(0,Fe.a7)(t):(0,Fe.g)(t)))},onChange:function(e){w(e.target.value)}})}),(0,le.tZ)(ye.ZP,{text:"Next",css:[y.l0.backgroundColor.backgroundHighest,"",""],onClick:function(){(0,Fe.g)(t)}}),(0,le.tZ)(ye.ZP,{text:"Previous",css:[y.l0.backgroundColor.backgroundHighest,"",""],onClick:function(){(0,Fe.a7)(t)}}),(0,le.tZ)(ye.ZP,{text:"All",css:[y.l0.backgroundColor.backgroundHighest,"",""],onClick:function(){(0,Fe.i3)(t)}}),(0,le.tZ)(He.Z,{id:"Match case",name:"case",checked:l,onChange:function(){u((function(e){return!e}))}}),(0,le.tZ)(V.Z,{css:[y.l0.center,"",""],children:(0,le.tZ)(ae.x,{children:"Match case"})}),(0,le.tZ)(He.Z,{id:"Regexp",name:"re",checked:p,onChange:function(){h((function(e){return!e}))}}),(0,le.tZ)(V.Z,{css:[y.l0.center,"",""],children:(0,le.tZ)(ae.x,{multiline:!0,children:"Regexp"})}),(0,le.tZ)(V.Z,{css:[y.l0.flex.grow(1),y.l0.flex.rowReverse,y.l0.pr(4),"",""],children:(0,le.tZ)(we.Z,{alt:"Close Search Panel",tooltipHidden:!0,onClick:function(){(0,Fe.N$)(t)},children:(0,le.tZ)(q.Z,{})})})]}),i?(0,le.BX)(V.Z,{css:[y.l0.flex.row,y.l0.align.center,y.l0.pt(4),y.l0.pb(8),y.l0.overflowX("hidden"),{"& > *":{marginLeft:y.TV.space8}},"",""],children:[(0,le.tZ)(V.Z,{css:[y.l0.width(200),y.l0.height(32),"",""],children:(0,le.tZ)(Me.ZP,{placeholder:"Replace",name:"replace",value:j,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(S(e)||(e.preventDefault(),(0,Fe.K9)(t)))},onChange:function(e){E(e.target.value)}})}),(0,le.tZ)(ye.ZP,{text:"Replace",css:[y.l0.backgroundColor.backgroundHighest,"",""],onClick:function(){(0,Fe.K9)(t)}}),(0,le.tZ)(ye.ZP,{text:"Replace all",css:[y.l0.backgroundColor.backgroundHighest,"",""],onClick:function(){(0,Fe.ko)(t)}})]}):null]})]})}function Ge(e){var t=e.dom,n=e.view;return G.createPortal((0,le.tZ)(ze,{view:n}),t)}var Ve=n(38934),We=n(84647),Ke=n(93325),qe=n(51595),Ye=n(41678),Je=n(97949),$e=n(20881),Qe=n(61909),et=n(60356),tt=n(37573),nt=n(61850);var rt=n(40447);var it=n(73599),ot=n(4466);function at(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c=!0,o=e})),f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=g.tk.baseTheme({".replit-code-anchor":{background:"var(--accent-purple-dimmest)"}}),dt=b.Py.define(),ft=b.Py.define(),pt=b.Py.define(),ht=function(e){var t={};return b.QQ.define({create:function(){return[]},update:function(e,t){t.changes.empty||(e=e.map((function(e){return lt(lt({},e),{},{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})));var n,r=at(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(dt)?e=i.value:i.is(ft)?e=[].concat((0,X.Z)(e),(0,X.Z)(i.value.filter((function(t){return!e.find((function(e){return e.id===t.id}))})))):i.is(pt)?function(){var t=i.value.map((function(e){return e.id}));e=e.filter((function(e){return!t.includes(e.id)}))}():i.is(ot.R)&&(e=(0,X.Z)(e))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(n){return[g.tk.decorations.compute([n],(function(e){var t=e.field(n);return g.p.set(t.map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:g.p.mark({class:"replit-code-anchor ".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(e){return null!==e})),!0)})),it.hJ.computeN([n],(function(r){return r.field(n).map((function(n){var r,i,o=n.id;return{pos:Math.min(n.indexStart,n.indexEnd),above:!0,create:(r=o,i=function(t){var r=document.createElement("div");r.classList.add("cm-anchor","cm-anchor-".concat(o));var i=document.createElement("div");i.classList.add("cm-anchor-portal"),i.style.position="absolute",r.appendChild(i);var a={id:o,dom:i,getEditorRight:function(){return t.dom.getBoundingClientRect().right},getContent:function(){return t.state.doc.sliceString(n.indexStart,n.indexEnd)}};return e.setAnchorPortal(a),{dom:r,update:function(){e.setAnchorPortal(a)}}},t[r]||(t[r]=i),t[r])}}))}))]}})};var mt=n(47385),gt=n(75276),bt=n(90202),vt=n(52945);function xt(e){var t=e.view,n=e.filePath,r=e.isLoading,i=function(){var e=(0,o.useContext)(gt.Z);if(!e)throw new Error("Expected codemirror state to be in codemirror state context");return e}(),a=(0,B.Z)({view:t});(0,o.useEffect)((function(){if(t&&!r){var e,o=i.current.fileMap.get(n);if(o&&t.state.doc.eq(o.doc)){if(t.state.field(vt.cE,!1))throw new Error("History was preconfigured on this view, if you want to use state cache, please make sure history is not already configured for this view");var c=[];o.foldedRanges.between(0,t.state.doc.length,(function(e,t){c.push(bt.SW.of({from:e,to:t}))})),t.dispatch({effects:c,selection:o.selection}),t.scrollDOM.scrollTop=o.scrollTop,e=[vt.cE.init((function(){return o.history})),(0,vt.m8)()]}else e=(0,vt.m8)();t.dispatch({effects:a.reconfigure([e,g.tk.updateListener.of((function(e){i.current.fileMap.set(n,{history:e.state.field(vt.cE,!1),foldedRanges:(0,bt.q2)(e.state),scrollTop:t.scrollDOM.scrollTop,selection:e.state.selection,doc:e.state.doc})}))])});var s=i.current.fileMap.get(n);return function(){s&&(s.scrollTop=t.scrollDOM.scrollTop),t.dispatch({effects:a.reconfigure([])})}}}),[t,n,i,r,a])}var yt=n(55596),wt=n(39084),kt=n(16482),Zt=n(2876),jt=n(54749),Et=n(11163),Ot=n(45187);function Ct(){var e=(0,Et.useRouter)(),t=(0,nt.Z)("flag-codemirror-desktop"),n=(0,jt.Z)("workspace","codemirror-explorers-banner"),r=n.shouldDisplay,i=n.register,a=n.dismiss,c=(0,Ot.wGk)().data,s="/replEnvironment"===e.pathname,l=null===c||void 0===c?void 0:c.currentUser,u=(null===l||void 0===l?void 0:l.isAdmin)||(null===l||void 0===l?void 0:l.isExplorer);return o.useEffect((function(){u&&s&&t&&i()}),[i,u,s,t]),(0,le.tZ)(Zt.Z,{isOpen:r,onRequestClose:a,children:(0,le.BX)(V.Z,{css:[y.l0.center,y.l0.p(4),"",""],children:[(0,le.tZ)(ae.h,{level:1,variant:"headerDefault",children:"Welcome to CodeMirror"}),(0,le.BX)(V.Z,{css:[y.l0.colWithGap(16),y.l0.pt(16),"",""],children:[(0,le.BX)(ae.x,{multiline:!0,children:["You might notice that your editor looks and feels different. This is because we're currently in the process of migrating from"," ",(0,le.tZ)("a",{href:"https://microsoft.github.io/monaco-editor/",target:"_blank",children:"Monaco"}),", the open source editor that powers VS Code, to"," ",(0,le.tZ)("a",{href:"https://codemirror.net/6/",target:"_blank",children:"CodeMirror 6"}),", a new lightweight and extensible editor with first class"," ",(0,le.tZ)("a",{href:"https://blog.replit.com/codemirror-mobile",target:"_blank",children:"mobile support"}),"."]}),(0,le.tZ)(ae.x,{multiline:!0,children:"You're getting early access because you're an explorer! Since this new editor is still in beta, you might notice that some features are not fully implemented (namely Emacs keybindings and Emmet autocompletion) and you may experience bugs."}),(0,le.BX)(ae.x,{multiline:!0,children:["To report a bug or missing feature, please"," ",(0,le.tZ)("a",{href:"mailto: contact@replit.com",children:"contact support"})," or open an issue"," ",(0,le.tZ)("a",{href:"https://replit.canny.io/general-feedback",target:"_blank",children:"on Canny"}),". To switch back to Monaco, you can opt out of being an Explorer via the"," ",(0,le.tZ)("a",{href:"https://replit.com/account#roles",target:"_blank",children:"account page"}),"."]}),(0,le.tZ)(V.Z,{css:[y.l0.align.end,y.l0.width("100%"),"",""],children:(0,le.tZ)(ye.zx,{text:"Ok",colorway:"primary",stretch:!1,iconLeft:(0,le.tZ)(ke.Z,{}),onClick:a})})]})]})})}var St=n(49001),Pt=n(44116),Nt=n(60314);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _t=[{img:"/public/images/kaboomdraw/rect.png",code:"\ndrawRect({\n\tpos: vec2(80, 80),\n\twidth: 120,\n\theight: 80,\n\tcolor: rgb(250, 242, 164),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/triangle.png",code:"\ndrawTriangle({\n\tpos: vec2(100, 100),\n\tp1: vec2(0, -48),\n\tp2: vec2(-60, 48),\n\tp3: vec2(60, 48),\n\tcolor: rgb(164, 250, 204),\n})\n  ".trim()},{img:"/public/images/kaboomdraw/circle.png",code:"\ndrawCircle({\n\tpos: vec2(100, 100),\n\tradius: 48,\n\tcolor: rgb(181, 164, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/ellipse.png",code:"\ndrawEllipse({\n\tpos: vec2(120, 100),\n\tradiusX: 64,\n\tradiusY: 40,\n\tcolor: rgb(164, 209, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/polygon.png",code:"\ndrawPolygon({\n\tpos: vec2(100, 100),\n\tpts: [\n\t\tvec2(0, -48),\n\t\tvec2(-64, 0),\n\t\tvec2(-32, 64),\n\t\tvec2(32, 64),\n\t\tvec2(64, 0),\n\t],\n\tcolor: rgb(250, 164, 226),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/text.png",code:'\ndrawText({\n\ttext: "hi",\n\tpos: vec2(60, 60),\n})\n    '.trim()}],It=function(e){var t=e.img,n=e.code,r=(0,Pt.c)({item:{type:Nt.z.Code,code:n},type:Nt.z.Code}),i=(0,M.Z)(r,2)[1];return(0,le.tZ)("img",{ref:i,src:t,css:[y.l0.p(12),"user-drag:none;height:100%;cursor:pointer;transition:0.1s transform;:hover{transform:scale(1.2);}",""]})},Dt=function(){return(0,le.tZ)(V.Z,{css:[y.l0.flex.row,y.l0.justify.spaceEvenly,y.l0.backgroundColor.backgroundHigher,y.l0.borderRadius(8),y.l0.width("calc(100% - 32px)"),y.l0.height("64px"),y.l0.position.absolute,y.l0.overflow("scroll"),"z-index:5;left:16px;bottom:16px;border:solid 1px var(--outline-dimmest);",""],children:_t.map((function(e){return(0,le.tZ)(It,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.img)}))})};var Rt=n(62808),At=n(36129);function Bt(){Bt=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),(0,At.Z)(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,p.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"===typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"===typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},Bt.apply(this,arguments)}var Lt=Bt(/vec2\((\x2D?\b[0-9]+\.?[0-9]*\b)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(\x2D?\b[0-9]+\.?[0-9]*\b))?\)/,{x:1,y:3}),Xt=Bt(/rgb\(([0-9]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([0-9]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([0-9]+)\)/,{r:1,g:2,b:3}),Ft={regexp:/-?\b\d+\.?\d*\b/g,cursor:"ew-resize",onDrag:function(e,t,n){var r=Number(e)+n.movementX;isNaN(r)||t(r.toString())}},Mt={regexp:/true|false/g,cursor:"pointer",onClick:function(e,t){switch(e){case"true":return t("false");case"false":return t("true")}}},Ht={regexp:/vec2\(-?\b\d+\.?\d*\b\s*(,\s*-?\b\d+\.?\d*\b)?\)/g,cursor:"move",onDrag:function(e,t,n){var r,i,o=Lt.exec(e),a=Number(null===o||void 0===o||null===(r=o.groups)||void 0===r?void 0:r.x),c=Number(null===o||void 0===o||null===(i=o.groups)||void 0===i?void 0:i.y);isNaN(a)||(isNaN(c)&&(c=a),t("vec2(".concat(a+n.movementX,", ").concat(c+n.movementY,")")))}},Ut={regexp:/rgb\(.*\)/g,cursor:"pointer",onClick:function(e,t){var n,r,i,o=Xt.exec(e),a=Number(null===o||void 0===o||null===(n=o.groups)||void 0===n?void 0:n.r),c=Number(null===o||void 0===o||null===(r=o.groups)||void 0===r?void 0:r.g),s=Number(null===o||void 0===o||null===(i=o.groups)||void 0===i?void 0:i.b),l=document.createElement("input");l.type="color",isNaN(a+c+s)||(l.value=function(e,t,n){return"#"+e.toString(16)+t.toString(16)+n.toString(16)}(a,c,s)),l.addEventListener("input",(function(e){var n=e.target;if(n.value){var r=function(e){var t=parseInt(e.substring(1),16);return[t>>16&255,t>>8&255,255&t]}(n.value),i=(0,M.Z)(r,3),o=i[0],a=i[1],c=i[2];t("rgb(".concat(o,", ").concat(a,", ").concat(c,")"))}})),l.click()}};var zt=n(91772),Gt=n(42166),Vt=n(68047),Wt=n(25731),Kt=n(24243),qt=function(e,t,n){var r=(0,We.eb)(e.name),i=encodeURI(e.name),o=(0,We.Il)(n),a=o?o+"/"+i:i;return(0,Wt.pV)(e).then((function(e){return t.writeFile(a,Kt.Z.from(e))})).then((function(){return"![".concat(r,"](").concat(i,")")}))};function Yt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e){var t=e.view,n=(0,B.Z)({view:t}),r=(0,Vt.Z)();o.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(g.tk.domEventHandlers({paste:function(e){var n;if(null!==r&&void 0!==r&&r.endsWith(".md")){var i=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text");if(i&&function(e){try{return new URL(e),!0}catch(t){return!1}}(i)&&!(t.state.selection.ranges.length>1)){e.preventDefault();var o=t.state.selection.main,a=t.state.sliceDoc(o.from,o.to),c="[".concat(a,"](").concat(i,")");t.dispatch({changes:{from:o.from,to:o.to,insert:c},selection:{anchor:o.from,head:o.from+c.length}})}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var i=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var nn=function(e){(0,p.Z)(n,e);var t=tn(n);function n(e,r){var i;return(0,d.Z)(this,n),(i=t.call(this)).src=e,i.pos=r,i}return(0,f.Z)(n,[{key:"eq",value:function(e){return this.src===e.src&&this.pos===e.pos}},{key:"toDOM",value:function(){var e=document.createElement("img");return e.src=this.src,e.dataset.pos=this.pos.toString(),e.style.maxHeight="64px",e.style.maxWidth="256px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(g.l9),rn=/"data:image\/\w+;base64,[^"\s]+"/g,on=Number.MAX_VALUE,an=g.lg.define((function(e){var t=new g.Y1({regexp:rn,decoration:function(e,t,n){if(void 0===e[0])throw new Error("Failed to match image");var r=e[0].substring(1,e[0].length-1);return g.p.replace({widget:new nn(r,n)})},maxLength:on});return{matcher:t,deco:t.createDeco(e),update:function(e){e.docChanged&&(this.deco=t.updateDeco(e,this.deco))}}}),{decorations:function(e){return e.deco},provide:g.BF.atomicRanges.from((function(e){return e.deco}))});function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e){var t=e.filePath,n=e.onType,r=e.onRun,u=e.onTouchscreenKeyboardVisibilityChanged,d=e.autoFocus,f=(0,c.Z)(),p=f.fs,h=f.debuggest,m=f.presence,v=f.session,x=(0,s.Z)(),y=(0,mt.Z)({filePath:t,hasExtraPadding:!0,noHistory:!0}),w=y.view,k=y.ref,Z=(0,yt.Z)({view:w,presence:m,session:v,fs:p,filePath:t}).isLoading;!function(e){var t=e.view,n=e.isLoading,r=e.autoFocus;o.useEffect((function(){r&&t&&(n||t.focus())}),[t,n,r])}({view:w,autoFocus:d,isLoading:Z}),xt({view:w,filePath:t,isLoading:Z});var j=(0,l.Z)({view:w,filePath:t,isLoading:Z}),E=j.lspTooltipProps,O=j.hoverTooltipParams,C=j.renameInputParams,S=j.onRename,P=j.closeRenameInput;!function(e){var t=e.view,n=e.filePath,r=e.isLoading,i=(0,c.Z)().anchorer;(0,B.Z)({view:t,initialExtension:[ut,ht(i)]}),o.useEffect((function(){if(!r&&t&&n){var e=!1;i.getAnchors(n).then((function(n){if(e)return!0;t.dispatch({effects:[dt.of(n)]})}));var o=i.onAnchorsAdded((function(e){var r=e.filter((function(e){return e.path===n}));t.dispatch({effects:ft.of(r)})})),a=i.onAnchorsRemoved((function(e){t.dispatch({effects:pt.of(e)})}));return function(){e=!0,o(),a()}}}),[r,n,t])}({view:w,filePath:t,fs:p,isLoading:Z}),L({view:w,debuggest:h,filePath:t,isLoading:Z});var N=function(e){var t=e.view,n=e.filePath,r=(0,ce.Z)(n),i=o.useRef(null),a=o.useRef(0),s=(0,c.Z)(),l=s.anchorer,u=s.session,d=s.fs,f=o.useState(null),p=(0,M.Z)(f,2),h=p[0],m=p[1],v=(0,et.Z)(),x=(0,nt.Z)("flag-cm-code-actions"),y=(0,tt.Z)({filePath:n,replId:v});o.useEffect((function(){if(h)return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&m(null)}}),[h]);var w=(0,Qe.Z)((function(){if(t&&h){var e=t.coordsAtPos(a.current);m((function(t){return e?{x:e.left,y:e.top}:t}))}}),{type:"throttle",wait:25}),k=o.useCallback(function(){var e=(0,F.Z)(z().mark((function e(o){var a,c,s,f,p,h,m,g,b,v,x,y,w,k,Z,j;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=function(){return(h=(0,F.Z)(z().mark((function e(t){var o,c,l,d,f,p,h,m,g;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Expected client");case 2:return i.current&&r.notify.cancelRequest(i.current),i.current=r.generateId(),o=(0,Ye.s)(a.doc,s),e.next=7,t(n,o,i.current);case 7:if(c=e.sent,i.current=null,!("error"in c)){e.next=11;break}throw new Error("Something went wrong fetching location: ".concat(c.error.message));case 11:if(l=c.result,!c.cancelled&&l&&0!==l.length){e.next=14;break}return e.abrupt("return");case 14:d=(0,M.Z)(l,1),f=d[0],p=f.uri,h=f.range,m=h.start,g=r.documentUriToPath(p),u.updateDeeplink({path:g,line:m.line+1,col:m.character});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(e){return h.apply(this,arguments)},t){e.next=4;break}throw new Error("Expected view");case 4:a=t.state,c=a.selection.main,s=c.head,f=function(){return{path:n,indexStart:c.from,indexEnd:c.empty?c.to+1:c.to,otVersion:d.getOTVersion(n)}},(0,Ve.track)(Ve.events.EDITOR_CONTEXT_MENU_ACTION_RAN,{action:o}),e.t0=o,e.next=e.t0===be.D2.Cut?12:e.t0===be.D2.Copy?16:e.t0===be.D2.Paste?19:e.t0===be.D2.JumpToDefinition?32:e.t0===be.D2.JumpToTypeDefinition?37:e.t0===be.D2.JumpToImplementation?42:e.t0===be.D2.FindReferences?47:e.t0===be.D2.Rename?49:e.t0===be.D2.CodeActions?51:e.t0===be.D2.AddBreakpoint||e.t0===be.D2.RemoveBreakpoint?52:e.t0===be.D2.StartThread?55:e.t0===be.D2.ExplainCode?57:e.t0===be.D2.CopyLinkToPos?59:65;break;case 12:return m=a.doc.sliceString(c.from,c.to),(0,Ke.Z)(m),t.dispatch(a.replaceSelection("")),e.abrupt("break",66);case 16:return g=a.doc.sliceString(c.from,c.to),(0,Ke.Z)(g),e.abrupt("break",66);case 19:return b="",e.prev=20,e.next=23,window.navigator.clipboard.readText();case 23:b=e.sent,e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(20),qe.kg.error("CodeMirror context menu paste failed",{message:e.t1.message}),e.abrupt("break",66);case 30:return c.empty?t.dispatch({changes:[{from:c.from,insert:b}]}):t.dispatch(a.replaceSelection(b)),e.abrupt("break",66);case 32:if(r){e.next=34;break}throw new Error("Expected client");case 34:return e.next=36,p(r.request.findDefinitions);case 36:return e.abrupt("break",66);case 37:if(r){e.next=39;break}throw new Error("Expected client");case 39:return e.next=41,p(r.request.findTypeDefinitions);case 41:return e.abrupt("break",66);case 42:if(r){e.next=44;break}throw new Error("Expected client");case 44:return e.next=46,p(r.request.findImplementations);case 46:return e.abrupt("break",66);case 47:return t.dispatch({effects:[Je.hI.of(s)]}),e.abrupt("break",66);case 49:return t.dispatch({effects:[Je.nD.of(s)]}),e.abrupt("break",66);case 51:return e.abrupt("break",66);case 52:return v=a.doc.lineAt(s),I(t,v.from),e.abrupt("break",66);case 55:return l.createThread(f()),e.abrupt("break",66);case 57:return l.explainCode(f()),e.abrupt("break",66);case 59:x=(0,Ye.s)(a.doc,s),y=x.line,w=x.character,k=window.location.href,Z=k.includes("#")?k.indexOf("#"):k.length,j="".concat(k.slice(0,Z),"#").concat(n,":").concat(y+1,":").concat(w);try{(0,Ke.Z)(window.encodeURI(j))}catch(E){(0,Ke.Z)(j)}return e.abrupt("break",66);case 65:throw new Error("Unexpected action: ".concat(o));case 66:case"end":return e.stop()}}),e,null,[[20,26]])})));return function(t){return e.apply(this,arguments)}}(),[t,r,n,u,l,d]),Z=t?t.state.field(D,!1):null,j=o.useMemo((function(){if(!t)return[];var e=t.state.selection.main.head,n=[];if(r){var i=(0,$e.Z)(r);i.isFindDefinitionSupported&&n.push(be.D2.JumpToDefinition),i.isFindTypeDefinitionSupported&&n.push(be.D2.JumpToTypeDefinition),i.isFindImplementationSupported&&n.push(be.D2.JumpToImplementation),(i.isFindDefinitionSupported||i.isFindReferencesSupported)&&n.push(be.D2.FindReferences),i.isRenameSupported&&n.push(be.D2.Rename),i.isCodeActionsSupported&&x&&n.push(be.D2.CodeActions),n.length&&n.push(be.JJ)}if(n.push(be.D2.CopyLinkToPos),Z){for(var o=t.state.doc.lineAt(e),a=Z.iter(),c=!1;a.value&&!c;){var s=t.state.doc.lineAt(a.to);c=o.number===s.number,a.next()}c?n.push(be.D2.RemoveBreakpoint):n.push(be.D2.AddBreakpoint)}return n.push(be.D2.StartThread),y&&n.push(be.D2.ExplainCode),n.push(be.JJ),n.push(be.D2.Cut),n.push(be.D2.Copy),window.navigator.clipboard&&"readText"in window.navigator.clipboard&&n.push(be.D2.Paste),n}),[t,r,Z,y,x]),E=(0,B.Z)({view:t});return o.useEffect((function(){if(t){var e=j.filter((function(e){return!(0,be.s3)(e)})).filter((function(e){return"keyboardShortcut"in be.Wo[e]})).filter((function(e){return e!==be.D2.Cut&&e!==be.D2.Copy&&e!==be.D2.Paste})).map((function(e){var t=be.Wo[e].keyboardShortcut,n={key:t.key,preventDefault:!0,run:function(){return k(e),!0}};return t.altKey&&(n.key="Alt-".concat(n.key)),t.shiftKey&&(n.key="Shift-".concat(n.key)),t.cmdOrCtrlKey&&(n.key="Mod-".concat(n.key)),n}));return t.dispatch({effects:E.reconfigure(g.$f.of(e))}),function(){t.dispatch({effects:E.reconfigure([])})}}}),[t,k,j,E]),{onAction:k,actions:j,contextMenuCoords:h,onContextMenu:function(e){if(!(0,Pe.isMobile)({tablet:!1})&&t){e.preventDefault();var r=e.clientX,i=e.clientY,o=t.state.selection.main,c=t.posAtCoords({x:r,y:i}),s=t.state.doc.length,l=null===c?s:c;if(a.current=l,l<o.from||l>o.to){var u=b.jT.cursor(l);t.dispatch({selection:u})}var d=(0,We.r6)(n);(0,Ve.track)(Ve.events.EDITOR_CONTEXT_MENU_OPENED,{ext:d}),m({x:r,y:i})}},closeMenu:function(){m(null)},resizeRef:w}}({view:w,filePath:t}),T=N.onAction,_=N.actions,R=N.contextMenuCoords,A=N.onContextMenu,X=N.closeMenu,H=N.resizeRef,U=function(e){var t=e.view,n=e.filePath,r=e.isLoading,i=(0,et.Z)(),a=(0,rt.Z)({replId:i}),c=o.useState(null),s=(0,M.Z)(c,2),l=s[0],u=s[1],d=(0,B.Z)({view:t});return o.useEffect((function(){if(t&&a&&!r&&n===a.mainFile){var e=document.createElement("div");return u(e),t.dispatch({effects:d.reconfigure((0,g.W$)(e))}),function(){t.dispatch({effects:d.reconfigure([])}),u(null)}}}),[t,a,n,r,d]),l}({view:w,filePath:t,isLoading:Z}),G=function(e){var t=e.view,n=o.useState(null),r=(0,M.Z)(n,2),i=r[0],a=r[1],c=(0,B.Z)({view:t});return o.useEffect((function(){if(t){var e=document.createElement("div");return a(e),t.dispatch({effects:c.reconfigure((0,Fe.r6)({createPanel:function(){return{top:!0,pos:80,dom:e,mount:function(){var t=e.querySelector("[name=search]");t&&(t.focus(),t.select())}}}}))}),function(){t.dispatch({effects:c.reconfigure([])}),a(null)}}}),[t,c]),i}({view:w});!function(e){var t=e.filePath,n=e.view,r=e.isLoading,i=(0,c.Z)().session;o.useEffect((function(){if(n&&!r)return i.onDeeplinkUpdated((function(e){var r=e.path,i=e.line,o=e.col;if(r===t&&i){var a=n.state.doc,c=Math.min(i,a.lines),s=a.line(c),l=s.to,u=s.from,d=o||0,f=Math.min(u+d,l),p=b.jT.cursor(f);n.focus(),n.dispatch({selection:p,scrollIntoView:!0})}}))}),[i,n,t,r])}({filePath:t,view:w,isLoading:Z}),function(e){var t=e.view,n=e.onType,r=e.filePath,i=(0,B.Z)({view:t});o.useEffect((function(){if(t&&n&&r)return t.dispatch({effects:i.reconfigure(g.tk.updateListener.of((function(e){e.docChanged&&(e.transactions.some((function(e){return e.annotation(b.YW.remote)}))||n((0,We.r6)(r)))})))}),function(){t.dispatch({effects:i.reconfigure([])})}}),[t,n,r,i])}({view:w,onType:n,filePath:t}),function(e){var t=e.view,n=e.onRun,r=(0,B.Z)({view:t});o.useEffect((function(){if(t&&n)return t.dispatch({effects:r.reconfigure(g.$f.of([{key:"Mod-Enter",run:function(){return n(),!0}}]))}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,n,r])}({view:w,onRun:r}),function(e){var t=e.view,n=e.contextMenuCoords,r=e.closeMenu;o.useEffect((function(){if(t&&n)return t.scrollDOM.addEventListener("scroll",r),function(){t.scrollDOM.removeEventListener("scroll",r)}}),[t,n,r])}({view:w,contextMenuCoords:R,closeMenu:X}),function(e){var t=e.view,n=(0,B.Z)({view:t}),r=(0,St.xZ)();o.useEffect((function(){if(t&&r)return t.dispatch({effects:n.reconfigure((0,Rt.Z)({rules:[Ft,Mt,Ht,Ut]}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:w}),function(e){var t=e.view,n=(0,B.Z)({view:t}),r=(0,c.Z)().fs,i=(0,Vt.Z)(),a=(0,St.xZ)();o.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(g.tk.domEventHandlers({paste:function(e){var n,o=null===e||void 0===e||null===(n=e.clipboardData)||void 0===n?void 0:n.files,c=function(e){var n=t.state.selection.main.head;t.dispatch({changes:{from:n,insert:e},selection:{anchor:n,head:n+e.length}})};if(o){var s,l=$t(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;a?(0,Wt.L0)(u).then((function(e){return c('"'+e+'"')})):null!==i&&void 0!==i&&i.endsWith(".md")&&qt(u,r,i).then(c)}}catch(d){l.e(d)}finally{l.f()}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,i,r,a])}({view:w}),en({view:w}),function(e){var t=e.view,n=(0,B.Z)({view:t}),r=(0,St.f6)();o.useEffect((function(){if(t&&r)return t.dispatch({effects:n.reconfigure(an)}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:w});var V=function(e){var t=e.view,n=(0,c.Z)().fs,r=(0,Vt.Z)(),i=(0,St.xZ)(),o=(0,zt.L)({accept:[Nt.z.Code,Gt.FILE],drop:function(e,o){if(t){var a=o.getClientOffset(),c=a?t.posAtCoords(a):null;if(null!==c){var s=function(e){t.focus(),t.dispatch({changes:{from:c,insert:e},selection:{anchor:c,head:c+e.length}})};if(e.type===Nt.z.Code)s(e.code);else{var l,u=Yt(e.files);try{for(u.s();!(l=u.n()).done;){var d=l.value;i?(0,Wt.L0)(d).then((function(e){return s('"'+e+'"')})):null!==r&&void 0!==r&&r.endsWith(".md")&&qt(d,n,r).then(s)}}catch(f){u.e(f)}finally{u.f()}}}}}});return(0,M.Z)(o,2)[1]}({view:w}),W=(0,St.xZ)();return(0,le.tZ)(wt.xW,{stepId:kt.H.Editor,children:(0,le.BX)("div",{className:i.default.dynamic([["186305193",[x?"0 3px 0 3px ".concat(x):"0"]]])+" root",children:[(0,le.tZ)(De,{view:w,filePath:t,onTouchscreenKeyboardVisibilityChanged:u,isLoading:Z}),(0,le.tZ)(Ct,{}),(0,le.BX)("div",{ref:H,className:i.default.dynamic([["186305193",[x?"0 3px 0 3px ".concat(x):"0"]]])+" editor",children:[Z&&(0,le.tZ)("div",{className:i.default.dynamic([["186305193",[x?"0 3px 0 3px ".concat(x):"0"]]])+" loader",children:(0,le.tZ)(a.Z,{})}),(0,le.tZ)("div",{ref:function(e){k(e),V(e)},onContextMenu:A,className:i.default.dynamic([["186305193",[x?"0 3px 0 3px ".concat(x):"0"]]])}),E?(0,le.tZ)(pe,sn({},E)):null,R?(0,le.tZ)(be.ZP,{view:w,coords:R,actions:_,closeMenu:X,onAction:T}):null,C?(0,le.tZ)(Ee,{dom:C.dom,variable:C.variable,onRename:S,closeInput:P}):null,U?(0,le.tZ)(Se,{dom:U}):null,O?(0,le.tZ)(Le,sn({},O)):null,G?(0,le.tZ)(Ge,{dom:G,view:w}):null]}),W&&(0,le.tZ)(Dt,{}),(0,le.tZ)(i.default,{id:"186305193",dynamic:[x?"0 3px 0 3px ".concat(x):"0"],children:[".root.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);z-index:3;box-shadow:".concat(x?"0 3px 0 3px ".concat(x):"0",";}"),".editor.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);}",".editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;height:100%;}",".editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector>.cm-editor{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;}",".loader.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;height:100%;width:100%;overflow:hidden;z-index:5;}"]})]})})}},24969:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(70917),i=n(79056),o=n(92809),a=n(30266),c=n(97131),s=n(809),l=n.n(s),u=n(67294),d=n(91296),f=n.n(d),p=n(32930),h=n(45187),m=n(50025),g=n(68563),b=n(24243),v=function(e,t,n){var r;if(!e)return[];var i=t(e.getSceneElementsIncludingDeleted()),o=e.getAppState();return(r=n.reduce((function(e,t){var n,r,a;return t.id===(null===(n=o.editingElement)||void 0===n?void 0:n.id)||t.id===(null===(r=o.resizingElement)||void 0===r?void 0:r.id)||t.id===(null===(a=o.draggingElement)||void 0===a?void 0:a.id)||(i[t.id]&&i[t.id].version>t.version?(e.push(i[t.id]),delete i[t.id]):i[t.id]&&i[t.id].version===t.version&&i[t.id].versionNonce!==t.versionNonce?(i[t.id].versionNonce<t.versionNonce?e.push(i[t.id]):e.push(t),delete i[t.id]):(e.push(t),delete i[t.id])),e}),[])).concat.apply(r,(0,c.Z)(Object.values(i)))},x=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},y=n(49512),w=n(82457),k=n(35944);function Z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t,o=e.fs,s=e.presence,d=e.broadcast,j=e.filePath,E=(0,u.useState)(void 0),C=E[0],S=E[1],P=(0,u.useRef)((function(e){return(0,c.Z)(e)})),N=(0,u.useRef)((function(e){return-1})),T=(0,u.useRef)((function(e){return{}})),_=(0,u.useRef)({readyPromise:x()}),I=(0,u.useRef)({promise:null});(0,u.useEffect)((function(){Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){P.current=e.getSyncableElements,N.current=e.getSceneVersion,T.current=e.getElementMap,S(e.default)}))}),[]);var D=function(){return _.current},R=(0,h.K1s)({ssr:!1}),A=R.data,B=R.loading,L=(null===A||void 0===A||null===(t=A.currentUser)||void 0===t?void 0:t.username)||"",X=(0,p.Fg)(),F=(0,m.Z)({presence:s}),M=(0,g.Z)(),H=null===M||void 0===M?void 0:M.color,U=(0,u.useState)(new Map),z=U[0],G=U[1],V=(0,u.useState)(-1),W=V[0],K=V[1];(0,u.useEffect)((function(){function e(){return(e=(0,a.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&A.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_.current.readyPromise;case 4:t=D().getAppState(),n=t.collaborators,r=new Map,F.forEach((function(e){var t;if(e.username!==(null===A||void 0===A||null===(t=A.currentUser)||void 0===t?void 0:t.username)){var i=n.get(e.username)||{};r.set(e.username,O(O({},i),{},{username:e.username,color:{background:e.color,foreground:e.color}}))}})),D().updateScene({collaborators:r});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A,F]);var q=function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||(t=t.filter((function(e){return!z.has(e.id)||e.version>z.get(e.id)}))),r=Z(t);try{for(r.s();!(i=r.n()).done;)o=i.value,z.set(o.id,o.version),G(new Map(z))}catch(a){r.e(a)}finally{r.f()}d.broadcastMessage({text:JSON.stringify({elements:t,path:j})});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){if(d){var e=d.onBroadcastReceived((function(e){var t=e.username,n=e.text,r=JSON.parse(n);if(r.path===j)if(r.collaborator&&_.current){var i=D().getAppState().collaborators;i.set(t,O(O(O({},i.get(t)),r.collaborator),{},{username:t})),D().updateScene({collaborators:i})}else if(r.elements){var o=v(D(),T.current,r.elements);K(N.current(o)),D().updateScene({elements:o})}}));return function(){e()}}}),[d,j]),(0,u.useEffect)((function(){function e(){return(e=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&o){e.next=2;break}return e.abrupt("return");case 2:I.current.promise=new Promise(function(){var e=(0,a.Z)(l().mark((function e(t){var n,r,a,c,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([o.readFile(j),_.current.readyPromise]);case 2:n=e.sent,r=(0,i.Z)(n,1),"content"in(a=r[0])&&(c=a.content.toString(),s=JSON.parse(c||"{}"),u=D().getAppState(),s.appState=O({},u),s.scrollToContent=!0,t(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j,o]);var Y=(0,u.useCallback)(f()(function(){var e=(0,a.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return!e.isDeleted})),!j){e.next=4;break}return e.next=4,o.writeFile(j,b.Z.from(JSON.stringify({elements:n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),350),[j]);return(0,k.tZ)(y.Z,{css:(0,r.iv)({position:"relative",height:"100%",width:"100%",flex:1,boxShadow:H?"0 3px 0 3px ".concat(H):"none",backgroundColor:w.TV.backgroundDefault,"& .excalidraw [title~=Library]":{display:"none"},"& .excalidraw .App-menu_top":{gridTemplateColumns:"0 auto 1fr !important",gridGap:"none !important"},"& .excalidraw .App-menu_bottom":{transform:"none !important",paddingLeft:"var(--space-4) !important"}},"",""),children:C&&!B&&(0,k.tZ)(C,{zenModeEnabled:!0,ref:_,isCollaborating:!0,theme:X===p.V2.replitLight?"light":"dark",initialData:I.current.promise,onPointerUpdate:function(e){var t=e.pointer;if(D().getAppState().collaborators.size>0){var n=D().getAppState().selectedElementIds||{};d.broadcastMessage({text:JSON.stringify({collaborator:{pointer:t,selectedElementIds:n},path:j})})}},onChange:function(e){D().getAppState().collaborators.size>0?function(e){N.current(e)>W&&(W>0&&q(P.current(e),!1),K(N.current(e)))}(e):K(N.current(e)),N.current(e)>W&&W>0&&Y(e)},user:{name:L}})})}},48277:function(e,t,n){n.d(t,{Z:function(){return de}});var r=n(30266),i=n(10219),o=n(92809),a=n(79056),c=n(65988),s=n(809),l=n.n(s),u=n(67294),d=n(71371),f=n(94184),p=n.n(f),h=n(56023),m=n(24243),g=n(76839),b=n(53567),v=n(88834),x=n(41649),y=n(7785),w=n(84476),k=n(25517),Z=n(5537),j=n(49722),E=n(19091),O=n(7977),C=n.n(O),S=n(53291),P=n(42992),N=n(55412),T=n(45187),_=n(42750),I=n(26331),D=n(38934),R=n(45971),A=n(56180),B=n(83995),L=n(68047),X=n(84647),F=n(35944),M=["innerRef"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=D.events.ENV_EDITOR_OPENED,G=D.events.ENV_EDITOR_SECRET_ADDED,V=D.events.ENV_EDITOR_SECRET_UPDATED,W=D.events.ENV_EDITOR_SECRET_DELETED,K=D.events.ENV_EDITOR_INTRO_SKIPPED,q=D.events.ENV_EDITOR_INSERT_USED,Y=((0,F.tZ)(c.default,{id:"2980229614",children:["*.jsx-2980229614{max-width:100%;}"]}),"jsx-2980229614");function J(e){return function(t){t.stopPropagation(),e(t)}}function $(e,t){return e?e.trim()?t.includes(e)?"You already have a secret with this key":null:"The key must include a non-space character":"Please add a key for this secret"}function Q(e){return e?null:"Please add a value for this secret"}function ee(e){var t=e.secret,n=e.otherKeys,r=e.onUpdateKey,i=e.onUpdateValue,o=e.onSave,s=e.onCancel,l=e.onDelete,d=u.useState(),f=(0,a.Z)(d,2),p=f[0],h=f[1],m=u.useState(),g=(0,a.Z)(m,2),y=g[0],w=g[1],k=u.useRef(null),Z=u.useRef(null),j=function(){var e=$(t.key,n);if(e)return h(e),void(k.current&&k.current.focus());var r=Q(t.value);if(r)return w(r),void(Z.current&&Z.current.focus());o()};u.useEffect((function(){p&&($(t.key,n)||h(null))}),[t.key,p,n]),u.useEffect((function(){y&&(Q(t.value)||w(null))}),[t.value,y]);var E=J((function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())}));return(0,F.BX)("div",{className:"jsx-3167137255",children:[(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(x.ZP,{autoFocus:!0,ref:k,label:"key",name:"key",value:t.key,spellCheck:!1,onChange:function(e){r(e.currentTarget.value)},onKeyDown:E,validationResults:p?[{message:p,state:"error"}]:void 0}),(0,F.tZ)(_.Z,{ref:Z,label:"value",name:"value",value:t.value,spellCheck:!1,onChange:function(e){i(e.currentTarget.value)},onKeyDown:E,validationResults:y?[{message:y,state:"error"}]:void 0}),(0,F.BX)(b.Ug,{justify:"space-between",children:[l?(0,F.tZ)(v.Z,{onClick:J(l),color:"negative",children:"Delete"}):null,(0,F.BX)(b.Ug,{spacing:1,children:[s?(0,F.tZ)(v.Z,{onClick:J(s),children:"Cancel"}):null,(0,F.tZ)(v.Z,{color:"primary",onClick:J(j),children:l?"Save":"Add new secret"})]})]})]}),(0,F.tZ)(c.default,{id:"3167137255",children:["div.jsx-3167137255{background:var(--background-root);padding:var(--space-16);border-radius:var(--border-radius-8);}"]})]})}function te(e){var t=e.onAdd,n=e.otherKeys,r=u.useState({key:"",value:""}),i=(0,a.Z)(r,2),o=i[0],c=i[1];return(0,F.tZ)(ee,{secret:o,otherKeys:n,onUpdateKey:function(e){return c((function(t){return t?U(U({},t),{},{key:e}):t}))},onUpdateValue:function(e){return c((function(t){return t?U(U({},t),{},{value:e}):t}))},onSave:function(){c({key:"",value:""}),o.value&&o.key&&t(o)}})}var ne={styles:(0,F.tZ)(c.default,{id:"4120556496",children:["*.jsx-4120556496{max-width:calc(100% - 16px);}"]}),className:"jsx-4120556496"};function re(e){var t=e.secret,n=e.otherKeys,r=e.onUpdateSecret,i=e.onDeleteSecret,o=u.useState(null),s=(0,a.Z)(o,2),l=s[0],d=s[1],f=null;l&&(f=(0,F.tZ)(ee,{secret:l,otherKeys:n,onUpdateKey:function(e){return d((function(t){return t?U(U({},t),{},{key:e}):t}))},onUpdateValue:function(e){return d((function(t){return t?U(U({},t),{},{value:e}):t}))},onSave:function(){d(null),l.value&&l.key&&(l.value===t.value&&l.key===t.key||r(t.key,l))},onCancel:function(){return d(null)},onDelete:function(){return i(t.key)}}));var h=Boolean(f);return(0,F.BX)("div",{onClick:function(){h||d(U({},t))},className:"jsx-2639600421 "+(p()("secret",Y,{"is-editing":h})||""),children:[f||(0,F.BX)(b.Ug,{align:"center",justify:"space-between",wrap:"nowrap",className:Y,children:[(0,F.BX)(b.Ug,{align:"center",justify:"start",wrap:"nowrap",className:ne.className,children:[(0,F.tZ)(k.Z,{children:(0,F.tZ)(E.Z,{size:24})}),(0,F.tZ)(k.Z,{truncate:!0,children:t.key})]}),(0,F.tZ)("div",{className:"jsx-2639600421 edit",children:(0,F.tZ)(k.Z,{children:(0,F.tZ)(Z.Z,{size:16})})})]}),ne.styles,(0,F.tZ)(c.default,{id:"2639600421",children:[".secret.jsx-2639600421{cursor:pointer;padding:var(--space-16) var(--space-16) var(--space-16) 0;border-radius:var(--border-radius-8);}",".secret.is-editing.jsx-2639600421{cursor:auto;padding:0;border-radius:0;}",".secret.jsx-2639600421:hover{background:var(--background-root);}",".edit.jsx-2639600421{margin-left:var(--space-8);visibility:hidden;}",".secret.jsx-2639600421:hover .edit.jsx-2639600421{visibility:initial;}",".is-touch-device .edit.jsx-2639600421{visibility:initial;}"]})]})}function ie(e){var t=e.secrets,n=e.onUpdateSecret,r=e.onDeleteSecret;return(0,F.tZ)(b.gC,{spacing:1,align:"stretch",className:Y,children:Object.keys(t).sort().map((function(e){return(0,F.tZ)(re,{otherKeys:Object.keys(t).filter((function(t){return t!==e})),secret:{key:e,value:t[e]},onUpdateSecret:n,onDeleteSecret:r},e)}))})}function oe(e){var t=e.secrets,n=e.language,r=e.onInsertDone,o=u.useState(Object.keys(t)[0]),c=(0,a.Z)(o,2),s=c[0],l=c[1],d=(0,B.Z)(),f=function(e,t){if(!e)return null;switch((0,X.r6)(e)){case"js":case"ts":case"jsx":case"tsx":return{import:null,access:"const mySecret = process.env['".concat(t,"']")};case"py":return{import:"import os",access:"my_secret = os.environ['".concat(t,"']")};case"go":return{import:'import "os"',access:'mySecret := os.Getenv("'.concat(t,'")')};case"java":case"scala":return{import:null,access:'System.getenv("'.concat(t,'")')};case"rb":return{import:null,access:'ENV["'.concat(t,'"]')};case"c":case"cpp":return{import:"#include <stdlib.h>",access:'char* mySecret = getenv("'.concat(t,'")')};case"cs":return{import:"using System;",access:'string mySecret = System.Environment.GetEnvironmentVariable("'.concat(t,'");')};case"sh":return{import:null,access:'"$'.concat(t,'"')};default:return null}}((0,L.Z)(),s);return f&&d?(0,F.BX)(b.gC,{spacing:2,align:"stretch",className:Y,children:[(0,F.BX)(k.Z,{children:["To use secrets in ",C().get(n).displayName]}),f.import?(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:6,truncate:!0,children:"1. Add the imports"}),(0,F.tZ)(k.Z,{tag:"pre",fontFamily:"monospace",className:ce.className,truncate:!0,children:f.import}),(0,F.tZ)(b.Ug,{children:(0,F.BX)(v.Z,{onClick:function(){d({code:f.import,insertAt:0}),(0,D.track)(q)},children:["Insert -",">"]})})]}):null,(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.BX)(w.Z,{level:6,truncate:!0,children:[f.import?"2. ":"","Access the secret by key as an environment variable"]}),(0,F.tZ)(P.Z,{respectMaxWidth:!0,items:Object.keys(t),onClick:function(e){l(e)},renderAnchorComponent:function(e){var t=e.innerRef,n=(0,i.Z)(e,M);return(0,F.tZ)(v.Z,U(U({ref:t},n),{},{Icon:N.Z,filled:!1,iconOnRight:!0,children:(0,F.tZ)(k.Z,{style:{maxWidth:"100px"},truncate:!0,children:s})}))},renderItemChildComponent:function(e){return(0,F.tZ)(k.Z,{truncate:!0,children:e})}}),(0,F.tZ)(k.Z,{tag:"pre",fontFamily:"monospace",className:ce.className,truncate:!0,children:f.access}),(0,F.tZ)(b.Ug,{children:(0,F.BX)(v.Z,{onClick:function(){d({code:f.access}),r&&r(),(0,D.track)(q)},children:["Insert -",">"]})})]}),ce.styles]}):(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(k.Z,{children:"The secrets will be available in your repl when you hit the run button as environment variables."}),d?null:(0,F.BX)(k.Z,{children:["Select a $",C().get(n).displayName," file to enable code inserter"]})]})}var ae,ce={styles:(0,F.tZ)(c.default,{id:"4194019610",children:["*.jsx-4194019610{padding:var(--space-8);background:var(--background-root);}"]}),className:"jsx-4194019610"};function se(e){var t=e.language,n=e.secrets,r=e.onAdd,i=e.onIntroDone,o=u.useState(ae.What),c=(0,a.Z)(o,2),s=c[0],l=c[1];return s===ae.What?(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:5,children:"What's this?"}),(0,F.tZ)(k.Z,{children:"Using this feature will allow you to hide secret information like passwords while still being able to use them in the repl"}),(0,F.tZ)(b.Ug,{children:(0,F.tZ)(v.Z,{filled:!0,color:"primary",onClick:function(){return l(ae.Add)},children:"Got it"})})]}):s===ae.Add?(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:5,children:"Add your first secret!"}),(0,F.tZ)(k.Z,{children:'The "key" is what you will use in the code itself and will be visible to everyone'}),(0,F.tZ)(k.Z,{children:'The "value" is where you put the private or secret text, hit shift+enter to add new lines'}),(0,F.tZ)(te,{onAdd:function(e){r(e),l(ae.Use)},otherKeys:Object.keys(n)}),(0,F.tZ)(v.Z,{onClick:function(){var e=Object.keys(n).length>0?ae.Use:ae.End;l(e),(0,D.track)(K,{step:ae.Add})},children:"Skip this step"})]}):s===ae.Use?(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:5,children:"Now let's use it in the repl."}),(0,F.tZ)(oe,{secrets:n,language:t,onInsertDone:function(){return l(ae.End)}}),(0,F.tZ)(v.Z,{onClick:function(){l(ae.End),(0,D.track)(K,{step:ae.Use})},children:"Skip this step"})]}):(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(k.Z,{children:"You're all set. You can add as many secrets as you want, we promise to keep them safe."}),(0,F.BX)(k.Z,{children:["You can always"," ",(0,F.tZ)("a",{href:"https://docs.replit.com/repls/secret-keys",target:"_blank",children:"visit our docs"})," ","for more information."]}),(0,F.tZ)(k.Z,{children:"Please note, that people you invite as multiplayer collaborators will have access to these secrets."}),(0,F.tZ)(v.Z,{onClick:i,children:"Got it"})]})}function le(e){var t=e.secrets,n=e.update,i=u.useState(!1),o=(0,a.Z)(i,2),s=o[0],f=o[1],p=u.useState(""),h=(0,a.Z)(p,2),m=h[0],g=h[1],x=u.useState(!1),y=(0,a.Z)(x,2),Z=y[0],j=y[1],E=u.useState(!1),O=(0,a.Z)(E,2),C=O[0],S=O[1],P=u.useRef(null),N=function(){var e=(0,r.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),t=function(){S(!0),j(!1),(0,D.track)(D.events.ENV_EDITOR_RAW_SAVE_ERRORED),P.current&&P.current.focus()},e.prev=2,r=JSON.parse(m),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),t(),e.abrupt("return");case 10:if("object"===typeof r&&Object.getPrototypeOf(r)===Object.prototype&&!Object.values(r).some((function(e){return"string"!==typeof e}))&&!Object.keys(r).some((function(e){return"string"!==typeof e}))){e.next=13;break}return t(),e.abrupt("return");case 13:return e.prev=13,e.next=16,n(r);case 16:e.next=23;break;case 18:return e.prev=18,e.t1=e.catch(13),d.Tb(e.t1),t(),e.abrupt("return");case 23:f(!1),j(!1),(0,D.track)(D.events.ENV_EDITOR_RAW_SAVE_SUCCESSFUL);case 26:case"end":return e.stop()}}),e,null,[[2,6],[13,18]])})));return function(){return e.apply(this,arguments)}}();return u.useEffect((function(){S(!1)}),[m]),u.useEffect((function(){0!==Object.keys(t).length?g(JSON.stringify(t,null,2)):g("{\n}")}),[t]),(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:5,children:"Edit raw JSON (Advanced)"}),(0,F.tZ)(v.Z,{onClick:function(){(0,D.track)(D.events.ENV_EDITOR_RAW_OPENED),f(!0)},children:"Open raw editor"}),(0,F.tZ)(R.Z,{isOpen:s,preventClose:Z,onRequestClose:function(){return f(!1)},children:(0,F.BX)("div",{className:"jsx-2014583820 content",children:[(0,F.BX)(b.gC,{spacing:2,align:"stretch",children:[(0,F.tZ)(w.Z,{level:4,children:"Raw Secrets Editor"}),(0,F.tZ)(k.Z,{children:"The text must be valid JSON object with keys and values as strings"}),(0,F.tZ)(_.Z,{ref:P,disabled:Z,value:m,onChange:function(e){g(e.currentTarget.value)},validationResults:C?[{message:"Invalid input. Please make sure the data is valid JSON and all keys and values are strings.",state:"error"}]:void 0}),(0,F.BX)(b.Ug,{spacing:2,justify:"end",children:[(0,F.tZ)(v.Z,{disabled:Z,onClick:function(){return f(!1)},children:"Cancel"}),(0,F.tZ)(v.Z,{loading:Z,color:"primary",onClick:N,children:"Save"})]})]}),(0,F.tZ)(c.default,{id:"2014583820",children:[".content.jsx-2014583820{height:100%;width:100%;padding:var(--space-24);}",".editable-area.jsx-2014583820{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);border-radius:var(--border-radius-4);padding:var(--space-8) 0;}",".editor.jsx-2014583820{height:150px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".collapse.jsx-2014583820{cursor:pointer;}"]})]})})]})}function ue(e,t){var n=U({},e);return"add"===t.type?n[t.key]=t.value:"update"===t.type?(delete n[t.oldKey],n[t.key]=t.value):delete n[t.key],n}function de(e){var t,n=e.fs,i=(0,y.Z)(),o=u.useState(null),c=(0,a.Z)(o,2),s=c[0],d=c[1],f=(0,T.eYX)(),p=f.data,v=f.loading,x=f.updateQuery,k=(0,T.e_)(),Z=(0,a.Z)(k,1)[0],E=(0,S.Z)();u.useEffect((function(){(0,D.trackOnce)(z),j.Z.set("enveditortour",!0)}),[]),u.useEffect((function(){function e(){return(e=(0,r.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFile(".env");case 2:if((t=e.sent).error!==h.Df.NotFound){e.next=6;break}return i.current&&d({}),e.abrupt("return");case 6:if(!t.error){e.next=8;break}throw new Error("Error getting .env");case 8:if(i.current){e.next=10;break}return e.abrupt("return");case 10:r=g.Z.parse(t.content.toString()),d(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,d,i]);var O=u.useRef(null),C=u.useRef([]),P=function(){var e=(0,r.Z)(l().mark((function e(t){var r,i,o,a,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new Error("trying to write secrets before loading");case 2:return r=ue(s,t),d(r),C.current.push(t),i=Math.random(),O.current=i,e.next=9,n.readFile(".env");case 9:if(a=e.sent,O.current===i){e.next=12;break}return e.abrupt("return");case 12:return a.error?o=r:(o=g.Z.parse(a.content.toString()),C.current.forEach((function(e){o=ue(o,e)})),d(o)),C.current=[],c=g.Z.serialize(o),e.next=17,n.writeFile(".env",m.Z.from(c));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,D.track)(G,{multiline:t.value.includes("\n")}),P(U({type:"add"},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,D.track)(V,{multiline:n.value.includes("\n")}),P(U({type:"update",oldKey:t},n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,D.track)(W),P({type:"delete",key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(v||!s||!E)return(0,F.tZ)(b.ZP,{align:"stretch",justify:"center",children:(0,F.tZ)(A.Z,{})});if(null!==p&&void 0!==p&&null!==(t=p.currentUser)&&void 0!==t&&t.seenIntro){var B=Object.keys(s);return(0,F.BX)(F.HY,{children:[(0,F.tZ)(ie,{secrets:s,onUpdateSecret:_,onDeleteSecret:R}),(0,F.tZ)("div",{children:(0,F.tZ)(te,{onAdd:N,otherKeys:B})}),B.length>0?(0,F.BX)(F.HY,{children:[(0,F.tZ)(I.Z,{size:2}),(0,F.BX)(b.gC,{spacing:1,align:"stretch",className:Y,children:[(0,F.tZ)(w.Z,{level:5,children:"Use secrets in the repl"}),(0,F.tZ)(oe,{secrets:s,language:E.language})]})]}):null,(0,F.tZ)(I.Z,{size:2}),(0,F.tZ)(le,{secrets:s,update:function(){var e=(0,r.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),r=g.Z.serialize(t),e.next=4,n.writeFile(".env",m.Z.from(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}return(0,F.tZ)(se,{secrets:s,onAdd:N,language:E.language,onIntroDone:function(){Z(),x((function(e){return e.currentUser?U(U({},e),{},{currentUser:U(U({},e.currentUser),{},{seenIntro:!0})}):e}))}})}!function(e){e.What="What",e.Add="Add",e.Use="Use",e.End="End"}(ae||(ae={}))},91431:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(52209),i=n(67294),o=n(41664),a=n(38320),c=n(92809),s=n(96622),l=n(35944);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return(0,l.tZ)(s.Z,d(d({},e),{},{children:(0,l.tZ)("path",{d:"M1 4.00001V10M1 10H7M1 10L5.64 5.64001C7.02091 4.26143 8.81245 3.36898 10.7447 3.09713C12.6769 2.82527 14.6451 3.18874 16.3528 4.13277C18.0605 5.0768 19.4152 6.55025 20.2126 8.33111C21.0101 10.112 21.2072 12.1038 20.7742 14.0064C20.3413 15.909 19.3017 17.6194 17.8121 18.8798C16.3226 20.1402 14.4637 20.8824 12.5157 20.9945C10.5677 21.1066 8.63598 20.5826 7.01166 19.5014C5.38734 18.4202 4.15839 16.8404 3.51 15M12 7.00001V12.3333L16 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}var p,h=n(85235),m=n(10257),g=n(56023),b=n(95610),v=n(82457),x=n(223),y=n(49512),w=n(70917),k=n(70565);var Z=(0,w.F4)(p||(p=(0,r.Z)(["\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.25;\n  }\n"]))),j=function(e){var t=e.repl,n=e.isSaving;return(0,l.tZ)(o.default,{href:{pathname:"/replHistory",query:{slug:t.slug}},as:"".concat(t.url,"/history"),children:(0,l.tZ)("a",{children:(0,l.tZ)(y.Z,{css:[v.l0.flex.row,v.l0.align.center,v.l0.color.foregroundDefault,n?(0,w.iv)({animation:"".concat(Z," 2s infinite")},"",""):null,"",""],children:(0,l.tZ)(k.Z,{size:28,alt:"Repl history",children:(0,l.tZ)(f,{})})})})})},E=(0,w.iv)({color:v.TV.accentNegativeDefault},"",""),O={name:"1259b8f",styles:"@media (hover: hover){display:none;}"},C=function(){return(0,l.BX)(y.Z,{"aria-label":"Reconnecting, changes will be synced when you're online","data-microtip-position":"bottom",role:"tooltip",children:[(0,l.tZ)(x.x,{css:[v.l0.height(16),v.l0.width(18),E,"",""],children:(0,l.tZ)(a.CloudOff,{})}),(0,l.tZ)(x.x,{css:[O,v.l0.pl(4),E,"",""],children:"Offline"})]})},S=function(e){var t=e.canEdit,n=e.repl,r=function(){var e=(0,m.Z)().fs,t=(0,i.useState)(!1),n=t[0],r=t[1],o=(0,h.Z)(),a=(0,i.useState)(!1),c=a[0],s=a[1];return(0,i.useEffect)((function(){o===b.e.CONNECTED&&s(!0)}),[o]),(0,i.useEffect)((function(){return r(e.getStatus()===g.kO.Syncing),e.onStatusChange((function(e){r(e===g.kO.Syncing)}))}),[e]),c?{isSaving:n,isOffline:o!==b.e.CONNECTED}:{isSaving:!1,isOffline:!1}}(),o=r.isSaving,a=r.isOffline;return t?(0,l.tZ)(y.Z,{css:[v.l0.flex.row,v.l0.align.center,v.l0.height("100%"),"",""],children:a?(0,l.tZ)(C,{}):(0,l.tZ)(j,{isSaving:o,repl:n})}):null}},59837:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(79056),i=n(65988),o=n(67294),a=n(94184),c=n.n(a),s=n(88834),l=n(85231),u=n(46348),d=n(11069),f=n(55412),p=n(35944);function h(e){var t=e.focused,n=e.searching,a=e.onActionClick,l=e.actionAltText,u=e.isAlreadyInstalled,d=e.isPackagerRunning,h=e.isIconLoading,g=e.statusComponent,b=e.itemName,v=e.itemDescription,x=void 0===v?"This package has no description.":v,y=e.itemVersion,w=e.itemHomepageURL,k=e.itemLicense,Z=e.itemAuthor,j=e.itemDependencies,E=o.useState(!1),O=(0,r.Z)(E,2),C=O[0],S=O[1];return(0,p.BX)("div",{className:"jsx-1774759212 "+(c()("pkgsearch-details",t&&"pkgsearch-details-hover")||""),children:[(0,p.BX)("div",{className:"jsx-1774759212 pkgsearch-details-header",children:[(0,p.BX)("div",{onClick:function(){return S(!C)},className:"jsx-1774759212 pkgsearch-details-header-title",children:[(0,p.tZ)("div",{className:"jsx-1774759212 pkgsearch-details-libname",children:b}),y&&!C&&!n&&(0,p.tZ)("div",{className:"jsx-1774759212 pkgsearch-details-header-version",children:y}),C&&(0,p.tZ)(s.Z,{border:!1,className:"collapse",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Collapse","data-microtip-position":"bottom",role:"tooltip",onClick:function(){return S(!C)},children:(0,p.tZ)(f.Z,{})})]}),(0,p.tZ)("div",{className:"jsx-1774759212 pkgsearch-details-cta",children:(0,p.tZ)(s.Z,{border:!1,"aria-label":l,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","data-microtip-position":"bottom-left",role:"tooltip",onClick:function(e){e.currentTarget.blur(),a()},children:(0,p.tZ)(m,{isAlreadyInstalled:u,isPackagerRunning:d,isIconLoading:h})})})]}),g,(0,p.BX)("div",{className:"jsx-1774759212 pkgsearch-details-metadata",children:[(0,p.BX)("div",{onClick:function(){n&&!C&&S(!0)},className:"jsx-1774759212 "+("details-meta-item "+(C?"":"closed ")+(n?"show-in-search ":"")||0),children:[y&&(0,p.BX)("div",{className:"jsx-1774759212 label",children:["version ",y]}),(0,p.tZ)("div",{className:"jsx-1774759212 value",children:d&&!x?"loading...":x})]}),w&&(0,p.BX)("div",{className:"jsx-1774759212 "+("details-meta-item "+(C?"":"closed ")||0),children:[(0,p.tZ)("div",{className:"jsx-1774759212 label",children:"Website"}),(0,p.tZ)("div",{className:"jsx-1774759212 value",children:(0,p.tZ)("a",{href:w,rel:"noreferer noopener",target:"_blank",className:"jsx-1774759212",children:w})})]}),k&&(0,p.BX)("div",{className:"jsx-1774759212 "+("details-meta-item "+(C?"":"closed ")||0),children:[(0,p.tZ)("div",{className:"jsx-1774759212 label",children:"License"}),(0,p.tZ)("div",{className:"jsx-1774759212 value",children:k})]}),Z&&(0,p.BX)("div",{className:"jsx-1774759212 "+("details-meta-item "+(C?"":"closed ")||0),children:[(0,p.tZ)("div",{className:"jsx-1774759212 label",children:"Author"}),(0,p.tZ)("div",{className:"jsx-1774759212 value",children:Z})]}),j&&j.length>0?(0,p.BX)("div",{className:"jsx-1774759212 "+("details-meta-item pkgsearch-details-deps"+(C?"":"closed ")||0),children:[(0,p.BX)("div",{className:"jsx-1774759212 label",children:[j.length," dependencies"]}),(0,p.tZ)("div",{className:"jsx-1774759212 value",children:(0,p.tZ)("ul",{className:"jsx-1774759212 pkgsearch-details-deps-list",children:j.map((function(e){return(0,p.tZ)("li",{className:"jsx-1774759212",children:e},e||"")}))})})]}):null]}),(0,p.tZ)(i.default,{id:"1774759212",children:[".pkgsearch-details.jsx-1774759212{padding:var(--space-8) var(--space-8) var(--space-8) 12px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:visible;color:var(--foreground-dimmer);cursor:pointer;border-top:1px solid var(--background-highest);position:relative;}",".pkgsearch-details-hover.jsx-1774759212{z-index:99;}",".pkgsearch-details-header.jsx-1774759212{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".pkgsearch-details-header-title.jsx-1774759212{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:2;-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2;height:32px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".pkgsearch-details-libname.jsx-1774759212{color:var(--foreground-default);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);word-wrap:break-word;}",".pkgsearch-details-header-version.jsx-1774759212{padding-left:4px;vertical-align:text-bottom;color:var(--foreground-dimmer);font-size:var(--font-size-small);}",".details-meta-item.jsx-1774759212{padding:var(--space-8) 0;width:100%;}",".details-meta-item.closed.jsx-1774759212{display:none;}",".details-meta-item.closed.show-in-search.jsx-1774759212{display:block;padding:var(--space-8) 0;}",".details-meta-item.jsx-1774759212 .label.jsx-1774759212{margin-bottom:4px;color:var(--foreground-dimmer);font-size:var(--font-size-small);}",".details-meta-item.jsx-1774759212 .value.jsx-1774759212{line-height:20px;word-wrap:break-word;font-size:var(--font-size-default);color:var(--foreground-default);overflow:hidden;}",".pkgsearch-details-deps-list.jsx-1774759212{list-style:none;}",".pkgsearch-search-result-li.jsx-1774759212{overflow:visible;position:relative;z-index:99;}"]})]})}function m(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled;return e.isIconLoading?(0,p.BX)("div",{className:"jsx-608914053 loadingIconRotate",children:[(0,p.tZ)(d.Z,{}),(0,p.tZ)(i.default,{id:"608914053",children:[".loadingIconRotate.jsx-608914053{-webkit-animation:rotate-jsx-608914053 1s linear infinite;animation:rotate-jsx-608914053 1s linear infinite;}","@-webkit-keyframes rotate-jsx-608914053{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotate-jsx-608914053{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]})]}):n?t?(0,p.tZ)(u.Z,{color:"var(--foreground-dimmest)"}):(0,p.tZ)(u.Z,{}):t?(0,p.tZ)(l.Z,{color:"var(--foreground-dimmest)"}):(0,p.tZ)(l.Z,{})}},96252:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(92809),i=n(79056),o=n(65988),a=n(67294),c=n(94184),s=n.n(c),l=n(10277),u=n(95211),d=n(35944);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.combobox,n=e.inputValue,r=e.setInputValue,c=e.isLoading,l=e.isDisplayingInstalledPackages,u=a.useState(!1),f=(0,i.Z)(u,2),h=f[0],g=f[1];return(0,d.BX)("div",p(p({},t.getComboboxProps()),{},{className:"jsx-290385210 "+(s()("pkgsearch-search-bar",{focused:h})||""),children:[(0,d.tZ)("input",p(p({},t.getInputProps({type:"text",placeholder:"search to install packages",value:n,onFocus:function(){g(!0)},onBlur:function(){g(!1)},onChange:function(e){r(e.currentTarget.value)},autoFocus:!0})),{},{className:"jsx-290385210"})),(0,d.tZ)("div",{className:"jsx-290385210 pkgsearch-search-bar-icon",children:(0,d.tZ)(m,{onXIcon:function(){return r("")},isDisplayingInstalledPackages:l,isSearchLoading:c})}),(0,d.tZ)(o.default,{id:"290385210",children:[".pkgsearch-search-bar.jsx-290385210{width:calc(100% - 24px);margin:0 12px 12px 12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--foreground-dimmest);border-radius:var(--border-radius-4);}",".pkgsearch-search-bar.focused.jsx-290385210{border-color:var(--accent-primary-default);}",".pkgsearch-search-bar.jsx-290385210 input.jsx-290385210::-webkit-input-placeholder{color:var(--foreground-dimmer);}",".pkgsearch-search-bar.jsx-290385210 input.jsx-290385210::-moz-placeholder{color:var(--foreground-dimmer);}",".pkgsearch-search-bar.jsx-290385210 input.jsx-290385210:-ms-input-placeholder{color:var(--foreground-dimmer);}",".pkgsearch-search-bar.jsx-290385210 input.jsx-290385210::placeholder{color:var(--foreground-dimmer);}",".pkgsearch-search-bar.jsx-290385210 input.jsx-290385210{padding:var(--space-8);font-size:var(--font-size-default);border:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;outline:none;background-color:transparent;color:var(--foreground-default);}",".pkgsearch-search-bar-icon.jsx-290385210{padding-right:var(--space-8);margin-right:8px;width:14px;height:14px;vertical-align:middle;}"]})]}))}function m(e){var t=e.isDisplayingInstalledPackages,n=e.isSearchLoading,r=e.onXIcon;return n?(0,d.BX)("div",{className:"jsx-1896770272",children:[(0,d.tZ)("div",{className:"jsx-1896770272 pkgsearch-search-loading"}),(0,d.tZ)(o.default,{id:"1896770272",children:[".pkgsearch-search-loading.jsx-1896770272{display:block;width:14px !important;height:14px !important;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}"]})]}):t?(0,d.tZ)(l.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}):(0,d.BX)("div",{onClick:r,className:"jsx-2219029902",children:[(0,d.tZ)(u.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}),(0,d.tZ)(o.default,{id:"2219029902",children:["div.jsx-2219029902{cursor:pointer;}"]})]})}},54151:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(10219),i=n(92809),o=n(79056),a=n(65988),c=n(67294),s=n(94184),l=n.n(s),u=n(95211),d=n(42409),f=n(55412),p=n(10257),h=n(88834),m=n(7785),g=n(54749),b=n(30266),v=n(809),x=n.n(v),y=n(38934);function w(e,t){return t.some((function(t){var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}))}var k=n(39503),Z=n(96252),j=n(59837),E=n(80723),O=n(67871),C=n(49512),S=n(82457),P=n(35944),N=["isPackagerRunning","isAlreadyInstalled","installPackage","uninstallPackage","packager","focused","searching","filesAffected"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=e.filesAffected,n=c.useState(""),r=(0,o.Z)(n,2),i=r[0],s=r[1],l=(0,p.Z)(),u=l.packager,f=l.session,m=function(e){var t=e.packager,n=c.useState(!1),r=(0,o.Z)(n,2),i=r[0],a=r[1],s=c.useState(!1),l=(0,o.Z)(s,2),u=l[0],d=l[1],f=c.useState("package name"),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=c.useState([]),v=(0,o.Z)(g,2),k=v[0],Z=v[1];c.useEffect((function(){a(!0);var e=!1;return t.listSpecfile().then((function(t){e||(t.error?Z([]):t.packages&&Z(t.packages),a(!1))})),function(){e=!0}}),[t]);var j=c.useCallback(function(){var e=(0,b.Z)(x().mark((function e(n){var r,o,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if((0,y.track)(y.events.PACKAGES_INSTALLING,{package:n.name}),n.name){e.next=5;break}throw new Error("Package has no name");case 5:if(!w(n,k)){e.next=7;break}return e.abrupt("return");case 7:return a(!0),e.next=10,t.addPackages([{name:n.name}]);case 10:return e.next=12,t.listSpecfile();case 12:r=e.sent,o=r.packages,c=r.error,o&&Z(o),c&&Z([]),a(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,k,i]),E=c.useCallback(function(){var e=(0,b.Z)(x().mark((function e(n){var r,o,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if(n.name){e.next=4;break}return e.abrupt("return");case 4:if(w(n,k)){e.next=6;break}return e.abrupt("return");case 6:return a(!0),e.next=9,t.removePackages([n.name]);case 9:return e.next=11,t.listSpecfile();case 11:r=e.sent,o=r.packages,c=r.error,o&&(Z(o),d(!0),m(n.name)),c&&Z([]),a(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,k,i]),O=c.useCallback((function(e){return w(e,k)}),[k]);return{install:j,uninstall:E,installedPackages:k,isInstalled:O,isRunning:i,showDeletedTooltip:u,packageDeletedName:h,setDeletedTooltip:d}}({packager:u}),v=(0,k.Z)({searchPackagesFn:u.searchPackages,query:i,packagerType:"upm"}),j=v.searchResults,N=v.isLoading,T=""===i,I=T?m.installedPackages:j,A=(0,E.Kb)({inputValue:i,items:I,defaultHighlightedIndex:0,itemToString:function(e){return null!==e&&void 0!==e&&e.name?e.name:""}}),B=(0,g.Z)("packager","show_packager_about_tooltip"),L=B.shouldDisplay,X=B.register,F=B.dismiss;c.useEffect((function(){X()}),[X]);var M=(0,g.Z)("packager","show_packager_import_tooltip"),H=M.shouldDisplay,U=M.register,z=M.dismiss;c.useEffect((function(){U()}),[U]);return(0,P.BX)("div",{className:"jsx-1830800831 pkgsearch-search",children:[(0,P.tZ)(Z.Z,{combobox:A,inputValue:i,setInputValue:s,isLoading:N,isDisplayingInstalledPackages:T}),m.showDeletedTooltip&&(0,P.tZ)(C.Z,{css:S.l0.p(8),children:(0,P.tZ)(O.Z,{colorway:"positive",closable:!0,closeAction:function(){return m.setDeletedTooltip(!1)},text:"Uninstalled "+m.packageDeletedName+"."})}),(0,P.BX)("div",{className:"jsx-1830800831 pkgsearch-installed-header",children:[N?"Working\u2026":T?0===I.length?"No packages installed.":"Installed packages":""!==i?0===I.length?"No packages found":I.length+" packages found":" ",T&&I.length>0&&(0,P.tZ)(h.Z,{border:!1,Icon:d.Z,className:"package-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Open "+t[0],"data-microtip-position":"bottom-left",role:"tooltip",onClick:function(){f.openFile(t[0])}})]}),T&&0===I.length&&(0,P.BX)("div",{className:"jsx-1830800831 no-packages-text",children:["You don't have any packages installed. Try searching for a package to install, or ","",(0,P.tZ)("a",{href:"https://docs.replit.com/repls/packages",className:"jsx-1830800831",children:"learn more about packages here."})]}),(0,P.tZ)("div",_(_({},A.getMenuProps()),{},{className:"jsx-1830800831",children:I.length>0&&(0,P.tZ)("ul",{className:"jsx-1830800831 "+("pkgsearch-search-result "+(!T&&"pkgsearch-search-result-searching")||0),children:I.map((function(e,n){return(0,P.tZ)("li",_(_({},A.getItemProps({key:e.name||"Unknown"+n,item:e,index:n})),{},{className:"jsx-1830800831",children:(0,P.tZ)(D,{packager:u,pkg:e,filesAffected:t,focused:A.highlightedIndex===n,searching:!T,isPackagerRunning:m.isRunning,isAlreadyInstalled:m.isInstalled(e),installPackage:m.install,uninstallPackage:m.uninstall})}))}))})})),L&&""===i&&(0,P.BX)(R,{title:"What are Packages?",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return F()},children:["Packages are collections of code that can extend the functionality of your programs. For example, you could add a package to make adding image carousels easier on websites, or a package to manage currency comparisons."," ",(0,P.tZ)("a",{href:"https://docs.replit.com/repls/packages",className:"jsx-1830800831",children:"Learn more about packages"})]}),T&&H&&""===i&&(0,P.tZ)(R,{title:"Tip\u2014Auto Import",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return z()},children:"If you know which packages you want to use, you can just import and use them in your files as if they were already installed, and they will be installed automatically the next time you run the repl."}),(0,P.tZ)(a.default,{id:"1830800831",children:[".pkgsearch-search.jsx-1830800831{position:relative;width:100%;height:100%;overflow-y:scroll;min-height:0;color:var(--foreground-default);}",".no-packages-text.jsx-1830800831{margin:0 12px;font-size:var(--font-size-default);line-height:20px;}",".pkgsearch-installed-header.jsx-1830800831{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0px var(--space-8) 12px 12px;font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-medium);}",".pkgsearch-search-result.jsx-1830800831{list-style:none;position:relative;overflow:visible;z-index:2;border-bottom:1px solid var(--background-highest);-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-height:0;}",".pkgsearch-search-result-searching.jsx-1830800831{overflow:scroll;}"]})]})}function D(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled,i=e.installPackage,a=e.uninstallPackage,s=e.packager,l=e.focused,u=e.searching,d=e.filesAffected,f=(0,r.Z)(e,N),p=function(e){var t=e.packager,n=e.pkg,r=c.useState(!1),i=(0,o.Z)(r,2),a=i[0],s=i[1],l=c.useState(null),u=(0,o.Z)(l,2),d=u[0],f=u[1];return c.useEffect((function(){if(n.name){var e=!1;return t.fetchPackageInfo(n.name).then((function(t){e||(f(t||null),s(!1))})),function(){e=!0}}f(null)}),[t,n.name]),{isLoading:a,packageInfo:d}}({packager:s,pkg:f.pkg}).packageInfo,h=(0,m.Z)(),g=c.useState(!1),b=(0,o.Z)(g,2),v=b[0],x=b[1],y=c.useState(!1),w=(0,o.Z)(y,2),k=w[0],Z=w[1],E=p||f.pkg,C=function(){return t?{colorway:void 0,text:"Packager is working on "+E.name+". Check the Console tab for details",status:"Working\u2026"}:n?{colorway:"positive",text:E.name+" was successfully installed to "+d[0],status:"Remove Package"}:{colorway:"negative",text:E.name+" was not installed. There may have been an error \u2014\xa0check the Console tab for details.",status:"Install Package"}},S=k?(0,P.tZ)(O.Z,{colorway:C().colorway,closable:!0,closeAction:function(){return Z(!1)},text:C().text}):null,T="dependencies"in E&&E.dependencies&&E.dependencies.length>0?E.dependencies.map((function(e){return e.name})):null;return(0,P.tZ)(j.Z,{focused:l,searching:u,onActionClick:function(){t||(Z(!0),x(!0),n?a(E).then((function(){h.current&&(x(!1),Z(!1))})):i(E).then((function(){h.current&&(x(!1),Z(!0))})))},actionAltText:C().status,isAlreadyInstalled:n,isPackagerRunning:t,isIconLoading:v,statusComponent:S,itemName:E.name,itemDescription:E.description,itemVersion:E.version,itemHomepageURL:E.homepageURL,itemLicense:E.license,itemAuthor:E.author,itemDependencies:T})}function R(e){var t=e.title,n=e.children,r=e.expanded,i=e.expandable,s=e.needsMargin,d=e.backgroundColor,p=e.strokeColor,h=e.foregroundColor,m=e.onClose,g=c.useState(r),b=(0,o.Z)(g,2),v=b[0],x=b[1];return(0,P.BX)("div",{style:{backgroundColor:d},className:a.default.dynamic([["2352821835",[p,h,h]]])+" "+(l()("pkgsearch-tooltip",s&&"needs-margin")||""),children:[(0,P.BX)("div",{className:a.default.dynamic([["2352821835",[p,h,h]]])+" pkgsearch-tooltip-header",children:[(0,P.BX)("div",{onClick:function(){i&&x(!v)},className:a.default.dynamic([["2352821835",[p,h,h]]])+" "+(l()("pkgsearch-tooltip-title",i&&"expandable")||""),children:[(0,P.tZ)("span",{className:a.default.dynamic([["2352821835",[p,h,h]]])+" pkgsearch-tooltip-title-text",children:t}),i&&(0,P.tZ)(f.Z,{color:h,rotate:v?0:-90})]}),(0,P.tZ)("div",{className:a.default.dynamic([["2352821835",[p,h,h]]])+" pkgsearch-tooltip-close",children:(0,P.tZ)(u.Z,{onClick:m,color:h})})]}),v&&(0,P.tZ)("p",{className:a.default.dynamic([["2352821835",[p,h,h]]])+" pkgsearch-tooltip-content",children:n}),(0,P.tZ)(a.default,{id:"2352821835",dynamic:[p,h,h],children:[".pkgsearch-tooltip.__jsx-style-dynamic-selector{border-radius:var(--border-radius-4);box-sizing:border-box;width:calc(100%);padding:var(--space-8);margin:var(--space-4) 0;border:1px solid ".concat(p,";}"),".pkgsearch-tooltip.needs-margin.__jsx-style-dynamic-selector{width:calc(100% - 24px);margin:12px;}",".pkgsearch-tooltip-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:top;-webkit-box-align:top;-ms-flex-align:top;align-items:top;}",".pkgsearch-tooltip-title.__jsx-style-dynamic-selector{font-size:var(--font-size-small);font-weight:var(--font-weight-medium);-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;opacity:0.85;}",".expandable.__jsx-style-dynamic-selector{cursor:pointer;}",".pkgsearch-tooltip-title-text.__jsx-style-dynamic-selector{padding-right:4px;color:".concat(h,";}"),".pkgsearch-tooltip-close.__jsx-style-dynamic-selector{cursor:pointer;opacity:0.7;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:8px;}",".pkgsearch-tooltip-content.__jsx-style-dynamic-selector:not(:empty){padding-top:var(--space-8);line-height:20px;font-size:var(--font-size-default);color:".concat(h,";opacity:0.85;}")]})]})}},88554:function(e,t,n){n.d(t,{z:function(){return r},P:function(){return i}});var r={nodejs:["package.json","package-lock.json","yarn.lock","node_modules"],python:["poetry.lock","pyproject.toml","requirements.txt",".venv/",".local"],ruby:["Gemfile","Gemfile.lock"],java:["pom.xml","target"]};function i(e){return["python3_classroom","python3_classroom_beta","python3","python3_beta","pygame","pygame_beta","python_turtle","python_turtle_beta"].includes(e)?"python":["nodejs","nodejs_beta","nodejs_prybar","nodejs_prybar_beta","reason_nodejs","nodejs_static"].includes(e)?"nodejs":["ruby","ruby_beta","ruby_classroom","ruby_classroom_beta","rails","rails_beta"].includes(e)?"ruby":["java","java_beta","java10","java10_beta","java_maven","java_maven_beta","java_swing","java_swing_beta"].includes(e)?"java":null}},39503:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(71371),i=n(67294),o=n(32046),a=n(38934);function c(e){var t=e.searchPackagesFn,n=e.query,c=e.packagerType,s=(0,i.useState)([]),l=s[0],u=s[1],d=(0,i.useState)(),f=d[0],p=d[1],h=(0,i.useState)(!1),m=h[0],g=h[1],b=(0,o.Z)(n,400);return(0,i.useEffect)((function(){if(p(null),""===b)return g(!1),void u([]);g(!0),(0,a.track)(a.events.PACKAGES_SEARCHED,{query:b,packagerType:c});var e=!1;return t(b).then((function(t){e||u(t)})).catch((function(t){r.Tb(t),e||p(t)})).finally((function(){e||g(!1)})),function(){e=!0}}),[t,b]),{searchResults:l,isLoading:m,error:f}}},20399:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(67294),i=n(56716),o=n(31056),a=n(45631),c=n(14900),s=n(82457),l=n(49512),u=n(223),d=n(37424),f=n(40403),p=n(35944),h=[{value:"side-by-side",title:"side-by-side"},{value:"stacked",title:"stacked"}],m=[{value:10,title:"Tiny"},{value:14,title:"Normal"},{value:18,title:"Large"},{value:24,title:"Huge"}],g=[{value:"spaces",title:"spaces"},{value:"tabs",title:"tabs"}],b=[{value:2,title:"2"},{value:4,title:"4"},{value:8,title:"8"}],v=[{value:"default",title:"default"},{value:"emacs",title:"emacs"},{value:"vim",title:"vim"}],x=[{value:"none",title:"none"},{value:"soft",title:"soft wrap"}],y=[{value:"disabled",title:"disabled"},{value:"enabled",title:"enabled"}];function w(e){var t=e.id,n=e.title,i=e.children,o=(0,d.H)()(t);return(0,p.BX)(l.Z,{css:[s.l0.colWithGap(8),"",""],children:[(0,p.tZ)(l.Z,{tag:"label",htmlFor:o,children:"string"===typeof n?(0,p.tZ)(u.x,{children:n}):n}),r.cloneElement(i,{id:o})]})}var k=(0,l.K)("div");function Z(){var e=(0,r.useState)(!1),t=e[0],n=e[1],i=(0,r.useState)(!1),a=i[0],c=i[1],d=(0,r.useRef)(!1);return(0,r.useEffect)((function(){d.current=!0;var e=setTimeout((function(){c(t)}),200);return function(){clearTimeout(e)}}),[t]),(0,p.BX)(l.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.start,"",""],onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:[(0,p.tZ)(u.x,{children:"Code intelligence"}),(0,p.BX)(f.Z,{isOpen:a,onClickOutside:function(){return c(!1)},children:[(0,p.tZ)(k,{children:(0,p.tZ)(o.Z,{})}),(0,p.tZ)(l.Z,{css:[s.l0.maxWidth(240),s.l0.p(8),"",""],children:(0,p.BX)(u.x,{multiline:!0,children:["Code intelligence gives you autocomplete, helpful info, and hints as you type. See more"," ",(0,p.tZ)("a",{href:"https://replit.com/site/blog/intel",target:"_blank",rel:"noreferrer noopener",children:"here."})]})})]})]})}function j(e){var t=e.onBeforePreferencesUpdate,n=e.onlyMobileControls,r=(0,a.Z)(),o=r.preferences,l=r.update,d=function(e){t&&t(e),l(e)};return o?(0,p.BX)(c.Z,{background:"default",css:[s.l0.p(16),s.l0.colWithGap(32),"padding-bottom:5em;",""],children:[!n&&(0,p.tZ)(w,{id:"layout",title:"Layout",children:(0,p.tZ)(i.Z,{initialSelectedItem:h.find((function(e){return o.isLayoutStacked?"stacked"===e.value:"side-by-side"===e.value})),onChange:function(e){var t="stacked"===(null===e||void 0===e?void 0:e.value);d({isLayoutStacked:t})},items:[].concat(h)})}),(0,p.tZ)(w,{id:"fontSize",title:"Font size",children:(0,p.tZ)(i.Z,{initialSelectedItem:m.find((function(e){return e.value===o.fontSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:14;d({fontSize:t})},items:[].concat(m)})}),(0,p.tZ)(w,{id:"indentType",title:"Indent type",children:(0,p.tZ)(i.Z,{initialSelectedItem:g.find((function(e){return e.value===(o.indentIsSpaces?"spaces":"tabs")})),onChange:function(e){var t="spaces"===(null===e||void 0===e?void 0:e.value);d({indentIsSpaces:t})},items:[].concat(g)})}),(0,p.tZ)(w,{id:"indentSize",title:"Indent size",children:(0,p.tZ)(i.Z,{initialSelectedItem:b.find((function(e){return e.value===o.indentSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:2;d({indentSize:t})},items:[].concat(b)})}),(0,p.tZ)(w,{id:"keybinds",title:"Keybinds",children:(0,p.tZ)(i.Z,{initialSelectedItem:v.find((function(e){return["vim","emacs"].includes(e.value)?e.value===o.keyboardHandler:"default"===e.value&&!o.keyboardHandler})),onChange:function(e){var t=["vim","emacs"].includes(e.value)?e.value:null;d({keyboardHandler:t})},items:[].concat(v)})}),(0,p.tZ)(w,{id:"wrapping",title:"Wrapping",children:(0,p.tZ)(i.Z,{initialSelectedItem:x.find((function(e){return e.value===(o.wrapping?"soft":"none")})),onChange:function(e){var t="soft"===(null===e||void 0===e?void 0:e.value);d({wrapping:t})},items:[].concat(x)})}),(0,p.tZ)(w,{id:"codeIntelligence",title:(0,p.tZ)(Z,{}),children:(0,p.tZ)(i.Z,{initialSelectedItem:y.find((function(e){return e.value===(o.codeIntelligence?"enabled":"disabled")})),onChange:function(e){var t="enabled"===(null===e||void 0===e?void 0:e.value);d({codeIntelligence:t})},items:[].concat(y)})}),(0,p.tZ)(u.x,{multiline:!0,children:"Themes now apply across the whole site. Switch themes using the sun/moon icon in the site sidebar."})]}):null}},91865:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(97131),i=n(79056),o=n(65988),a=n(67294),c=n(60356),s=n(20536),l=n(45187),u=n(47622),d=n(5152),f=n(51434),p=n(35944),h=(0,d.default)((function(){return Promise.all([n.e(571),n.e(6445)]).then(n.bind(n,16445))}),{loading:function(){return(0,p.tZ)(u.Z,{messages:[]})},loadableGenerated:{webpack:function(){return[16445]},modules:["../app/workspace/newComponents/Replbox/ReplboxConsole.tsx -> ../../plugins/console/Console"]}});function m(e){var t=e.replbox,n=function(e){var t,n=e.replbox,o=e.replId,c=a.useState([]),u=(0,i.Z)(c,2),d=u[0],p=u[1],h=a.useState(""),m=(0,i.Z)(h,2),g=m[0],b=m[1],v=a.useState(s.A.OFFLINE),x=(0,i.Z)(v,2),y=x[0],w=x[1],k=(0,l.wkf)({variables:{replId:o}}),Z="Repl"===(null===(t=k.data)||void 0===t?void 0:t.repl.__typename)?k.data.repl:null;if(a.useEffect((function(){if(Z){Z.lang.hasReplboxWebview||n.load({replId:Z.id,language:Z.lang.id});var e=Z.lang.header?{data:"".concat(Z.lang.header,"\n"),type:""}:null,t=[n.onStateChanged(w),n.onOutput((function(e){p((function(t){return[].concat((0,r.Z)(t),[{data:e,type:""}])}))})),n.onResult((function(e){p((function(t){return[].concat((0,r.Z)(t),[{data:e,type:"result"}])}))})),n.onError((function(e){p((function(t){return[].concat((0,r.Z)(t),[{data:e,type:"error"}])}))})),n.onReset((function(){p(e?[e]:[])}))];return function(){t.forEach((function(e){return e()}))}}}),[n,Z]),!Z)return null;var j=null!==Z&&void 0!==Z&&Z.lang.header?{data:"".concat(Z.lang.header,"\n"),type:""}:null;return{messages:j?[j].concat((0,r.Z)(d)):d,setConsoleMessages:p,setPromptValue:b,onConsoleInput:function(e){n.getRunState()!==s.A.STOPPING&&(y!==s.A.RUNNING?y===s.A.IDLE&&n.evalCode(e):n.write(e))},onCheckLineEnd:function(e,t){(0,f.checkLineEnd)(Z.lang.id,e,t)},promptValue:g,runState:y}}({replId:(0,c.Z)(),replbox:t});return n?(0,p.BX)("div",{className:"jsx-685207399 console",children:[n?(0,p.tZ)(h,{messages:n.messages,clearConsole:function(){return n.setConsoleMessages([])},setPromptValue:n.setPromptValue,onEval:n.onConsoleInput,promptState:n.runState!==s.A.IDLE?"input":"prompt",checkLineEnd:n.onCheckLineEnd,promptValue:n.promptValue,loading:n.runState===s.A.OFFLINE}):(0,p.tZ)(u.Z,{messages:[]}),(0,p.tZ)(o.default,{id:"685207399",children:[".console.jsx-685207399{width:100%;height:100%;background-color:var(--background-root);border-radius:var(--border-radius-4);}"]})]}):(0,p.tZ)(u.Z,{messages:[]})}},88822:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(79056),i=n(65988),o=n(67294),a=n(60356),c=n(20536),s=n(45187),l=n(59633),u=n(38934),d=n(39084),f=n(16482),p=n(35944);function h(e){var t=e.replbox,n=(0,a.Z)(),h=function(e){var t=e.replbox,n=e.replId,i=o.useState(null),a=(0,r.Z)(i,2),l=a[0],u=a[1],d=(0,s.mPx)({variables:{replId:n}}).data,f="Repl"===(null===d||void 0===d?void 0:d.repl.__typename)?d.repl:null;return o.useEffect((function(){if(f&&l)return t.load({iframeParent:l,replId:f.id,language:f.lang.id,hostedUrl:f.devUrl}),function(){t.getRunState()!==c.A.OFFLINE&&t.destroy()}}),[t,f,l]),{ref:u,repl:f}}({replId:n,replbox:t}),m=h.ref,g=h.repl;return(0,p.tZ)(d.xW,{stepId:f.H.Output,children:(0,p.BX)("div",{className:"jsx-2994938453 root",children:[null!==g&&void 0!==g&&g.lang.hasReplboxUrlBar?(0,p.tZ)(l.Z,{canEditDomain:g.currentUserPermissions.linkDomain,anon:g.devUrl.includes("--five-nine.repl.co"),url:g.config.domain?"https://".concat(g.config.domain):g.prodUrl,trackUrlSelect:function(){(0,u.trackOnce)(u.events.WEB_HOSTING_URL_SELECTED,{url:g.devUrl})},replId:n,onRefresh:t.refreshWebview,canBeClosed:!1,closeCallback:function(){}}):null,(0,p.tZ)("div",{ref:m,className:"jsx-2994938453 iframe-wrapper"}),(0,p.tZ)(i.default,{id:"2994938453",children:[".root.jsx-2994938453{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".iframe-wrapper.jsx-2994938453{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".iframe-wrapper.jsx-2994938453 iframe{width:100%;height:100%;border:none;display:block;background-color:var(--white);border-bottom-left-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);}"]})]})})}},67152:function(e,t,n){var r=n(67294),i=n(45187),o=n(60356),a=n(15300),c=n(49512),s=n(82457),l=n(49001),u=n(59633),d=n(75358),f=n(35944),p=function(e,t){var n=e.fs,p=e.canBeClosed,h=e.trackUrlSelect,m=e.onClose,g=(0,o.Z)(),b=(0,i.I5$)({variables:{id:g}}).data,v="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)?b.repl:null,x=(0,r.useContext)(a.F),y=(0,r.useRef)(null),w=(0,r.useState)(!1),k=w[0],Z=w[1],j=(0,l.f6)();(0,d.Y)(n,y);var E=function(){Z(!0),n.flush().then((function(){y.current&&(y.current.src+="")})).finally((function(){Z(!1)}))};return(0,r.useImperativeHandle)(t,(function(){return{refresh:E}})),v?(0,f.BX)(c.Z,{css:[s.l0.backgroundColor.backgroundDefault,s.l0.height("100%"),s.l0.borderRadius(4),"overflow:hidden;",""],children:[(0,f.tZ)(u.Z,{canEditDomain:v.currentUserPermissions.linkDomain,anon:v.devUrl.includes("--five-nine.repl.co"),url:v.config.domain?"https://".concat(v.config.domain):v.prodUrl,trackUrlSelect:function(){h&&h(v.devUrl)},replId:g,refreshing:k,onRefresh:E,canBeClosed:p,isKaboomDraw:j,iframe:y,closeCallback:function(){m&&m()}}),x?(0,f.tZ)(a.Y,{}):(0,f.tZ)("iframe",{"data-cy":"ws-webview",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals allow-downloads",ref:y,src:v.devUrl,css:[s.l0.flex.growAndShrink(1),{border:"none",display:"block",backgroundColor:s.TV.white},"",""]})]}):null};t.Z=(0,r.forwardRef)(p)},9082:function(e,t,n){n.d(t,{eC:function(){return o},UP:function(){return a}});var r=n(84647),i={js:"javascript",jsx:"javascript",ts:"javascript",tsx:"javascript",py:"python",java:"java"};function o(e,t){if(!e)return!1;var n=(0,r.r6)(e);return!(!t&&"java"===n)&&Boolean(i[n])}function a(e){var t=(0,r.r6)(e);return i[t]?i[t]:"unknown"}},20729:function(e,t,n){var r=n(92809),i=(n(67294),n(35944));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={progress:{base:{position:"absolute",left:"25%",right:"25%",top:"47%",height:"7px",backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRadius:"10px",borderColor:"#fff",transition:"opacity 0.5s",zIndex:1},progressFiller:{width:"100%",height:"5px",backgroundColor:"#fff"},progressFill:{animation:"x 3s ease 0s infinite",animationName:"loader-fill-animation"}}};t.Z=function(e){var t=e.loading,n=c.progress;return(0,i.tZ)("div",{style:a(a({},n.base),t?{}:{opacity:0}),children:(0,i.tZ)("div",{style:a(a({},n.progressFiller),t?n.progressFill:{})})})}},47622:function(e,t,n){var r=n(20729),i=n(35944);t.Z=function(e){var t=e.messages;return(0,i.BX)("div",{style:{height:"100%",position:"relative",fontSize:"14px",padding:"15px",boxSizing:"border-box"},children:[t.map((function(e,t){return(0,i.tZ)("span",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1em",wordWrap:"break-word",fontFamily:"monospace",color:"error"===e.type?"#f06":"#fff",position:"relative",left:"error"===e.type?"-8px":"0px"},children:e.data},t)})),(0,i.tZ)("div",{style:{marginLeft:"-8px",background:"url(/public/images/sprite.png) -13px -583px no-repeat",width:"24px",height:"16px"}}),(0,i.tZ)(r.Z,{loading:!0})]})}},51434:function(e,t,n){n.r(t),n.d(t,{Component:function(){return S},checkLineEnd:function(){return C},reducer:function(){return P}});var r=n(92809),i=n(97131),o=n(79056),a=n(67294),c=n(82100),s=n(67180),l=n(7977),u=n.n(l);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=/"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[{}()[\]]/gi,h=function(e){var t,n=0,r=0,i=0,o=d(e.match(p)||[]);try{for(o.s();!(t=o.n()).done;){switch(t.value){case"(":r++;break;case")":r--;break;case"[":i++;break;case"]":i--;break;case"{":n++;break;case"}":n--}}}catch(a){o.e(a)}finally{o.f()}return(r>0||n>0||i>0)&&1},m=function(e){return!e.includes(":}")&&(!!e.includes(":{")&&0)},g=function(e){var t=e.split("\n");if(0===t.length)return 0;var n,r=t[t.length-1].replace(/\s+$/,""),i=r.match(/^\s*/);return n=i?i[0]:"",":"===r[r.length-1]?1:!(!n.length||0===r[r.length-1].length)&&0},b=n(47622),v=n(52973),x=n(7444),y=n(20138),w=n(60356),k=n(45187),Z=n(13849),j=n(35944);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){if(/\n\s*$/.test(t))n(!1);else switch(u().get(e).key.toLowerCase()){case"html":n(h(t));break;case"haskell":n(m(t));break;case"python_turtle":n(g(t));break;default:n(!1)}}function S(e){var t=e.wid,r=e.pud,l=e.style,u=(0,w.Z)(),d=(0,c.I0)(),f=a.useRef(null),p=(0,Z.Z)();a.useEffect((function(){Promise.all([n.e(571),n.e(6445)]).then(n.bind(n,16445)).then((function(e){f.current=e.default,p()}))}),[]);var h=(0,y.J)(t,r,"console"),m=(0,o.Z)(h,1)[0],g=m.loadingEngine,v=m.consoleMessages,x=m.runstate,E=m.promptValue,S=(0,k.ba2)({variables:{replId:u}}).data,P="Repl"===(null===S||void 0===S?void 0:S.repl.__typename)?S.repl:void 0,N=(null===P||void 0===P?void 0:P.language)||"",T=null===P||void 0===P?void 0:P.lang.header,_=a.useCallback((function(e){"stopping"!==x&&d("running"!==x?(0,s.aY)({wid:t,clean:!1,code:e}):{type:"CONSOLE_INPUT",wid:t,input:e})}),[d,x,t]),I=a.useCallback((function(){d((0,s.En)({wid:t,pud:r}))}),[d,t,r]),D=a.useCallback((function(e){d({type:"SET_PROMPT_VALUE",wid:t,pud:r,promptValue:e})}),[d,t,r]),R=a.useCallback((function(e,t){C(N,e,t)}),[N]),A={data:"".concat(T,"\n"),type:""},B=T?[A].concat((0,i.Z)(v)):v;if(!f.current)return(0,j.tZ)(b.Z,{messages:B});var L=f.current;return(0,j.tZ)("div",{style:O(O({},l),{},{backgroundColor:"var(--background-root)",borderRadius:"var(--border-radius-4)"}),children:(0,j.tZ)("div",{style:{height:"100%"},children:(0,j.tZ)(L,{messages:B,showModal:function(){},clearConsole:I,setPromptValue:D,onEval:_,promptState:"idle"!==x?"input":"prompt",checkLineEnd:R,promptValue:E,loading:g})})})}var P=(0,v.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleMessages:[],loadingEngine:!1,runstate:"idle",presetStdin:"",promptValue:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.qg:return O(O({},e),t.initialState);case s.hq:return O(O({},e),{},{loadingEngine:!0});case s.FG:return O(O({},e),{},{loadingEngine:!1});case s.wP:return O(O({},e),{},{consoleMessages:e.consoleMessages.concat(t.message)});case s.aq:var n=(0,s.sC)("\nReplit: Stopping... please wait\n","error");return O(O({},e),{},{consoleMessages:e.consoleMessages.concat(n)});case"SET_PROMPT_VALUE":return O(O({},e),{},{promptValue:t.promptValue});case s.fv:return O(O({},e),{},{consoleMessages:[]});default:return e}},runstate:x.Z})},46152:function(e,t,n){n.r(t),n.d(t,{Component:function(){return Ht},receiver:function(){return Me},reducer:function(){return ze}});var r=n(79056),i=n(65988),o=n(67294),a=n(45187),c=n(82100),s=n(94184),l=n.n(s),u=n(84476);var d,f,p=n(20138),h=n(56180),m=n(97131),g=n(30266),b=n(809),v=n.n(b),x=n(17120),y=n(92809),w=n(38934);function k(e){if(!e)return"";var t=Z(e),n=(0,r.Z)(t,2),i=n[0],o=n[1];return i&&o?"".concat(i,"/").concat(o):e}function Z(e){if(!e)return["",""];var t=e.match(/^https:\/\/github\.com\/(.+)\/(.+)/);if(null!==t){var n=(0,r.Z)(t,3);return[n[1],n[2]]}return["",""]}function j(e){return e.startsWith("remotes/origin/HEAD ->")?e.split("/").reverse()[0]:(e.startsWith("remotes/origin/")&&(e=e.replace("remotes/origin/","")),e.includes(" -> ")&&(e=e.split(" -> ")[0]),e.trim())}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.UNTRACKED=0]="UNTRACKED",e[e.MODIFIED=1]="MODIFIED",e[e.MOVED=2]="MOVED",e[e.DELETED=3]="DELETED"}(d||(d={})),function(e){e[e.NONE=0]="NONE",e[e.PUSH=1]="PUSH",e[e.CLONE=2]="CLONE",e[e.FETCH=3]="FETCH",e[e.GITHUB_CREATE=4]="GITHUB_CREATE",e[e.GITHUB_GET_INFO=5]="GITHUB_GET_INFO"}(f||(f={}));var P='[ "git remote get-url origin" ]',N="git symbolic-ref HEAD --short",T="git log -0 2>/dev/null && ".concat(N," || echo 'HEAD'");function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return["bash","-c",t.join("&&")]}function I(e){return"if ! (( $(busybox ps -o comm | grep git) )) ; then rm -rf .git/index.lock; fi ; ".concat(e)}function D(e){var t=e.remote,n=void 0===t?"":t,i=e.remoteToken;if(!i)return n;var o=n.match(/(https:\/\/)(.*)/)||["","",""],a=(0,r.Z)(o,3),c=a[1],s=a[2];return"".concat(c).concat(i||"",":x-oauth-basic@").concat(s)}function R(e){return null!==new RegExp(/(^|\n)fatal: Authentication failed/g).exec(e)||null!==new RegExp(/(^|\n)fatal: unable to access/g).exec(e)||null!==new RegExp(/(^|\n)fatal: repository.*not found/g).exec(e)||null!==new RegExp(/(^|\n)fatal: could not read Username/g).exec(e)||null!==new RegExp(/(^|\n)fatal: Could not read from remote repository/g).exec(e)}function A(e){return e.includes("index.lock")}function B(e){var t=e.split(/ /g);if("1"===t[0]){var n=t[1],i=t.slice(8).join(" ");return"D"===n[1]?{change:d.DELETED,targetPath:i,origPath:i}:{change:d.MODIFIED,targetPath:i,origPath:i}}if("2"===t[0]){var o=t.slice(9).join(" ").split("\t"),a=(0,r.Z)(o,2),c=a[0],s=a[1];return{change:d.MOVED,targetPath:c,origPath:s}}if("?"===t[0]){var l=t.slice(1).join(" ");return{change:d.UNTRACKED,targetPath:l,origPath:null}}if("u"===t[0]){var u=t[2];return{change:d.MODIFIED,targetPath:u,origPath:u}}throw new Error("Unrecognized git status entry: ".concat(e))}var L={format:function(e,t){return _('[ ! -d ".git" ]',"git init","git checkout -b main","git config core.fileMode false",'git config user.name "'.concat(t.username||"Replit user",'"'),'git config user.email "<>"',"touch .git/branches/.keep","touch .git/info/.keep","touch .git/objects/.keep","touch .git/refs/.keep")}},X={format:function(e,t){return["git","rev-list","--left-right","--count","".concat(t,"...origin/").concat(t)]},parse:function(e,t){var n=t.split(/\s+/),i=(0,r.Z)(n,2),o=i[0],a=i[1];return S(S({},e),{},{commitsAhead:parseInt(o)||0,commitsBehind:parseInt(a)||0})}},F={format:function(e){return["git","status","--branch","--porcelain=v2"]},parse:function(e,t){if(t.startsWith("fatal"))return e;if(""===t.trim())return S(S({},e),{},{changedFiles:[]});var n,i=t.split("\n").filter((function(e){return""!==e.trim()})),o=e.branch,a=!0,c=[],s=E(i);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(l.startsWith("#")){var u=l.split(/\s+/),d=(0,r.Z)(u,3),f=(d[0],d[1]),p=d[2];switch(f){case"branch.head":o=p;break;case"branch.oid":a=!p.includes("(initial)")}}else c.push(B(l))}}catch(h){s.e(h)}finally{s.f()}return a||(o=""),S(S({},e),{},{branch:o,changedFiles:c})}},M={format:function(e){var t=D(e);return _("git push ".concat(t," $(").concat(N,")"))},parse:function(e,t){return R(t)?S(S({},e),{},{authError:f.PUSH}):e}},H={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=D(e);return _("git fetch ".concat(n,t?" --progress --deepen=10":" +refs/heads/*:refs/remotes/origin/* --progress --depth=10"))},parse:function(e,t){return R(t)?S(S({},e),{},{authError:f.FETCH}):e}},U={format:function(e){return 0===e.commits.length?["echo true"]:_(P,"git merge-base origin/$(".concat(N,") $(").concat(N,")"))},parse:function(e,t){return S(S({},e),{},{hasMergeBaseWithFetchedRemote:Boolean(t.length)})}},z={format:function(){return _("git fetch origin --progress")},parse:function(e,t){return R(t)?S(S({},e),{},{authError:f.FETCH}):e}},G={format:function(e){if(0===e.commits.length)return["true"];var t=["git merge-tree $(git merge-base origin/$(".concat(N,") $(").concat(N,")) origin/$(").concat(N,") $(").concat(N,")"),"grep '^changed in both'","wc -l"].join(" | ");return _(P,t)},parse:function(e,t){return S(S({},e),{},{hasConflictsWithFetchedRemote:0!==e.commits.length&&!isNaN(+t.trim())&&"0"!==t.trim()})}},V={format:function(e){return _("git reset --hard origin/$(".concat(N,")"))}},W={format:function(e){var t=D(e);return["git push ".concat(t," $(").concat(N,") --force")]}},K={format:function(){return _(P,"git merge origin/$(".concat(N,")"))},parse:function(e,t){return null!==new RegExp(/(^|\n)error: Your local changes to the following files would be overwritten by merge/g).exec(t)?S(S({},e),{},{hasConflictsWithFetchedRemote:!0}):e}},q={format:function(e){return["git","remote","get-url","origin"]},parse:function(e,t){return t.includes("No such remote")||t.startsWith("fatal")?S(S({},e),{},{remote:""}):S(S({},e),{},{remote:t.trim()})}},Y={format:function(e,t){return e.remote?_("git remote remove origin; git remote add origin ".concat(t)):_("git remote add origin ".concat(t))}},J={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r="HEAD";t&&e.commits.length>0&&(r=e.commits[e.commits.length-1].hash);var i=["%D","%H","%an","%ae","%aI","%cn","%ce","%cI","%P","%B"];return["git","log","--pretty=".concat(i.join("%x00"),"%x00%x00"),"-".concat(n+1),r,"--"]},parse:function(e,t){if(t.startsWith("fatal"))return S(S({},e),{},{commits:[]});var n=t.split("\0\0\n").filter((function(e){return""!==e})).map((function(e){return e.split("\0")})),r=!!n[0][0];n.map((function(e){return e.shift()}));var i=!1;0===e.commits.length||r||e.commits[e.commits.length-1].hash!==n[0][0]||(i=!0,n.shift());var o=i?e.commits:[];return o=o.concat(n.map((function(e){var t=(0,x.Z)(e),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],s=t[6];return{hash:n,parentHash:t[7],message:t.slice(8).join("\n"),authorName:r,authorEmail:i,authorDate:new Date(o.trim()),committerName:a,committerEmail:c,committerDate:new Date(s.trim())}}))),S(S({},e),{},{commits:o})}},$={format:function(){return _(I("git add -A"))}},Q={format:function(e,t,n){var r;r=e.gitHubName?e.gitHubName:n.fullName||n.username;var i=e.gitHubEmail||"<>",o='-c user.name="'.concat(r,'" -c user.email="').concat(i,'"'),a=t.replace(/"/g,'\\"');return _(I("git ".concat(o,' commit -m "').concat(a,'"')))},parse:function(e,t){return A(t)&&(0,w.trackOnce)(w.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"commit",remote:e.remote}),e}},ee={format:function(e,t){return e.branches.includes(t)?["git","checkout",t,"--"]:["git","checkout","-b",t,"--"]}},te={format:function(e){var t=D(e);return _("git remote show ".concat(t," | grep 'HEAD branch'"))},parse:function(e,t){var n=t.split(":"),i=(0,r.Z)(n,2),o=(i[0],i[1].trim());return S(S({},e),{},{defaultBranch:o})}},ne={format:function(e){return _("git checkout ".concat(e.defaultBranch))}},re={format:function(e,t){return _("git revert ".concat(t,"..$(").concat(T,") --no-commit"))}},ie={format:function(e){return _(I("git reset $(".concat(T,") --")))},parse:function(e,t){return A(t)&&(0,w.trackOnce)(w.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"reset",remote:e.remote}),e}},oe={format:function(e){return _("git rev-parse --is-inside-work-tree")},parse:function(e,t){return S(S({},e),{},{isInitialized:t.startsWith("true")})}},ae={format:function(e){return _("git add -A","git reset --hard $(".concat(T,") --"))}},ce={format:function(e){return["git","branch","-a","--no-color"]},parse:function(e,t){if(t.startsWith("fatal"))return e;var n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return e.startsWith("* ")?e.replace(/^\*\s+/,""):e})).map((function(e){return e.trim()})).map(j);return S(S({},e),{},{branches:Array.from(new Set(n))})}},se=n(68216),le=n(91077),ue=n(30268),de=n(92953),fe=n(63207),pe=n(54098),he=n.n(pe);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,de.Z)(e);if(t){var i=(0,de.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var ve="https://api.github.com",xe=function(e){(0,le.Z)(n,e);var t=be(n);function n(){var e;return(0,se.Z)(this,n),(e=t.call(this)).message="GitHub Auth Error",e}return n}((0,fe.Z)(Error));function ye(e,t){return we.apply(this,arguments)}function we(){return(we=(0,g.Z)(v().mark((function e(t,n){var i,o,a,c,s,l,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z(n),o=(0,r.Z)(i,2),a=o[0],c=o[1],s={cache:"no-store"},t&&(s.headers={Authorization:"Bearer ".concat(t)}),e.next=5,he()("".concat(ve,"/repos/").concat(a,"/").concat(c),s);case 5:return l=e.sent,e.next=8,je(l);case 8:return u=e.sent,e.abrupt("return",ge({},u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,g.Z)(v().mark((function e(t){var n,r,i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,r=t.owner,i=t.ownerType,o=t.repoData,n){e.next=4;break}throw(0,w.track)(w.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("Unable to create repository");case 4:if("User"!==i){e.next=10;break}return e.next=7,he()("".concat(ve,"/user/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:JSON.stringify(o)});case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,he()("".concat(ve,"/orgs/").concat(r,"/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),Accept:"application/vnd.github.nebula-preview+json"},body:JSON.stringify(o)});case 12:a=e.sent;case 13:return e.abrupt("return",je(a));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,g.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:n=new Error("Bad GitHub Response"),e.t0=t.status,e.next=401===e.t0||404===e.t0?6:9;break;case 6:return(0,w.track)(w.events.GITHUB_API_ERROR_BAD_CREDENTIALS),n=new xe,e.abrupt("break",10);case 9:(0,w.track)(w.events.GITHUB_API_ERROR_GENERAL);case 10:throw n;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=n(51218),Ce=n(14147);function Se(e){var t=e.cmd,n=e.args,r=void 0===n?[]:n,i=e.wid,o=e.pud,a=t.format,c=t.parse;return function(){var e=(0,g.Z)(v().mark((function e(n,s){var l,u,d,f,h,g;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(0,p.Z)(s(),i,o,"git"),u=l.gitState,d=l.execer,f=l.isExecInProgress,h=l.execQueue,d){e.next=3;break}throw new Error("Expected execer to be registered");case 3:if(f){e.next=9;break}if(n({type:"SEND_GIT_EXEC_COMMAND",wid:i,pud:o}),g=Ce.Z.get(d)){e.next=8;break}throw new Error("Exepected exec handle to contain exec service");case 8:g.request({args:a.apply(void 0,[u].concat((0,m.Z)(r)))});case 9:if(0!==h.length&&!f){e.next=11;break}return e.abrupt("return",new Promise((function(e,a){n({type:"QUEUE_GIT_EXEC",cmd:t,args:r,parser:void 0!==c?c:function(e){return e},callback:e,wid:i,pud:o})})));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Pe(e){var t=e.history,n=void 0!==t&&t,r=e.write,i=void 0!==r&&r,o=e.persist,a=void 0!==o&&o,c=e.prefer,s=void 0===c?null:c,l=e.wid,u=e.pud;return function(){var e=(0,g.Z)(v().mark((function e(t,r){var o,c,d,f,h,m,b,x,y,w;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,n){return t(Se({cmd:e,wid:l,pud:u,args:n}))},e.next=3,o(oe);case 3:if(c=(0,p.Z)(r(),l,u,"git"),d=c.gitState,f=d.isInitialized,h=d.remote,f){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,o(ie);case 8:return e.next=10,o(q);case 10:if(!i||!h){e.next=38;break}if(null!==s){e.next=14;break}return e.next=14,o(G);case 14:if(m=(0,p.Z)(r(),l,u,"git"),!m.gitState.hasConflictsWithFetchedRemote&&null===s){e.next=32;break}if("remote"!==s){e.next=23;break}return e.next=19,o(V);case 19:return e.next=21,o(M);case 21:e.next=30;break;case 23:if("repl"!==s){e.next=30;break}return e.next=26,o(W);case 26:return e.next=28,o(M);case 28:e.next=30;break;case 30:e.next=36;break;case 32:return e.next=34,o(K);case 34:return e.next=36,o(M);case 36:e.next=41;break;case 38:if(!n||!h){e.next=41;break}return e.next=41,o(K);case 41:if((i||n||a)&&t({type:"PERSIST_FILE",path:".git",wid:l}),b=(0,p.Z)(r(),l,u,"git"),!b.gitState.remote){e.next=47;break}return x=function(){var e=(0,g.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(H,[t]);case 2:return e.next=4,o(J);case 4:return e.next=6,o(U);case 6:if(n=(0,p.Z)(r(),l,u,"git"),n.gitState.hasMergeBaseWithFetchedRemote){e.next=10;break}return e.next=10,x(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=47,x(!1);case 47:return o(ce),o(J),e.next=51,o(F);case 51:y=(0,p.Z)(r(),l,u,"git"),w=y.gitState.branch,o(X,[w]);case 53:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Ne(e){var t=e.wid,n=e.pud,r=e.remote;return function(){var e=(0,g.Z)(v().mark((function e(i,o){var c,s,l,u,d,f,h,m,g,b,x;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e,r){return i(Se({cmd:e,args:r,wid:t,pud:n}))},e.next=3,i({type:"START_GIT_CLONE",wid:t});case 3:if(s=!!r.match(/^https?:\/\/github\.com/i),l=!!r.match(/^https?:\/\/api\.glitch\.com/i),!s){e.next=18;break}if(e.prev=6,Oe.l){e.next=9;break}throw new Error("expected apollo");case 9:return e.next=11,Oe.l.query({query:a.dJQ});case 11:f=e.sent,h=f.data,null!==(u=h.currentUser)&&void 0!==u&&null!==(d=u.gitHubInfo)&&void 0!==d&&d.accessToken&&(x=h.currentUser.gitHubInfo,i({type:"UPDATE_GIT_STATE",updates:{remoteToken:x.accessToken,gitHubName:null===(m=x.userInfo)||void 0===m?void 0:m.name,gitHubEmail:null===(g=x.userInfo)||void 0===g?void 0:g.email,gitHubAvatarUrl:null===(b=x.userInfo)||void 0===b?void 0:b.avatarUrl,installations:x.installations},wid:t,pud:n})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(6);case 18:return e.next=20,c(L,[o().user.userInfo]);case 20:return e.next=22,c(Y,[r]);case 22:return e.next=24,c(q);case 24:return e.next=26,i({type:"START_CLONE_PROGRESS",wid:t,pud:n});case 26:return e.next=28,c(l?z:H);case 28:return e.next=30,c(te);case 30:return e.next=32,c(ne);case 32:return e.next=34,i({type:"END_CLONE_PROGRESS",wid:t,pud:n});case 34:if(l){e.next=39;break}return e.next=37,i(Pe({wid:t,pud:n,history:!0}));case 37:e.next=43;break;case 39:return e.next=41,c(F);case 41:return e.next=43,new Promise((function(e){return setTimeout(e,1e3)}));case 43:(function e(){var r=(0,p.Z)(o(),t,n,"git"),a=r.execQueue,c=r.isExecInProgress;0!==a.length||c?setTimeout(e,1e3):i({type:"END_GIT_CLONE",wid:t})})();case 45:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}()}function Te(e,t){return function(){var n=(0,g.Z)(v().mark((function n(r,i){var o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(n,i){return r(Se({cmd:n,args:i,wid:e,pud:t}))},n.next=3,o($);case 3:return n.next=5,o(Q,["Initial commit",i().user.userInfo]);case 5:return n.next=7,r(Pe({wid:e,pud:t,write:!0}));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function _e(e){var t=e.wid,n=e.pud;return function(){var e=(0,g.Z)(v().mark((function e(r,i){var o,a,c,s,l,u,d,f,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Se({cmd:q,wid:t,pud:n}));case 2:if(o=(0,p.Z)(i(),t,n,"git"),a=o.gitState,c=a.remote,s=a.remoteToken,l=!1,!c||!s){e.next=19;break}return e.prev=5,e.next=8,ye(s,c);case 8:return u=e.sent,d=u.permissions,f=u.id,h=u.owner,l=d&&d.push,e.next=15,r({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{repoId:f,ownerId:h.id}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(5);case 19:r({type:"GIT_REMOTE_CHECKED",wid:t,canPush:l,remote:c});case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n){return e.apply(this,arguments)}}()}var Ie,De=n(67180);!function(e){e.CHANNEL_OPENED="CHANNEL_OPENED",e.OUTPUT_RECEIVED="OUTPUT_RECEIVED",e.STATE_CHANGED="STATE_CHANGED"}(Ie||(Ie={}));var Re=n(40354),Ae=n(50055);function Be(e){var t=e.container,n=(0,Re.Z)(),r=null;function i(){return o.apply(this,arguments)}function o(){return(o=(0,g.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:return e.abrupt("return",new Promise((function(e){n.once(Ie.CHANNEL_OPENED,(function(t){e(t)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a="";return t.openChannel({service:"exec"},(function(e){var t=e.error,i=e.channel;if(!t){if(!i)throw new Error("Expected channel");var o=!1;return i.onCommand((function(e){if(null!=e.output)a+=e.output,n.emit(Ie.OUTPUT_RECEIVED,e.output);else if(null!=e.state){if(!o)return void(o=!0);n.emit(Ie.STATE_CHANGED,{state:e.state,outputBuffer:a}),e.state===Ae.api.State.Stopped&&(a="")}})),r=i,n.emit(Ie.CHANNEL_OPENED,i),function(){r=null}}})),{request:function(){var e=(0,g.Z)(v().mark((function e(t){var n,r,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.env,r=t.args,e.next=3,i();case 3:return o=e.sent,e.abrupt("return",o.request({exec:{env:n,args:r,blocking:!0}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOutput:function(e){return n.on(Ie.OUTPUT_RECEIVED,e),function(){n.off(Ie.OUTPUT_RECEIVED,e)}},onStateChanged:function(e){return n.on(Ie.STATE_CHANGED,e),function(){n.off(Ie.STATE_CHANGED,e)}},getStatus:function(){return r?r.status:"closed"}}}var Le=n(95610);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){switch(n.type){case"WORKSPACE_MOUNTED":return function(){var n=(0,g.Z)(v().mark((function n(r,i){var o,a,c;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=function(){return(c=(0,g.Z)(v().mark((function n(a){var c,s,l,u,d;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a===Le.e.CONNECTED){n.next=2;break}return n.abrupt("return");case 2:if(c=(0,p.Z)(i(),e,t,"git"),s=c.gitState,(l=Be({container:o})).onOutput((function(n){(0,p.Z)(i(),e,t,"git").shouldDisplayCloneLogs&&r((0,De.yY)({wid:e,message:n,type:"interp",raw:!1}))})),l.onStateChanged((function(n){var o=n.state,a=n.outputBuffer,c=(0,p.Z)(i(),e,t,"git").execQueue;o===Ae.api.State.Stopped&&0!==c.length&&r({type:"EXIT_GIT_EXEC_COMMAND",output:a,wid:e})})),r({type:"REGISTER_EXECER_SERVICE_HANDLE",execer:Ce.Z.getHandle(l),wid:e,pud:t}),s.remoteToken){n.next=10;break}return n.next=10,r(_e({wid:e,pud:t}));case 10:if(u=s.remote){n.next=13;break}return n.abrupt("return");case 13:return n.next=15,r(Se({cmd:oe,wid:e,pud:t}));case 15:d=(0,p.Z)(i(),e,t,"git"),d.gitState.isInitialized||(r((0,De.yY)({wid:e,message:"cloning into ".concat(u,"...\n"),type:"interp",raw:!1})),r({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CLONED",wid:e}),r(Ne({remote:u,wid:e,pud:t})));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)},a=function(e){return c.apply(this,arguments)},(o=i().services.container).getConnectionState()===Le.e.CONNECTED?a(Le.e.CONNECTED):o.onConnectionStateChanged(a);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();case"FILE_CLEAN":return function(n,r){var i=(0,p.Z)(r(),e,t,"git"),o=i.gitState,a=i.hasOpened;o.isInitialized&&a&&n(Se({cmd:F,wid:e,pud:t}))};case"EXIT_GIT_EXEC_COMMAND":return function(){var r=(0,g.Z)(v().mark((function r(i,o){var a,c,s,l,u,d;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(0,p.Z)(o(),e,t,"git"),c=a.execQueue[0],s=Ce.Z.safeGet(c.parser),l=Ce.Z.safeGet(c.callback),r.next=6,i({type:"DEQUEUE_GIT_EXEC",wid:e,pud:t});case 6:return r.next=8,i({type:"UPDATE_GIT_STATE",updates:Fe({},s(a.gitState,n.output)),wid:e,pud:t});case 8:l(),(u=(0,p.Z)(o(),e,t,"git")).execQueue.length>0&&(d=u.execQueue[0],i(Se({cmd:d.cmd,args:d.args,wid:e,pud:t})));case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();case"START_GIT_CLONE":return function(){var t=(0,g.Z)(v().mark((function t(n){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Cloning",wid:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();case"END_GIT_CLONE":return function(){var n=(0,g.Z)(v().mark((function n(r){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"UNLOCK_WORKSPACE",wid:e}),n.next=3,r(_e({wid:e,pud:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();case"GITHUB_REPOSITORY_CREATED":case"CHECK_GIT_REMOTE":return function(){var n=(0,g.Z)(v().mark((function n(r){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(_e({wid:e,pud:t}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();default:return null}}function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e,t){switch(t.type){case"@@INIT":return{gitState:{isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:f.NONE,remote:t.initialState.gitRemoteUrl||"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},hasOpened:!1,isSidebarVisible:!1,isCloneInProgress:!1,shouldDisplayCloneLogs:!1,isExecInProgress:!1,isLoading:!0,persistCount:0,execQueue:[],execer:null};case"REGISTER_EXECER_SERVICE_HANDLE":return Ue(Ue({},e),{},{execer:t.execer});case"SEND_GIT_EXEC_COMMAND":return Ue(Ue({},e),{},{isExecInProgress:!0,isLoading:!0});case"EXIT_GIT_EXEC_COMMAND":return Ue(Ue({},e),{},{isExecInProgress:!1});case"QUEUE_GIT_EXEC":var n=Ce.Z.getHandle(t.parser),r=Ce.Z.getHandle(t.callback);return Ue(Ue({},e),{},{execQueue:e.execQueue.concat({cmd:t.cmd,args:t.args,parser:n,callback:r})});case"DEQUEUE_GIT_EXEC":return Ue(Ue({},e),{},{execQueue:e.execQueue.slice(1)});case"PERSIST_FILE":return Ue(Ue({},e),{},{isLoading:!0,persistCount:e.persistCount+1});case"FILE_PERSISTED":return Ue(Ue({},e),{},{isLoading:!1,persistCount:e.persistCount-1});case"START_GIT_CLONE":return Ue(Ue({},e),{},{isCloneInProgress:!0});case"START_CLONE_PROGRESS":return Ue(Ue({},e),{},{shouldDisplayCloneLogs:!0});case"END_CLONE_PROGRESS":return Ue(Ue({},e),{},{shouldDisplayCloneLogs:!1});case"END_GIT_CLONE":return Ue(Ue({},e),{},{isCloneInProgress:!1});case"UPDATE_GIT_STATE":return Ue(Ue({},e),{},{gitState:Ue(Ue({},e.gitState),t.updates),isLoading:e.execQueue.length>0||e.persistCount>0||e.isCloneInProgress});case"SET_GIT_SIDEBAR_VISIBILITY":return Ue(Ue({},e),{},{isSidebarVisible:t.isSidebarVisible,hasOpened:!0});default:return e}},Ge=n(88834),Ve=n(68047),We=n(53577),Ke=n(45971),qe=n(35944),Ye=function(e,t){var n=k(t),r="";switch(e){case f.PUSH:r="push to ".concat(n);break;case f.FETCH:r="fetch from ".concat(n);break;case f.CLONE:r="clone from ".concat(n);break;case f.GITHUB_CREATE:case f.GITHUB_GET_INFO:default:r="create new repositories"}return"Please grant Replit permission to access GitHub on your behalf and confirm that you have permission to ".concat(r,".")},Je=function(e){var t=e.repoId,n=e.ownerId,r=e.wid,a=e.pud,s=e.authError,l=e.onAuth,u=(0,c.I0)();(0,o.useEffect)((function(){u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_AUTH_REQUESTED",wid:r})}),[]);var d=(0,c.v9)((function(e){return(0,p.Z)(e,r,a,"git")})).gitState,h=function(){return u({type:"UPDATE_GIT_STATE",updates:{authError:f.NONE},wid:r,pud:a})},m="Connect to GitHub";d.remote&&(m="Unable to connect to this GitHub repository");var b=(0,We.v)({suggestedRepoId:t,ownerId:n,onAuth:function(){var e=(0,g.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(),l();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});return(0,qe.BX)(Ke.Z,{onRequestClose:h,isOpen:!0,children:[(0,qe.tZ)(i.default,{id:"2605519585",children:[".auth-modal.jsx-2605519585{padding:20px 24px;background:var(--background-default);color:var(--foreground-default);}","h2.jsx-2605519585{margin-bottom:16px;}","p.jsx-2605519585{margin-bottom:24px;line-height:1.4em;}",".button-group.jsx-2605519585{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".button-group.jsx-2605519585 .sentence-case{text-transform:none;}"]}),(0,qe.BX)("div",{className:"jsx-2605519585 auth-modal",children:[(0,qe.tZ)("h2",{className:"jsx-2605519585",children:m}),(0,qe.tZ)("p",{className:"jsx-2605519585",children:Ye(s,d.remote)}),(0,qe.tZ)("div",{className:"jsx-2605519585 button-group",children:(0,qe.tZ)(Ge.Z,{color:"primary",filled:!0,style:{marginLeft:8},onClick:b,children:"Connect Replit to your GitHub Account"})})]})]})},$e=n(43129),Qe=n(38320),et=n(60907),tt=n(50133),nt=n(11111),rt=n(41649),it=function(e){return e.trim().split(" ").join("-")},ot=function(e){var t=e.isOpen,n=e.isCreatingBranch,r=e.onClose,o=e.currentBranch,a=e.branches,c=e.successHandler;if(!t)return null;var s=(0,tt.Y)("",(function(e){return e?a.includes(it(e))?{message:"* this branch name already exists"}:void 0:{message:"* branch names cannot be blank"}})),l=function(){var e=(0,g.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.validate()){e.next=4;break}return e.abrupt("return");case 4:c(it(s.value));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,qe.tZ)(Ke.Z,{onRequestClose:r,isOpen:!0,children:(0,qe.BX)("div",{className:"jsx-3419757121 container",children:[(0,qe.BX)("form",{onSubmit:l,autoComplete:"off",className:"jsx-3419757121",children:[(0,qe.tZ)("h1",{className:"jsx-3419757121",children:"Create a new branch"}),(0,qe.tZ)("h2",{className:"jsx-3419757121",children:n?"Creating your new branch":"This branch will be created from ".concat(o)}),(0,qe.tZ)("div",{className:"jsx-3419757121 creation-error",children:s.error&&s.error.message}),(0,qe.tZ)("div",{className:"jsx-3419757121 section",children:(0,qe.tZ)(rt.ZP,{ref:s.ref,value:s.value,type:"text",autoFocus:!0,name:"branch-name",autoComplete:"off",onChange:function(e){s.setValue(e.currentTarget.value)},placeholder:"name your branch (required)",onFocus:function(e){return e.target.select()}})}),(0,qe.tZ)(Ge.Z,{type:"submit","data-testid":"git-confirm-github-repo",color:"primary",filled:!0,children:n?(0,qe.BX)("span",{className:"jsx-3419757121",children:["creating",(0,qe.tZ)(nt.Z,{style:{fontSize:"20px",padding:"1px"}})]}):"create"})]}),(0,qe.tZ)(i.default,{id:"3419757121",children:[".container.jsx-3419757121{font-size:1rem;width:510px;padding:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:100%;color:var(--foreground-default);}",".container.jsx-3419757121 form.jsx-3419757121{width:90%;}",".container.jsx-3419757121 h1.jsx-3419757121{font-size:23px;margin-bottom:10px;font-weight:normal;}",".container.jsx-3419757121 h2.jsx-3419757121{color:var(--foreground-dimmer);font-size:16px;margin-bottom:15px;font-weight:normal;}",".creation-error.jsx-3419757121{min-height:16px;margin:10px;color:var(--accent-negative-default);}",".section.jsx-3419757121{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}"]})]})})},at=n(25517),ct=n(85231),st=function(e){var t,n,r=e.checkoutBranch,a=e.gitState,c=e.isLoading,s=e.wid,u=e.isNarrow,d=(0,o.useState)(!1),f=d[0],p=d[1];return(0,o.useEffect)((function(){!c&&f&&p(!1)}),[c]),(0,qe.BX)("div",{className:"jsx-34957389 "+(l()("branch-info",{disabled:1===a.branches.length})||""),children:[(0,qe.tZ)(i.default,{id:"34957389",children:[".branch-info.jsx-34957389{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--space-8);margin-top:10px;}",".branch-info-label.jsx-34957389{color:var(--foreground-default);font-size:14px;margin-bottom:3px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".branch-info-selectWrapper.jsx-34957389{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;}",".branch-info-select.jsx-34957389{-webkit-flex:1;-ms-flex:1;flex:1;}"]}),(0,qe.tZ)("div",{className:"jsx-34957389 branch-info-selectWrapper",children:(0,qe.BX)("div",{className:"jsx-34957389 branch-info-select",children:[(0,qe.tZ)(et.Z,{}),(0,qe.tZ)($e.ZP,{clearable:!1,className:"branchSelect-".concat(window.btoa(s).substr(0,10)),disabled:1===a.branches.length,onChange:function(e){e&&!Array.isArray(e)&&e.value!==a.branch&&e.value&&r(e.value)},openOnFocus:!0,options:(t=a.branches,n=a.defaultBranch,0===t.length?[]:t.sort((function(e){return e===n?-1:0})).map((function(e){return{value:e,label:e}}))),optionRenderer:function(e){return function(e){var t=e.branch,n=e.defaultBranch,r=e.currentBranch,o=t.value===r;return(0,qe.BX)("div",{className:"jsx-3730308413 "+(l()("branchOption",{selected:o})||""),children:[(0,qe.tZ)(i.default,{id:"3730308413",children:[".branchOption.jsx-3730308413{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".branchOption-checkmark.jsx-3730308413{height:12px;width:12px;margin-right:3px;}",".branchOption-name.jsx-3730308413{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".branchOption-defaultLabel.jsx-3730308413{font-size:10px;color:var(--foreground-default);margin:0 2px;}",".selected.jsx-3730308413 .branchOption-defaultLabel.jsx-3730308413{color:var(--foreground-dimmer);}"]}),o&&(0,qe.tZ)("div",{className:"jsx-3730308413 branchOption-checkmark",children:(0,qe.tZ)(Qe.Checkmark,{})}),(0,qe.BX)("div",{className:"jsx-3730308413 branchOption-name",children:[(0,qe.tZ)("label",{className:"jsx-3730308413",children:t.label}),t.label===n&&(0,qe.tZ)("label",{className:"jsx-3730308413 branchOption-defaultLabel",children:"default"})]})]})}({branch:e,currentBranch:a.branch,defaultBranch:a.defaultBranch})},placeholder:"loading...",searchable:!0,value:a.branch,valueRenderer:function(){return(0,qe.BX)(o.Fragment,{children:[!u&&(0,qe.tZ)(at.Z,{foreground:2,children:"branch: "}),a.branch]})}})]})}),(0,qe.tZ)(Ge.Z,{Icon:ct.Z,onClick:function(){return p(!0)},title:"Create new branch"}),(0,qe.tZ)(ot,{branches:a.branches,currentBranch:a.branch,isCreatingBranch:f&&c,isOpen:f,onClose:function(){return p(!1)},successHandler:function(e){r(e)}})]})},lt=n(53567),ut=function(e){var t=e.branch,n=e.commitsBehind,r=e.isLoading;return(0,qe.BX)("div",{className:"jsx-2981295578 remote-progress",children:[(0,qe.tZ)(i.default,{id:"2981295578",children:[".remote-progress.jsx-2981295578{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:var(--space-8);max-width:100%;}",".remote-progress p{overflow:hidden;text-overflow:ellipsis;}",".remote-progress .emphasized{color:var(--foreground-default);}"]}),(0,qe.tZ)((function(){return r?(0,qe.tZ)("p",{children:"checking latest changes... "}):n&&1===n?(0,qe.BX)("p",{children:[(0,qe.tZ)("span",{className:"emphasized",children:"1"})," commit behind ",t]}):n&&n>1?(0,qe.BX)("p",{children:[(0,qe.tZ)("span",{className:"emphasized",children:n})," commits behind"," ",t]}):(0,qe.BX)("p",{children:["up to date with ",t]})}),{className:"jsx-2981295578"})]})},dt=function(e){var t=e.gitState,n=e.isLoading,r=e.pull,o=e.setGithubCreationModalOpen,a=""!==t.remote;return(0,qe.BX)("div",{className:"jsx-3224755246 remote-info",children:[(0,qe.tZ)(i.default,{id:"3224755246",children:[".remote-info.jsx-3224755246{display:grid;grid-gap:var(--space-16);margin:6px 0;}",".remote-wrapper-info.jsx-3224755246{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".remote-wrapper-infolink.jsx-3224755246{padding:0 3px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".icon-wrapper.jsx-3224755246{height:var(--space-16);width:var(--space-16);margin-right:var(--space-4);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:inherit;}",".remote-info-progress.jsx-3224755246{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}"]}),a?(0,qe.BX)("div",{className:"jsx-3224755246 remote-wrapper-info",children:[(0,qe.tZ)("div",{title:"Repository origin",className:"jsx-3224755246 icon-wrapper",children:(0,qe.tZ)(Qe.GitHub,{})}),(0,qe.tZ)("a",{href:t.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-3224755246 remote-wrapper-infolink",children:k(t.remote)})]}):(0,qe.tZ)(Ge.Z,{fullWidth:!0,onClick:function(){o(!0)},children:(0,qe.BX)(lt.Ug,{spacing:1,align:"center",children:[(0,qe.tZ)("div",{className:"jsx-3224755246 icon-wrapper",children:(0,qe.tZ)(Qe.GitHub,{})}),(0,qe.tZ)("div",{className:"jsx-3224755246",children:"Connect to Github"})]})}),a&&(0,qe.BX)("div",{className:"jsx-3224755246 remote-info-progress",children:[(0,qe.tZ)(ut,{branch:t.branch,commitsBehind:t.commitsBehind,isLoading:n}),!!t.commitsBehind&&t.commitsBehind>0&&(0,qe.tZ)(Ge.Z,{color:"orange",onClick:r,children:"Pull \u2190"})]})]})},ft=n(98731),pt=function(e){switch(e.change){case d.UNTRACKED:return"new";case d.MODIFIED:return"modified";case d.MOVED:return"renamed";case d.DELETED:return"deleted";default:return""}},ht=function(e){var t,n,r=e.file,o=e.active,a=e.handleChangedFileClick,c=!1;if(r.targetPath.endsWith("/")){c=!0;var s=r.targetPath.substr(0,r.targetPath.length-1).split("/");t=s[s.length-1]+"/",n=s.slice(0,s.length-1).join("/")}else{var l=r.targetPath.split("/");t=l[l.length-1],n=l.slice(0,l.length-1).join("/")}var u=pt(r),f=u.substr(0,1).toUpperCase(),p=["changedFileItem"];return o&&p.push("active"),c||r.change===d.DELETED||p.push("showable"),(0,qe.BX)("div",{onClick:function(){c||r.change===d.DELETED||a(r.targetPath)},className:"jsx-3049331744 "+(p.join(" ")||""),children:[(0,qe.tZ)(i.default,{id:"3049331744",children:[".changedFileItem.jsx-3049331744{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--background-highest);border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:5px;padding:6px 12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;}",".showable.changedFileItem.jsx-3049331744{cursor:pointer;}",".changedFileItem.jsx-3049331744:hover{background-color:var(--accent-primary-dimmer);}",".changedFileItem.jsx-3049331744:hover .changeModeBadge.jsx-3049331744 .letter.jsx-3049331744{display:none;}",".changedFileItem.jsx-3049331744:hover .changeModeBadge.jsx-3049331744 .word.jsx-3049331744{display:block;}",".changedFileItem.active.jsx-3049331744{background-color:var(--accent-primary-default);border-color:transparent;color:var(--white);}",".showable.jsx-3049331744 .fileName.jsx-3049331744:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".fileName.jsx-3049331744,.dirs.jsx-3049331744,.changeMode.jsx-3049331744{display:block;white-space:nowrap;}",".changeMode.jsx-3049331744{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".fileName.jsx-3049331744{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;max-width:60%;overflow:hidden;text-overflow:ellipsis;}",".changeMode.jsx-3049331744{margin-left:8px;}",".dirs.jsx-3049331744{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;margin-right:auto;opacity:0.7;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".changeModeBadge.jsx-3049331744{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#999;border-radius:2.5px;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:24px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:24px;padding:2px 4px;-webkit-transition:width 0.1s;transition:width 0.1s;}",".changeModeBadge.jsx-3049331744 .word.jsx-3049331744{display:none;}",".changedFileItem.active.jsx-3049331744 .changeModeBadge.jsx-3049331744,.changedFileItem.active.jsx-3049331744:hover .new.jsx-3049331744,.changedFileItem.active.jsx-3049331744:hover .modified.jsx-3049331744,.changedFileItem.active.jsx-3049331744:hover .deleted.jsx-3049331744{background-color:var(--background-default);color:var(--foreground-dimmer);border:transparent;}",".new.jsx-3049331744{background:var(--accent-positive-dimmest);border:1px solid var(--accent-positive-default);color:var(--accent-positive-default);}",".modified.jsx-3049331744{background:var(--accent-orange-dimmest);border:1px solid var(--accent-orange-default);color:var(--accent-orange-default);}",".deleted.jsx-3049331744{background:var(--accent-negative-dimmest);border:1px solid var(--accent-negative-default);color:var(--accent-negative-stronger);}",".deleted.jsx-3049331744:hover{cursor:not-allowed;}",".changedFileItem.jsx-3049331744:hover .new.jsx-3049331744{background:var(--accent-positive-default);color:var(--foreground-default);}",".changedFileItem.jsx-3049331744:hover .modified.jsx-3049331744{background:var(--accent-orange-default);color:var(--foreground-default);}",".changedFileItem.jsx-3049331744:hover .deleted.jsx-3049331744{background:var(--accent-negative-default);color:var(--foreground-default);}",".renamed.jsx-3049331744{background:var(--accent-primary-dimmer);}"]}),(0,qe.tZ)("div",{title:t,className:"jsx-3049331744 fileName",children:t}),(0,qe.tZ)("div",{title:n,className:"jsx-3049331744 dirs",children:n}),(0,qe.tZ)("div",{className:"jsx-3049331744 changeMode",children:(0,qe.BX)("div",{className:"jsx-3049331744 "+("changeModeBadge "+u||0),children:[(0,qe.tZ)("div",{className:"jsx-3049331744 letter",children:f}),(0,qe.tZ)("div",{className:"jsx-3049331744 word",children:f+u.substr(1)})]})})]})},mt=function(e){var t=e.changedFiles,n="changed files or folders";if(1===t.length){var r=pt(t[0])||"changed";n="".concat(r," file or folder")}return(0,qe.BX)("div",{className:"jsx-2509994369 changed-file-message",children:[(0,qe.tZ)(i.default,{id:"2509994369",children:[".emphasized.jsx-2509994369{color:var(--foreground-default);}","p.jsx-2509994369{color:var(--foreground-dimmer);margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]}),(0,qe.BX)("p",{className:"jsx-2509994369",children:[(0,qe.BX)("span",{className:"jsx-2509994369 emphasized",children:[" ",t.length," "]})," ",n]})]})},gt=function(e){var t=e.branch,n=e.commitsAhead,r="commit ahead of";return n&&n>1&&(r="commits ahead of"),(0,qe.BX)("div",{className:"jsx-688718476",children:[(0,qe.tZ)(i.default,{id:"688718476",children:[".emphasized.jsx-688718476{color:var(--foreground-default);}","p.jsx-688718476{color:var(--foreground-dimmer);margin-bottom:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]}),(0,qe.BX)("p",{className:"jsx-688718476",children:[(0,qe.BX)("span",{className:"jsx-688718476 emphasized",children:[" ",n," "]})," ",r," ",t]})]})},bt=function(e){var t=e.disabled,n=e.onClick;return(0,qe.tZ)(Ge.Z,{disabled:t,className:"push-button",onClick:n,color:"primary",children:"commit & push \u2192"})},vt=function(e){var t=e.activeFile,n=e.branch,r=e.changedFiles,a=e.commits,c=e.commitsAhead,s=e.commitsBehind,l=e.handleChangedFileClick,u=e.isLoading,d=e.gitCommit,f=e.gitPush,p=(0,o.useState)(""),h=p[0],m=p[1],g=(0,o.useState)(!1),b=g[0],v=g[1],x=(0,o.useState)(!1),y=x[0],w=x[1],k=r;function Z(){var e=h.trim();""!==e?(d(e),m(""),v(!1)):v(!0)}y||(k=r.slice(0,3));var j=r.length>0,E=!!c&&c>0,O=!!s&&s>0;return u&&!j?(0,qe.BX)("div",{className:"jsx-2126029611 loading",children:[(0,qe.tZ)(i.default,{id:"2126029611",children:[".loading.jsx-2126029611{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;margin-right:12px;background:var(--background-root);border-radius:2.5px;width:100%;}",".loading-content.jsx-2126029611{border-radius:2.5px;color:var(--foreground-default);padding:10px 8px;text-align:center;width:100%;}"]}),(0,qe.BX)("div",{className:"jsx-2126029611 loading-content",children:["loading",(0,qe.tZ)(nt.Z,{style:{fontSize:"20px",padding:"1px"}})]})]}):j||E||O?(0,qe.BX)("div",{className:"jsx-3435429025 editableGitCommitItem",children:[(0,qe.tZ)(i.default,{id:"3435429025",children:[".editableGitCommitItem.jsx-3435429025{background:var(--background-default);box-sizing:border-box;color:var(--foreground-default);margin-top:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}",".commit-author-box.jsx-3435429025{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:15px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:16px;}","textarea.jsx-3435429025{background-color:transparent;border:1px solid var(--foreground-dimmest);border-radius:var(--border-radius-4);box-shadow:none;color:var(--foreground-default);font-size:1em;margin-bottom:10px;padding:8px 12px;overflow-y:auto;width:100%;resize:vertical;max-height:100px;}","textarea.jsx-3435429025:hover{background-color:var(--background-root);}","textarea.jsx-3435429025:focus{border-color:var(--accent-primary-default);background-color:var(--background-root);outline:0 none;}","textarea.jsx-3435429025::-webkit-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-3435429025::-moz-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-3435429025:-ms-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-3435429025::placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea[disabled].jsx-3435429025{border-color:var(--foreground-dimmest);cursor:not-allowed;opacity:0.5;}","textarea.invalid.jsx-3435429025{border:1px solid var(--accent-negative-default);}",".ahead-overlay.jsx-3435429025{margin-bottom:15px;position:relative;}",".changed-files-list.jsx-3435429025{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".show-all-button.jsx-3435429025{border:none;background-color:var(--background-default);color:var(--foreground-default);cursor:pointer;font-size:12px;outline:0 none;-webkit-text-decoration:underline;text-decoration:underline;}"]}),E&&(0,qe.tZ)(gt,{branch:n,commitsAhead:c}),!j&&E&&(0,qe.tZ)("div",{className:"jsx-3435429025 ahead-overlay",children:(0,qe.tZ)(bt,{disabled:!1,onClick:f})}),j&&(0,qe.BX)("div",{className:"jsx-3435429025 commit-author-box",children:[(0,qe.tZ)("textarea",{required:!0,name:"commitAuthorInput",disabled:0===r.length,placeholder:a.length>0?"What did you change?":"What did you add?",value:h,onChange:function(e){m(e.target.value),v(""===e.target.value)},onKeyDown:function(e){(0,ft.b)(e),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&Z()},className:"jsx-3435429025 "+((b?"invalid":"")||"")}),(0,qe.tZ)(bt,{onClick:Z,disabled:0===r.length})]}),(0,qe.tZ)(mt,{changedFiles:r}),(0,qe.BX)("div",{className:"jsx-3435429025 changed-files-list",children:[k.map((function(e){return(0,qe.tZ)(ht,{file:e,handleChangedFileClick:l,active:Boolean(t)&&t.endsWith(e.targetPath)},e.targetPath)})),r.length>3&&(0,qe.tZ)("button",{onClick:function(){return w(!y)},className:"jsx-3435429025 show-all-button",children:y?"show fewer":"show all"})]})]}):(0,qe.BX)("div",{className:"jsx-3840805937 no-changes-banner",children:[(0,qe.tZ)(i.default,{id:"3840805937",children:[".no-changes-banner.jsx-3840805937{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;background:var(--background-root);border-radius:2.5px;}",".small.jsx-3840805937{color:var(--foreground-dimmer);padding:15px;text-align:center;width:100%;font-size:14px;}"]}),(0,qe.tZ)("p",{className:"jsx-3840805937 small",children:"Your file changes will appear here."})]})},xt=n(36502),yt=function(e){var t=e.children;return(0,qe.BX)("div",{"data-testid":"git-commit-item",className:"jsx-832622158 commit-item",children:[(0,qe.tZ)(i.default,{id:"832622158",children:[".commit-item.jsx-832622158{display:block;position:relative;-webkit-transition:0.1s all;transition:0.1s all;}",".commit-item.jsx-832622158:first-child .git-graph-shape.jsx-832622158::before{background:linear-gradient( to bottom, transparent, var(--foreground-dimmer) 20px, var(--foreground-dimmer) 100% );}",".commit-item.jsx-832622158:last-child .git-graph-shape.jsx-832622158::before{height:20px;}",".git-graph-shape.jsx-832622158{position:absolute;top:0;bottom:0;left:0;background-color:transparent;}",".git-graph-shape.jsx-832622158::before{content:'';display:block;position:absolute;top:0;bottom:0;height:calc(100% + 10px);width:1px;left:6px;background:var(--foreground-dimmer);}",".git-graph-shape.jsx-832622158::after{content:'';display:block;width:11px;height:11px;border:1px solid var(--foreground-dimmer);border-radius:50%;background-color:var(--background-default);position:absolute;top:20px;left:0;-webkit-transition:0.1s all;transition:0.1s all;}",".commit-item.jsx-832622158:hover .git-graph-shape.jsx-832622158::after{background-color:var(--foreground-default);border-color:1px solid var(--foreground-default);}"]}),(0,qe.tZ)("div",{className:"jsx-832622158 git-graph-shape"}),t]})},wt=function(e){var t=e.commit,n=e.handleRevertToCommit,r=e.displayTimeSinceUnix,o=e.gitHubLink,a=e.isLoggedIn;return(0,qe.BX)(yt,{children:[(0,qe.tZ)(i.default,{id:"2054372841",children:[".wrapper.jsx-2054372841{border:1px solid var(--foreground-dimmer);border-radius:2.5px;padding:10px 8px;margin:0 0 10px 24px;color:var(--foreground-dimmer);}",".wrapper.jsx-2054372841:hover{background-color:var(--background-root);border:1px solid var(--foreground-dimmer);color:var(--foreground-default);}",".commit-hash.jsx-2054372841{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:'Menlo','Monaco',monospace;margin-bottom:6px;font-size:14px;}",".author.jsx-2054372841{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-default);}",".author-name.jsx-2054372841,.author-email.jsx-2054372841{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".author-email.jsx-2054372841{max-width:150px;margin-bottom:6px;font-size:12px;color:var(--foreground-dimmer);}",".commit-hash.jsx-2054372841{color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}","button.jsx-2054372841,.github-link.jsx-2054372841{visibility:hidden;}",".wrapper.jsx-2054372841:hover button.jsx-2054372841,.wrapper.jsx-2054372841:hover .github-link.jsx-2054372841{visibility:visible;background:transparent;color:var(--foreground-default);}","button.jsx-2054372841{cursor:pointer;padding:6px;border:1px solid transparent;border-radius:2.5px;}",".github-link.jsx-2054372841{display:inline-block;height:16px;width:16px;margin-left:6px;background-color:var(--foreground-default);}"]}),(0,qe.BX)("div",{className:"jsx-2054372841 wrapper",children:[(0,qe.tZ)(kt,{message:t.message}),(0,qe.tZ)("div",{className:"jsx-2054372841 author",children:(0,qe.BX)("div",{title:"commit.authorName",className:"jsx-2054372841 author-name",children:[t.authorName," \u2022"," ",(0,xt.Z)(t.authorDate,r,{addSuffix:!0})]})}),(0,qe.tZ)("div",{title:t.authorEmail,className:"jsx-2054372841 author-email",children:t.authorEmail}),(0,qe.BX)("div",{title:t.hash,className:"jsx-2054372841 commit-hash",children:[t.hash.substr(0,9),null!==o&&(0,qe.tZ)("a",{href:o,target:"_blank",rel:"noopener noreferer",title:"see on GitHub",className:"jsx-2054372841 github-link",children:(0,qe.tZ)(Qe.GitHub,{})})]}),a&&(0,qe.tZ)(Ge.Z,{filled:!1,border:!1,color:"orange",size:"small",onClick:function(){return n(t)},children:"revert to here"})]})]})},kt=function(e){var t=e.message,n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return(0,qe.tZ)("p",{children:e},e)})),r=(0,o.useState)(!1),a=r[0],c=r[1];return(0,qe.BX)("div",{className:"jsx-2757866923 commit-message",children:[(0,qe.tZ)(i.default,{id:"2757866923",children:[".commit-message.jsx-2757866923{margin-bottom:10px;}",".commit-message p{color:var(--foreground-default);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:2px;}",".more-link.jsx-2757866923{font-size:14px;}"]}),a?(0,m.Z)(n):(0,qe.tZ)("p",{className:"jsx-2757866923",children:[t.split("\n")[0]," "]}),a&&(0,qe.tZ)("a",{href:"#",onClick:function(){return c(!1)},className:"jsx-2757866923 more-link",children:"see less"},"more"),!a&&n.length>1&&(0,qe.tZ)("a",{href:"#",onClick:function(){return c(!0)},className:"jsx-2757866923 more-link",children:"see more"},"more")]})},Zt=function(e){var t=e.gitState,n=e.handleRevertToCommit,r=e.fetchMoreCommits,a=e.isLoggedIn,c=t.commits[t.commits.length-1],s=c&&""!==c.parentHash?(0,qe.tZ)(yt,{children:(0,qe.tZ)(Ge.Z,{onClick:r,style:{margin:"8px 6px 12px 24px"},children:"load more commits"})},"loadmore"):null,l=(0,o.useState)(Date.now()),u=l[0],d=l[1];(0,o.useEffect)((function(){d(Date.now())}),[t.commits]);var f=t.commitsAhead||0;return(0,qe.BX)(qe.HY,{children:[t.commits.length>0&&(0,qe.BX)("h2",{className:"jsx-1351761346",children:[(0,qe.tZ)(i.default,{id:"1351761346",children:["h2.jsx-1351761346{color:var(--foreground-default);font-size:18px;font-weight:unset;overflow:hidden;margin:30px 0 10px 0;text-overflow:ellipsis;white-space:nowrap;position:relative;}"]}),"Previous Commits"]}),(0,qe.BX)("div",{className:"jsx-2485996811 commit-list-section",children:[(0,qe.tZ)(i.default,{id:"2485996811",children:[".commit-list-section.jsx-2485996811{height:100%;}",".commit-list-wrapper.jsx-2485996811{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".commit-list.jsx-2485996811{width:100%;margin-top:10px;}"]}),(0,qe.tZ)("div",{className:"jsx-2485996811 commit-list-wrapper",children:t.commits.length>0&&(0,qe.BX)("ul",{className:"jsx-2485996811 commit-list",children:[t.commits.map((function(e,r){return(0,qe.tZ)(wt,{handleRevertToCommit:n,commit:e,displayTimeSinceUnix:u,gitHubLink:""!==t.remote&&r>=f?(i=t.remote,o=e.hash,"".concat(i,"/commit/").concat(o)):null,isLoggedIn:a},e.hash);var i,o})),s]})})]})]})},jt=n(71371),Et=n(10219),Ot=["checked","block","center","children"];function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){var t=e.checked,n=e.block,r=e.center,o=e.children,a=(0,Et.Z)(e,Ot);return(0,qe.BX)("button",St(St({},a),{},{className:"jsx-1333750560 "+(l()(a.className,{checked:t,block:n,center:r})||""),children:[(0,qe.tZ)("div",{className:"jsx-1333750560 radio"}),o?(0,qe.tZ)("div",{className:"jsx-1333750560 content",children:o}):null,(0,qe.tZ)(i.default,{id:"1333750560",children:["button.jsx-1333750560{font-size:inherit;color:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0 none;background-color:transparent;border-radius:var(--border-radius-4);-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".block.jsx-1333750560{width:100%;}",".center.jsx-1333750560{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","button.jsx-1333750560:focus{outline:none;}",".radio.jsx-1333750560{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:12px;width:12px;border-radius:50%;background-color:transparent;border:1.5px solid var(--foreground-dimmer);}",".checked.jsx-1333750560 .radio.jsx-1333750560{border:none;background-color:var(--accent-primary-default);}",".content.jsx-1333750560{margin-left:10px;}"]})]}))},Nt=n(60356),Tt=function(e){var t=e.avatarUrl,n=e.login;return(0,qe.BX)("div",{className:"jsx-3521536340 gitHubInfo",children:[(0,qe.tZ)(i.default,{id:"3521536340",children:[".gitHubInfo.jsx-3521536340{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;text-overflow:ellipsis;}",".gitHubInfo-avatar.jsx-3521536340{height:36px;width:36px;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:5px;}",".gitHubInfo-login.jsx-3521536340{padding:5px;overflow:hidden;text-overflow:ellipsis;}"]}),(0,qe.tZ)("img",{src:t,className:"jsx-3521536340 gitHubInfo-avatar"}),(0,qe.tZ)("div",{className:"jsx-3521536340 gitHubInfo-login",children:n})]})},_t=function(e){var t=e.authToken,n=e.onClose,s=e.pud,l=e.successHandler,d=e.wid,h=(0,Nt.Z)(),m=(0,a.Xah)({variables:{replId:h}}),b=m.data;if(m.loading)return null;if("Repl"!==(null===b||void 0===b?void 0:b.repl.__typename))return(0,qe.tZ)(Ke.Z,{onRequestClose:n,isOpen:!0,children:(0,qe.BX)("div",{className:"jsx-1364931841 container",children:[(0,qe.tZ)("p",{className:"jsx-1364931841",children:"Something went wrong. Please try again later."}),(0,qe.tZ)(i.default,{id:"1364931841",children:[".container.jsx-1364931841{font-size:1rem;width:510px;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--foreground-default);}"]})]})});var x=b.repl,y=o.useState(!1),k=(0,r.Z)(y,2),Z=k[0],j=k[1],E=o.useState(x.isPrivate),O=(0,r.Z)(E,2),C=O[0],S=O[1],P=o.useState(null),N=(0,r.Z)(P,2),T=N[0],_=N[1],I=(0,c.I0)(),D=(0,c.v9)((function(e){return(0,p.Z)(e,d,s,"git")})).gitState,R=(0,tt.Y)(x.isRenamed?x.title:"",(function(e){return e&&e.length>100?{message:"* GitHub repository names cannot exceed 100 characters"}:e?void 0:{message:"* Repository name is required"}})),A=(0,tt.Y)((x.description||"").replace(/(\r\n|\n|\r)/gm," "),(function(e){if(e&&e.length>140)return{message:"* GitHub descriptions cannot exceed 140 characters"}})),B=function(){var e=(0,g.Z)(v().mark((function e(n){var r,i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(null),n.preventDefault(),j(!0),r=R.validate(),i=A.validate(),!r&&!i){e.next=8;break}return j(!1),e.abrupt("return");case 8:return o={name:R.value,description:A.value,private:C},e.prev=9,e.next=12,ke({token:t,repoData:o,owner:U.value,ownerType:U.type});case 12:a=e.sent,l(a.html_url),(0,w.track)(w.events.GITHUB_API_REPO_CREATION_SUCCESS),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),e.t0 instanceof xe?I({type:"UPDATE_GIT_STATE",wid:d,pud:s,updates:{authError:f.GITHUB_CREATE}}):(jt.$e((function(t){t.setTag("source","git"),jt.Tb(e.t0)})),_("Unable to create a GitHub repository"));case 20:j(!1);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),L=!(!R.error&&!A.error),X=D.installations,F=X.find((function(e){return"User"===e.type}))||X[0],M=o.useState({value:F.name,label:F.name,avatar:F.avatarUrl,type:F.type}),H=(0,r.Z)(M,2),U=H[0],z=H[1],G=X.filter((function(e){return e.name!==U.value})).map((function(e){return{value:e.name,label:e.name,avatar:e.avatarUrl,type:e.type}}));return(0,qe.tZ)(Ke.Z,{onRequestClose:n,isOpen:!0,children:(0,qe.BX)("div",{className:"jsx-1870282180 container",children:[(0,qe.BX)("form",{onSubmit:B,style:{width:"90%",opacity:Z?.6:1},autoComplete:"off",className:"jsx-1870282180",children:[(0,qe.tZ)("div",{className:"jsx-1870282180 section",children:(0,qe.BX)("div",{className:"jsx-1870282180",children:[(0,qe.tZ)(u.Z,{align:"center",level:4,children:"Create a new GitHub repository"}),(0,qe.tZ)(at.Z,{align:"center",foreground:2,children:"You can always edit this information on github"})]})}),(0,qe.BX)("div",{className:"jsx-1870282180 section",children:[(0,qe.tZ)(et.Z,{}),(0,qe.tZ)($e.ZP,{options:G,optionRenderer:function(e){return(0,qe.tZ)(Tt,{avatarUrl:e.avatar,login:e.label||""})},disabled:X.length<=1,value:U,valueRenderer:function(e){return(0,qe.tZ)(Tt,{avatarUrl:e.avatar,login:e.label||""})},onChange:function(e){z(e)},searchable:!1,style:{height:"48px"},clearable:!1}),(0,qe.tZ)("span",{className:"jsx-1870282180 slash",children:" / "}),(0,qe.tZ)(rt.ZP,{ref:R.ref,name:"title",autoComplete:"off",placeholder:"repo name (required)",disabled:Z,value:R.value,onChange:function(e){R.setValue(e.currentTarget.value),_(null)},onFocus:function(e){return e.target.select()},onBlur:R.handleBlur,validationResults:R.error?[{message:R.error.message,state:"error"}]:void 0})]}),(0,qe.tZ)("div",{className:"jsx-1870282180 section",children:(0,qe.tZ)(rt.ZP,{name:"description",value:A.value,disabled:Z,placeholder:A.value||"Add repo description (optional)",onChange:function(e){A.setValue(e.target.value),_(null)},onBlur:A.handleBlur,validationResults:A.error?[{message:A.error.message,state:"error"}]:void 0})}),(0,qe.BX)("div",{className:"jsx-1870282180 privacy section",children:[(0,qe.tZ)("h3",{className:"jsx-1870282180",children:"GitHub privacy"}),(0,qe.BX)("div",{className:"jsx-1870282180 privacy-radio",children:[(0,qe.tZ)(Pt,{checked:!C,type:"button",id:"public",onClick:function(){return S(!1)}}),(0,qe.tZ)("div",{className:"jsx-1870282180 privacy-icon",children:(0,qe.tZ)(Qe.GitHubPublic,{})}),(0,qe.BX)("div",{className:"jsx-1870282180 privacy-info",children:[(0,qe.tZ)("label",{className:"jsx-1870282180",children:"Public"}),(0,qe.tZ)(at.Z,{foreground:2,tag:"div",size:"small",children:"Anyone can see this repo, you choose who can commit"})]})]}),(0,qe.BX)("div",{className:"jsx-1870282180 privacy-radio",children:[(0,qe.tZ)(Pt,{checked:C,type:"button",id:"private",onClick:function(){return S(!0)}}),(0,qe.tZ)("div",{className:"jsx-1870282180 privacy-icon private",children:(0,qe.tZ)(Qe.GitHubPrivate,{})}),(0,qe.BX)("div",{className:"jsx-1870282180 privacy-info",children:[(0,qe.tZ)("label",{className:"jsx-1870282180",children:"Private"}),(0,qe.tZ)(at.Z,{foreground:2,tag:"div",size:"small",children:"you choose who can see and commit to this repo"})]})]})]}),(0,qe.tZ)("div",{className:"jsx-1870282180 create section",children:(0,qe.tZ)(Ge.Z,{size:"large",color:"primary",disabled:Z||L,type:"submit","data-testid":"git-confirm-github-repo",children:Z?"Creating...":"Create GitHub repository"})}),(0,qe.tZ)("div",{className:"jsx-1870282180 creation-error",children:T&&(0,qe.BX)("span",{className:"jsx-1870282180",children:[T,(0,qe.tZ)("br",{className:"jsx-1870282180"}),"Let us know if there is an issue by opening up the sidebar and submitting a ticket via the get help button"]})})]}),(0,qe.tZ)(i.default,{id:"1870282180",children:[".container.jsx-1870282180{font-size:1rem;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--foreground-default);}",".section.jsx-1870282180{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}",".section.create.jsx-1870282180{padding-bottom:0;}",".section.privacy.jsx-1870282180{color:var(--foreground-default);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".section.privacy.jsx-1870282180 h3.jsx-1870282180{margin-bottom:10px;font-weight:normal;}",".privacy-radio.jsx-1870282180{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding:3px;width:100%;}",".privacy-icon.jsx-1870282180{margin-left:10px;width:24px;height:32px;}",".privacy-icon.jsx-1870282180{color:var(--foreground-dimmer);}",".privacy-icon.private.jsx-1870282180{color:var(--remove-color-gold-light);}",".privacy-info.jsx-1870282180{margin-left:10px;}",".Select{width:100%;}",".slash.jsx-1870282180{color:var(--foreground-default);margin:5px;}",".creation-error.jsx-1870282180{line-height:1.3;padding-top:20px;margin:0 10px;height:40px;color:var(--accent-negative-default);}"]})]})})};function It(e){var t=e.wid,n=e.pud,a=e.gitState,s=(0,c.I0)(),l=function(){s({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{hasConflictsWithFetchedRemote:!1}})},u=o.useState(null),d=(0,r.Z)(u,2),f=d[0],p=d[1],h=o.useState(!0),m=(0,r.Z)(h,2),g=m[0],b=m[1],v="Confirm",x=["conflictChoices"];return"repl"===f?(x.push("chosen-repl"),v="Confirm keep Replit"):"remote"===f&&(x.push("chosen-remote"),v="Confirm overwrite from GitHub"),g||x.push("invalid"),(0,qe.BX)(Ke.Z,{isOpen:!0,onRequestClose:l,children:[(0,qe.tZ)(i.default,{id:"3136459610",children:[".resolveConflictModal.jsx-3136459610{max-width:600px;padding:20px 24px;background:var(--background-default);color:var(--foreground-default);}","h2.jsx-3136459610{margin-bottom:16px;}","p.jsx-3136459610{margin-bottom:24px;line-height:1.4em;}",".conflictChoices.jsx-3136459610{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".conflictPreference.jsx-3136459610{width:48%;border:1px solid var(--foreground-default);cursor:pointer;border-radius:3px;overflow:hidden;-webkit-transition:-webkit-transform 0.2s;-webkit-transition:transform 0.2s;transition:transform 0.2s;}",".conflictPreference.jsx-3136459610:hover{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px);}",".conflictPreference.jsx-3136459610 .header.jsx-3136459610{padding:8px 12px;font-weight:bold;background:var(--background-root);}",".conflictPreference.jsx-3136459610 .body.jsx-3136459610{padding:8px 12px;line-height:1.4em;}",".chosen-repl.jsx-3136459610 .replPreference.jsx-3136459610 .header.jsx-3136459610,.chosen-remote.jsx-3136459610 .remotePreference.jsx-3136459610 .header.jsx-3136459610{color:var(--background-default);background:var(--foreground-default);}",".chosen-repl.jsx-3136459610 .remotePreference.jsx-3136459610,.chosen-remote.jsx-3136459610 .replPreference.jsx-3136459610{border-color:var(--foreground-dimmer);}",".buttonGroup.jsx-3136459610{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"]}),(0,qe.BX)("div",{className:"jsx-3136459610 resolveConflictModal",children:[(0,qe.tZ)("h2",{className:"jsx-3136459610",children:"Conflicting changes"}),(0,qe.BX)("p",{className:"jsx-3136459610",children:["There are changes from the remote (",(0,qe.tZ)("a",{href:a.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-3136459610",children:a.remote}),") that have been made since your changes on Replit that conflict with each other. Which version would you like to keep?"]}),(0,qe.BX)("div",{className:"jsx-3136459610 "+(x.join(" ")||""),children:[(0,qe.BX)("div",{onClick:function(){return p("remote")},className:"jsx-3136459610 remotePreference conflictPreference",children:[(0,qe.tZ)("div",{className:"jsx-3136459610 header",children:"Keep version on GitHub"}),(0,qe.tZ)("div",{className:"jsx-3136459610 body",children:"Permanently delete any changes in your Repl that are not on GitHub."})]}),(0,qe.BX)("div",{onClick:function(){return p("repl")},className:"jsx-3136459610 replPreference conflictPreference",children:[(0,qe.tZ)("div",{className:"jsx-3136459610 header",children:"Keep version on Replit"}),(0,qe.tZ)("div",{className:"jsx-3136459610 body",children:"Permanently delete any changes in your GitHub repository that are not on Replit"})]})]}),(0,qe.BX)("div",{className:"jsx-3136459610 buttonGroup",children:[(0,qe.tZ)(Ge.Z,{style:{marginLeft:"8px"},onClick:l,children:"Cancel"}),(0,qe.tZ)(Ge.Z,{color:"negative",style:{marginLeft:"8px"},onClick:function(){null!==f?(s(Pe({write:!0,prefer:f,wid:t,pud:n})),l()):b(!1)},children:v})]})]})]})}function Dt(e){var t=e.actionDescription,n=e.onConfirm,r=e.onCancel,o={marginLeft:8};return(0,qe.BX)("div",{className:"jsx-642987022 gitRevertConfirmModal",children:[(0,qe.tZ)(i.default,{id:"642987022",children:[".gitRevertConfirmModal.jsx-642987022{max-width:600px;padding:20px 24px;background:var(--background-default);color:var(--foreground-default);}","h2.jsx-642987022{margin-bottom:16px;}","p.jsx-642987022{margin-bottom:24px;line-height:1.4em;}",".buttonGroup.jsx-642987022{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]}),(0,qe.tZ)("h2",{className:"jsx-642987022",children:"Overwrite existing changes?"}),(0,qe.BX)("p",{className:"jsx-642987022",children:["You have some changes that are not committed yet. ",t," ","will overwrite any un-committed changes. Overwrite and continue?"]}),(0,qe.BX)("div",{className:"jsx-642987022 buttonGroup",children:[(0,qe.tZ)(Ge.Z,{style:o,onClick:r,autoFocus:!0,children:"Cancel"}),(0,qe.tZ)(Ge.Z,{color:"negative",style:o,onClick:n,children:"Overwrite and continue"})]})]})}var Rt=function(e){var t=e.wid,n=e.pud,a=e.isLoading,s=e.isNarrow,l=e.currentUser,u=e.refetchUser,d=(0,c.I0)(),h=(0,Ve.Z)(),m=(0,p.J)(t,n,"git"),b=(0,r.Z)(m,1)[0].gitState;function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,i=void 0!==r&&r,o=e.write,a=void 0!==o&&o,c=e.persist,s=void 0!==c&&c;d(Pe({history:i,write:a,persist:s,wid:t,pud:n}))}function y(e,r){return d(Se({cmd:e,args:r,wid:t,pud:n}))}var w=b.hasConflictsWithFetchedRemote&&(0,qe.tZ)(It,{wid:t,pud:n,gitState:b}),k=o.useState(null),Z=(0,r.Z)(k,2),j=Z[0],E=Z[1],O=null!==j&&(0,qe.tZ)(Ke.Z,{isOpen:!0,onRequestClose:function(){return E(null)},children:(0,qe.tZ)(Dt,{actionDescription:"Reverting to this previous version",onConfirm:(0,g.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(null),y(ae),y(re,[j.hash]),x({persist:!0});case 4:case"end":return e.stop()}}),e)}))),onCancel:function(){return E(null)}})}),C=o.useState(null),S=(0,r.Z)(C,2),P=S[0],N=S[1],T=null!==P&&(0,qe.tZ)(Ke.Z,{isOpen:!0,onRequestClose:function(){return N(null)},children:(0,qe.tZ)(Dt,{actionDescription:"Checking out branch ".concat(P),onConfirm:(0,g.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),y(ae),e.next=4,y(ee,[P]);case 4:x({persist:!0});case 5:case"end":return e.stop()}}),e)}))),onCancel:function(){return N(null)}})});function _(){return(_=(0,g.Z)(v().mark((function e(n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_REVERTED",wid:t}),!(b.changedFiles.length>0)){e.next=4;break}return E(n),e.abrupt("return");case 4:y(re,[n.hash]),x({persist:!0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=(0,g.Z)(v().mark((function e(n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==b.branch){e.next=2;break}return e.abrupt("return");case 2:if(d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CHECKOUT",wid:t}),!(b.changedFiles.length>0&&b.branches.includes(n))){e.next=6;break}return N(n),e.abrupt("return");case 6:return e.next=8,y(ee,[n]);case 8:x({persist:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=o.useState(!1),R=(0,r.Z)(D,2),A=R[0],B=R[1];return(0,qe.BX)(qe.HY,{children:[l?(0,qe.BX)(qe.HY,{children:[(0,qe.tZ)(dt,{gitState:b,isLoading:a,pull:function(){d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_PULLED",wid:t}),x({history:!0})},setGithubCreationModalOpen:function(){b.remoteToken&&b.installations.length>0?B(!0):d({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{authError:f.GITHUB_GET_INFO}})}}),(0,qe.tZ)(st,{isLoading:a,gitState:b,wid:t,checkoutBranch:function(e){return I.apply(this,arguments)},isNarrow:s}),(0,qe.tZ)(vt,{branch:b.branch,changedFiles:b.changedFiles,commits:b.commits,isLoading:a,commitsAhead:b.commitsAhead,commitsBehind:b.commitsBehind,activeFile:h||"",handleChangedFileClick:function(e){d({type:"OPEN_FILE",path:e,wid:t})},gitCommit:function(){var e=(0,g.Z)(v().mark((function e(n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_COMMITTED",wid:t}),e.next=3,y($);case 3:return e.next=5,y(Q,[n,l]);case 5:x({write:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gitPush:function(){x({write:!0})}})]}):(0,qe.BX)("div",{className:"jsx-1826746790 sign-up",children:[(0,qe.tZ)("a",{href:"/signup",className:"jsx-1826746790",children:" create an account"}),(0,qe.tZ)("div",{className:"jsx-1826746790",children:"to use version control with Replit!"})]}),(0,qe.tZ)(Zt,{gitState:b,handleRevertToCommit:function(e){return _.apply(this,arguments)},fetchMoreCommits:function(){b.remote&&y(H,[!0]),y(J,[!0])},isLoggedIn:Boolean(l)}),O,T,w,b.authError!==f.NONE&&(0,qe.tZ)(Je,{wid:t,pud:n,repoId:b.repoId,ownerId:b.ownerId,authError:b.authError,onAuth:u}),A&&(0,qe.tZ)(_t,{authToken:b.remoteToken,onClose:function(){return B(!1)},successHandler:function(e){d(function(e){var t=e.remote,n=e.wid,r=e.pud;return function(){var e=(0,g.Z)(v().mark((function e(i){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){return i(Se({cmd:e,args:t,wid:n,pud:r}))},e.next=3,o(Y,[t]);case 3:return e.next=5,o(q);case 5:return e.next=7,o(M);case 7:return e.next=9,i({type:"GITHUB_REPOSITORY_CREATED",wid:n,pud:r});case 9:return e.next=11,i(Pe({wid:n,pud:r,persist:!0}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({wid:t,pud:n,remote:e})),B(!1)},wid:t,pud:n}),(0,qe.tZ)(i.default,{id:"1826746790",children:[".sign-up.jsx-1826746790{padding:10px;text-align:center;}"]})]})},At=n(30448),Bt=n(35511),Lt=function(e){var t=e.onInit,n=e.isLoggedIn;return(0,qe.BX)("div",{className:"jsx-3846798690 git-empty",children:[(0,qe.BX)("div",{className:"jsx-3846798690",children:["Track and rollback changes to your repl."," ",(0,qe.tZ)("a",{href:"https://replit.com/talk/learn/Replit-Git-Tutorial/23331/",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),(0,w.track)(w.events.GIT_CLIENT_WHAT_IS_GIT_CLICKED),window.open(e.target.href,"_blank")},className:"jsx-3846798690 learn-link",children:"Learn more here"}),(0,qe.tZ)("div",{className:"jsx-3846798690 ctas",children:n?(0,qe.BX)(qe.HY,{children:[(0,qe.tZ)(Ge.Z,{color:"primary",filled:!0,onClick:t,children:"Create a Git Repo"}),(0,qe.tZ)(At.Z,{activeTab:Bt.m.GitHub,children:(0,qe.tZ)("a",{className:"jsx-3846798690",children:"Existing git repository?"})})]}):(0,qe.BX)("div",{className:"jsx-3846798690 sign-up",children:[(0,qe.tZ)("a",{href:"/signup",className:"jsx-3846798690",children:" create an account"})," to use version control with Replit!"]})})]}),(0,qe.tZ)("div",{className:"jsx-3846798690",children:(0,qe.tZ)("img",{src:"/public/images/gitart.png",className:"jsx-3846798690"})}),(0,qe.tZ)(i.default,{id:"3846798690",children:[".git-empty.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:100%;padding:10px;max-width:250px;margin:0 auto;}",".learn-link.jsx-3846798690{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;}",".ctas.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:40px 0;}",".ctas.jsx-3846798690>a.jsx-3846798690{margin-top:12px;text-align:center;}","img.jsx-3846798690{width:100%;max-width:200px;}"]})]})},Xt=n(66102),Ft=n(48399),Mt=n(26331);function Ht(e){var t=e.wid,n=e.pud,s=e.style,d=e.dimensions,f=(0,c.I0)(),m=(0,o.useState)(!1),b=m[0],x=m[1],y=(0,p.J)(t,n,"git"),w=(0,r.Z)(y,1)[0],k=w.gitState,Z=w.isLoading,j=w.isCloneInProgress,E=(0,a.X27)({notifyOnNetworkStatusChange:!0,onCompleted:function(e){var r,i,o,a,c=e.currentUser;null!==c&&void 0!==c&&null!==(r=c.gitHubInfo)&&void 0!==r&&r.accessToken&&f({type:"UPDATE_GIT_STATE",updates:{remoteToken:c.gitHubInfo.accessToken,gitHubName:null===(i=c.gitHubInfo.userInfo)||void 0===i?void 0:i.name,gitHubEmail:null===(o=c.gitHubInfo.userInfo)||void 0===o?void 0:o.email,gitHubAvatarUrl:null===(a=c.gitHubInfo.userInfo)||void 0===a?void 0:a.avatarUrl,installations:c.gitHubInfo.installations},wid:t,pud:n})}}),O=E.data,C=E.loading,S=E.refetch;(0,o.useEffect)((function(){if(d){var e=window.document.getElementById(Ft.b);if(!e)throw new Error("Couldn't find workspace root");var t=d.w,n=e.clientWidth*(t.pc/100)+t.px;n<=210&&!b?x(!0):n>210&&b&&x(!1)}}),[d,b]);var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.useState)(t),r=n[0],i=n[1],a=(0,o.useRef)();return(0,o.useEffect)((function(){return a.current&&clearTimeout(a.current),a.current=setTimeout((function(){i(e)}),250),function(){a.current&&clearTimeout(a.current)}}),[e]),[r||e,i]}(Z||C,!0),N=(0,r.Z)(P,2),T=N[0],_=N[1];(0,o.useEffect)((function(){return f({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_SIDEBAR_OPENED",wid:t}),j||C||(_(!0),f(Pe({history:!1,write:!1,persist:!1,wid:t,pud:n}))),f({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!0,wid:t}),function(){f({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!1,wid:t})}}),[C]);var I=null;return I=C||T&&!k.isInitialized?(0,qe.tZ)(h.Z,{style:{margin:"10px auto",width:"35px",height:"35px"}}):k.remote||k.isInitialized?(0,qe.tZ)(Rt,{wid:t,pud:n,isLoading:T,isNarrow:b,currentUser:null===O||void 0===O?void 0:O.currentUser,refetchUser:S}):(0,qe.tZ)(Lt,{isLoggedIn:Boolean(null===O||void 0===O?void 0:O.currentUser),onInit:function(){f(function(e,t){return function(){var n=(0,g.Z)(v().mark((function n(r,i){var o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(n,i){return r(Se({cmd:n,args:i,wid:e,pud:t}))},r({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_LOCAL_INIT",wid:e}),n.next=4,o(L,[i().user.userInfo]);case 4:return n.next=6,r(Te(e,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))}}),(0,qe.BX)("div",{style:s,className:"jsx-1311771754 gitSidebar",children:[(0,qe.tZ)(i.default,{id:"1311771754",children:[".gitSidebar.jsx-1311771754{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:150px;padding:var(--space-8);background-color:var(--background-default);color:var(--foreground-default);border-top-right-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);}",".gitSidebar-header.jsx-1311771754{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--space-32);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".git-content-scroll-wrapper.jsx-1311771754{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;}",".git-content-wrapper.jsx-1311771754{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%;}",".git-content-wrapper.is-loading.jsx-1311771754{opacity:0.5;pointer-events:none;}"]}),(0,qe.BX)("div",{className:"jsx-1311771754 gitSidebar-header",children:[(0,qe.tZ)(u.Z,{truncate:!0,level:4,children:"Version control"}),(0,qe.tZ)(Xt.Z,{link:"https://replit.canny.io/admin/board/feedback/p/github-integration-feedback"})]}),(0,qe.tZ)(Mt.Z,{height:1}),(0,qe.tZ)("div",{className:"jsx-1311771754 git-content-scroll-wrapper",children:(0,qe.tZ)("div",{className:"jsx-1311771754 "+(l()("git-content-wrapper",{"is-loading":T})||""),children:I})}),(0,qe.tZ)(Ut,{})]})}function Ut(){return(0,qe.BX)("div",{className:"jsx-3382552698 gitSidebar-footer",children:[(0,qe.tZ)(i.default,{id:"3382552698",children:[".gitSidebar-footer.jsx-3382552698{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:6px 12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;background-color:var(--background-root);color:var(--foreground-dimmer);font-size:13px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".gitSidebar-footer.jsx-3382552698 .feedbackLink.jsx-3382552698{text-align:right;}"]}),(0,qe.tZ)("a",{href:"https://replit.com/talk/announcements/Feedback-for-git-support-the-new-GitHub-integration/21631",target:"_blank",rel:"noopener",className:"jsx-3382552698 feedbackLink",children:"Send feedback"})]})}}}]);
//# sourceMappingURL=1331-ea45cac96f0a3adc5d10.js.map